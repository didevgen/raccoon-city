{"version":3,"sources":["../../src/SelectableGroup.tsx","../../../src/utils/castTouchToMouseEvent.ts","../../../src/utils/detectMouseButton.ts","../../../src/utils/doObjectsCollide.ts","../../../src/utils/getBoundsForNode.ts","../../../src/utils/nodeInRoot.ts","../../src/Selectbox.tsx","../../src/CreateSelectable.tsx","../../src/SelectAll.tsx","../../src/DeselectAll.tsx","../node_modules/@material-ui/icons/Create.js","../node_modules/array-move/index.js","../node_modules/invariant/browser.js","../node_modules/@material-ui/icons/Dehaze.js","../node_modules/@material-ui/icons/DeleteOutline.js","../node_modules/@material-ui/icons/ExpandMore.js","graphql/queries/layoutQuery.ts","graphql/mutations/layoutMutation.ts","components/Main/LayoutChessGrid/ChessGridCell/ChessGridCell.tsx","components/Main/LayoutChessGrid/ChessGridRow/ChessGridRow.tsx","components/Main/LayoutChessGrid/ChessGridColumn/ChessGridColumn.tsx","components/Main/LayoutChessGrid/LayoutChessGrid.tsx","components/Main/LayoutEditor/ChessGridDialog/ChessGridDialog.tsx","components/Main/LayoutEditor/FlatLayoutData/FlatLayoutData.tsx","components/Main/LayoutEditor/Photos/Photos.tsx","components/Main/LayoutEditor/VRImages/VRImages.tsx","components/Main/LayoutEditor/FlatLayoutInfo/FlatLayoutInfo.tsx","components/Main/Images/LayoutDialog/LayoutDialog.tsx","components/Main/LayoutEditor/FlatLayoutCard/FlatLayoutCard.tsx","components/Main/LayoutEditor/FlatLayoutList/FlatLayoutList.tsx","components/Main/LayoutEditor/LayoutEditor.tsx","graphql/queries/levelQuery.ts","components/Main/LevelChessGrid/LevelChessGridRow/LevelChessGridRow.tsx","components/Main/LevelChessGrid/LevelChessGridColumn/LevelChessGridColumn.tsx","components/Main/LevelChessGrid/LevelChessGrid.tsx","components/Main/LevelEditor/LevelEditorDialog/LevelEditorDialog.tsx","components/Main/LevelEditor/FlatLayoutSelectionDialog/FlatLayoutCard/FlatLayoutCard.tsx","components/Main/LevelEditor/FlatLayoutSelectionDialog/FlatLayoutSelectionList/FlatLayoutSelectionList.tsx","components/Main/LevelEditor/FlatLayoutSelectionDialog/FlatLayoutSelectionDialog.tsx","components/Main/LevelEditor/FlatLayoutPreviewDialog/FlatLayoutPreviewDialog.tsx","components/Main/LevelEditor/LevelLayoutSelectionDialog/LevelLayoutSelection.tsx","components/Main/LevelEditor/LevelLayoutSelectionDialog/LevelLayoutSelectionDialog.tsx","components/Main/LevelEditor/index.tsx","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js","graphql/mutations/flatMutation.ts","components/Main/HouseBuilder/HouseEditor/FlatForm/FlatForm.tsx","components/Main/HouseBuilder/HouseEditor/AddFlatCard/AddFlatCard.tsx","components/Main/HouseBuilder/HouseEditor/FlatCard/FlatCard.tsx","components/Main/HouseBuilder/HouseEditor/LevelRepresentation/LevelRepresentation.tsx","components/Main/HouseBuilder/HouseEditor/HouseEditor.tsx","components/Main/HouseBuilder/HouseInfo/MainHouseImages/MainHouseImages.tsx","components/Main/HouseBuilder/HouseInfo/Photos/Photos.tsx","components/Main/HouseBuilder/HouseInfo/VRImages/VRImages.tsx","components/Main/HouseBuilder/HouseInfo/HouseInfo.tsx","components/shared/types/apartmentComplex.types.ts","components/shared/components/tabs/TabPanel.tsx","components/shared/components/dialogs/ConfirmDialog.tsx","graphql/queries/flatQuery.ts","components/shared/components/menus/CardHeaderWithMenu.tsx","../node_modules/@material-ui/icons/Home.js","../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/create-non-enumerable-property.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared-store.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/function-to-string.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/v8-version.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/is-array.js","../../node_modules/core-js/internals/create-property.js","../../node_modules/core-js/internals/native-symbol.js","../../node_modules/core-js/internals/well-known-symbol.js","../../node_modules/core-js/internals/user-agent.js","../../node_modules/core-js/internals/array-method-has-species-support.js","../../node_modules/core-js/modules/es.array.slice.js","../../node_modules/core-js/modules/es.function.name.js","../../node_modules/core-js/internals/object-get-own-property-names-external.js","../../node_modules/core-js/modules/es.object.get-own-property-names.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/core-js/internals/to-object.js","../../node_modules/core-js/internals/object-keys.js","../../node_modules/core-js/internals/object-define-properties.js","../../node_modules/core-js/internals/html.js","../../node_modules/core-js/internals/object-create.js","../../node_modules/core-js/internals/wrapped-well-known-symbol.js","../../node_modules/core-js/internals/define-well-known-symbol.js","../../node_modules/core-js/internals/set-to-string-tag.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/bind-context.js","../../node_modules/core-js/internals/array-species-create.js","../../node_modules/core-js/internals/array-iteration.js","../../node_modules/core-js/modules/es.symbol.js","../../node_modules/core-js/modules/es.symbol.description.js","../../node_modules/core-js/modules/es.symbol.iterator.js","../../node_modules/core-js/internals/add-to-unscopables.js","../../node_modules/core-js/internals/iterators-core.js","../../node_modules/core-js/internals/iterators.js","../../node_modules/core-js/internals/correct-prototype-getter.js","../../node_modules/core-js/internals/object-get-prototype-of.js","../../node_modules/core-js/internals/create-iterator-constructor.js","../../node_modules/core-js/internals/object-set-prototype-of.js","../../node_modules/core-js/internals/a-possible-prototype.js","../../node_modules/core-js/internals/define-iterator.js","../../node_modules/core-js/modules/es.array.iterator.js","../../node_modules/core-js/internals/object-assign.js","../../node_modules/core-js/modules/es.object.assign.js","../../node_modules/core-js/internals/classof.js","../../node_modules/core-js/internals/object-to-string.js","../../node_modules/core-js/modules/es.object.to-string.js","../../node_modules/core-js/internals/freezing.js","../../node_modules/core-js/internals/internal-metadata.js","../../node_modules/core-js/internals/is-array-iterator-method.js","../../node_modules/core-js/internals/get-iterator-method.js","../../node_modules/core-js/internals/call-with-safe-iteration-closing.js","../../node_modules/core-js/internals/iterate.js","../../node_modules/core-js/internals/an-instance.js","../../node_modules/core-js/internals/check-correctness-of-iteration.js","../../node_modules/core-js/internals/inherit-if-required.js","../../node_modules/core-js/internals/redefine-all.js","../../node_modules/core-js/internals/set-species.js","../../node_modules/core-js/internals/collection-strong.js","../../node_modules/core-js/internals/string-multibyte.js","../../node_modules/core-js/internals/collection.js","../../node_modules/core-js/modules/es.set.js","../../node_modules/core-js/modules/es.string.iterator.js","../../node_modules/core-js/internals/dom-iterables.js","../../node_modules/core-js/modules/web.dom-collections.iterator.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../src/utils/methods.js","../../node_modules/core-js/modules/es.array.includes.js","../../node_modules/core-js/internals/regexp-flags.js","../../node_modules/core-js/internals/regexp-exec.js","../../node_modules/core-js/modules/es.regexp.exec.js","../../node_modules/core-js/internals/is-regexp.js","../../node_modules/core-js/internals/not-a-regexp.js","../../node_modules/core-js/internals/correct-is-regexp-logic.js","../../node_modules/core-js/modules/es.string.includes.js","../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../../node_modules/core-js/internals/advance-string-index.js","../../node_modules/core-js/internals/regexp-exec-abstract.js","../../node_modules/core-js/modules/es.string.replace.js","../../node_modules/core-js/internals/whitespaces.js","../../node_modules/core-js/internals/string-trim.js","../../node_modules/core-js/modules/es.string.trim.js","../../src/utils/utils.js","../../node_modules/core-js/internals/forced-string-trim-method.js","../../src/modules/core/namespaces.js","../../src/utils/window.js","../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../src/types/Base.js","../../src/utils/adopter.js","../../src/modules/optional/arrange.js","../../node_modules/core-js/modules/es.array.filter.js","../../node_modules/core-js/internals/sloppy-array-method.js","../../node_modules/core-js/modules/es.array.index-of.js","../../node_modules/core-js/modules/es.array.join.js","../../node_modules/core-js/internals/species-constructor.js","../../node_modules/core-js/modules/es.string.split.js","../../src/modules/core/regex.js","../../src/modules/optional/class.js","../../node_modules/core-js/internals/array-for-each.js","../../node_modules/core-js/modules/web.dom-collections.for-each.js","../../node_modules/core-js/modules/es.array.for-each.js","../../src/modules/optional/css.js","../../src/modules/optional/data.js","../../src/modules/optional/memory.js","../../node_modules/core-js/internals/array-reduce.js","../../node_modules/core-js/modules/es.array.reduce.js","../../src/modules/core/event.js","../../node_modules/core-js/modules/es.array.concat.js","../../node_modules/core-js/modules/es.array.map.js","../../node_modules/core-js/modules/es.date.to-string.js","../../node_modules/core-js/internals/parse-int.js","../../node_modules/core-js/modules/es.parse-int.js","../../node_modules/core-js/modules/es.regexp.to-string.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/types/Color.js","../../node_modules/core-js/modules/es.object.keys.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../node_modules/@babel/runtime/helpers/esm/get.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../node_modules/core-js/modules/es.string.match.js","../../node_modules/core-js/modules/es.number.constructor.js","../../node_modules/core-js/internals/parse-float.js","../../node_modules/core-js/modules/es.parse-float.js","../../src/types/Point.js","../../src/types/Matrix.js","../../src/modules/core/parser.js","../../src/types/Box.js","../../src/types/ArrayPolyfill.js","../../src/types/List.js","../../src/modules/core/selector.js","../../src/types/EventTarget.js","../../src/modules/core/defaults.js","../../src/types/SVGArray.js","../../src/types/SVGNumber.js","../../src/modules/core/attr.js","../../src/elements/Dom.js","../../src/elements/Element.js","../../src/modules/optional/sugar.js","../../node_modules/core-js/modules/es.array.reverse.js","../../node_modules/core-js/modules/es.object.define-properties.js","../../node_modules/core-js/modules/es.object.define-property.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/modules/core/circled.js","../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js","../../src/modules/optional/transform.js","../../src/elements/Shape.js","../../src/elements/Circle.js","../../src/elements/Container.js","../../src/elements/Defs.js","../../src/elements/Ellipse.js","../../src/elements/Stop.js","../../src/modules/core/gradiented.js","../../src/elements/Gradient.js","../../src/elements/Pattern.js","../../src/elements/Image.js","../../src/types/PointArray.js","../../src/modules/core/pointed.js","../../src/elements/Line.js","../../src/elements/Marker.js","../../node_modules/core-js/modules/es.array.sort.js","../../src/animation/Controller.js","../../src/types/PathArray.js","../../src/animation/Morphable.js","../../src/elements/Path.js","../../src/modules/core/poly.js","../../src/elements/Polygon.js","../../src/elements/Polyline.js","../../src/elements/Rect.js","../../node_modules/core-js/modules/es.array.splice.js","../../src/animation/Queue.js","../../src/animation/Animator.js","../../src/animation/Timeline.js","../../src/animation/Runner.js","../../src/elements/Svg.js","../../src/elements/Symbol.js","../../src/modules/core/textable.js","../../src/elements/Text.js","../../src/elements/Tspan.js","../../src/elements/ClipPath.js","../../src/elements/ForeignObject.js","../../src/elements/G.js","../../src/elements/A.js","../../src/elements/Mask.js","../../src/elements/Style.js","../../src/elements/TextPath.js","../../src/elements/Use.js","../../src/main.js","../node_modules/@material-ui/core/esm/ExpansionPanel/ExpansionPanelContext.js","components/shared/components/dropzone/Dropzone.tsx","../node_modules/@material-ui/icons/Close.js","components/Main/Images/ImagePreview/ImagePreview.tsx","../../src/index.ts","../../src/SelectableGroup.context.ts","components/Main/Images/PhotoDialog/PhotoDialog.tsx","components/Main/Images/VRDialog/VRDialog.tsx","components/shared/components/misc/TitleWithEditIcon.tsx","../../../src/utils/index.ts","components/Main/Images/ImageDialog/ImageDialog.tsx","../node_modules/@material-ui/core/esm/Collapse/Collapse.js","../node_modules/@material-ui/core/esm/ExpansionPanelDetails/ExpansionPanelDetails.js","../node_modules/@material-ui/core/esm/ExpansionPanelSummary/ExpansionPanelSummary.js","../node_modules/@material-ui/core/esm/Link/Link.js","../node_modules/@material-ui/core/esm/ExpansionPanel/ExpansionPanel.js","../node_modules/@babel/runtime/helpers/esm/toArray.js"],"names":["this","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","arrayMoveMutate","array","from","to","startIndex","length","item","splice","arrayMove","slice","module","mutate","condition","format","a","b","c","e","f","error","undefined","Error","args","argIndex","replace","name","framesToPop","GET_LAYOUTS","gql","GET_LAYOUT","GET_GROUPED_FLATS_WITH_LAYOUT","GET_LEVEL_LAYOUTS","CREATE_LAYOUT","EDIT_LAYOUT","EDIT_LEVEL_LAYOUT","CREATE_LEVEL_LAYOUT","ASSIGN_FLATS_TO_LAYOUT","ASSIGN_LEVELS_TO_LAYOUT","ASSIGN_FLAT_LAYOUT_TO_LEVEL","ASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT","UNASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT","DELETE_FLAT_LAYOUT","DELETE_LEVEL_LAYOUT","DELETE_FLAT_LAYOUT_TO_LEVEL_LAYOUT","UPLOAD_IMAGE","DELETE_IMAGE","HtmlTooltip","withStyles","theme","tooltip","backgroundColor","color","padding","Tooltip","Cell","styled","div","p","isSelected","isSelecting","TooltipContainer","PriceContainer","AreaContainer","NumberContainer","DataContainer","StyledIcon","ChessGridCell","createSelectable","React","memo","flat","selectableRef","title","className","status","roomAmount","price","area","flatNumber","ref","belongsToLayout","hasLayout","style","fontSize","RowWrapper","RowTitle","StyledEmptyLevel","EmplyLevel","ChessGridRow","props","rowName","flats","map","key","id","ColumnWrapper","ColumnTitle","CellContainer","ChessGridColumn","levels","level","String","Typography","variant","gutterBottom","columnName","ChessGridWrapper","getSelectableGroupRef","window","selectableGroup","LayoutChessGrid","houseId","useParams","houseUuid","useQuery","variables","layoutId","fetchPolicy","loading","data","getChessGridLayout","groupedFlats","clickClassName","enableDeselect","tolerance","deselectOnEsc","allowClickWithoutSelected","ignoreList","onSelectionFinish","selection","onSelect","section","useStyles","makeStyles","appBar","position","marginLeft","spacing","flex","Transition","forwardRef","Slide","direction","ChessGridDialog","classes","useState","open","setOpen","dirty","setDirty","setSelection","useMutation","assignFlats","handleClose","handleSave","refetch","Link","href","onClick","Button","Dialog","fullScreen","onClose","TransitionComponent","AppBar","Toolbar","IconButton","edge","aria-label","disabled","autoFocus","Wrapper","ImageContainer","img","MiscContainer","FlatsContainer","FlatLayoutData","flatLayout","Grid","container","xs","component","src","image","previewImageUrl","alt","ButtonContainer","StyledFab","Fab","NewPhoto","uuid","mode","mutation","PhotoDialog","params","Photos","refetchQueries","query","deleteMutation","alignItems","md","images","ImagePreview","imageUuid","url","downloadUrl","toggle","state","downloadLink","NewVRImage","VRDialog","VRImages","FlatLayouInfo","setValue","getFlatLayout","Tabs","onChange","event","newValue","Tab","label","TabPanel","index","VR","ImageType","HALF_VR","PHOTO","EditorContainer","StyledImage","ResetImage","ChangeImage","onDrop","useDropzone","accept","acceptedFiles","getRootProps","getInputProps","size","LayoutDialog","isEdit","setImage","setName","previewUrl","setPreviewUrl","uploadFile","handleDrop","dropped","reader","FileReader","readAsDataURL","onloadend","result","onSave","file","aria-labelledby","fullWidth","maxWidth","DialogTitle","DialogContent","TextField","margin","target","DialogActions","CircularProgress","thickness","FlatLayoutCard","apartmentComplexUuid","developerUuid","elevation","CardHeaderWithMenu","MenuItem","confirmFn","CardActionArea","imageUrl","apartmentComplexDefaultImage","CardContent","FlatLayoutList","getFlatLayouts","layout","justify","CreateLayout","LayoutEditor","GET_GROUPED_LEVELS","GET_LEVEL_LAYOUT_FLAT_LAYOUTS","Background","LevelChessGridRow","classnames","selected","LevelChessGridColumn","LevelChessGrid","levelLayoutId","getSelectedLevelLayouts","LevelEditorDialog","assignLevels","root","media","height","Card","CardMedia","LayoutContainer","FlatLayoutSelectionList","FlatLayoutSelectionDialog","onLayoutSelected","LayoutImage","AssignedLayoutContent","NotAssignedLayoutContent","isHouseLayoutsOpen","setHouseLayoutsDialogState","DialogContentText","layoutAssigned","FlatLayoutPreviewDialog","deleteArea","unassignFlatLayout","aria-describedby","layoutAssignmentId","refetchLayouts","width","ImageMask","MainContainer","drawCircle","circle","stroke","fill","addClass","initDrawing","draw","options","path","circles","paths","coordinates","PathArray","initialCircle","on","preventDefault","circleToRemove","pop","pathToRemove","remove","mouseEvent","tagName","Circle","move","offsetX","POINT_RADIUS","offsetY","handleClickOnCircle","push","newCircle","x","y","newCoordinate","cx","cy","stopPropagation","closePath","circleClick","stopImmediatePropagation","off","removeClass","drawInitialCircle","initCircle","plot","opacity","onSelected","LevelLayoutSelection","flatLayouts","svgRef","useRef","isFlatLayoutOpen","setFlatLayoutDialogState","selectedFlatLayout","setSelectedFlatLayout","selectionPath","setSelectionPath","imageSize","setImageSize","assignFlatLayouts","assignFlatLayoutsToLevelLayout","useEffect","current","SVG","addTo","clear","svgItem","onClickFn","pathArray","forEach","JSON","parse","fillExistingLayouts","setImageSizes","viewbox","onLoad","naturalWidth","naturalHeight","flatLayoutId","viewBox","stringify","LevelLayoutSelectionDialog","getLevelLayoutFlatLayouts","EditLayoutButton","LevelLayouts","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","getLevelLayouts","hover","tabIndex","LevelLayoutEditor","_objectSpread","i","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","Manager","_classCallCheck","_defineProperty","_createClass","collection","refs","getIndex","active","_this","find","_ref","node","sortableInfo","indexOf","sort","sortByIndex","_ref2","_ref3","omit","obj","keysToOmit","reduce","acc","events","end","start","vendorPrefix","document","styles","getComputedStyle","documentElement","pre","Array","prototype","call","join","match","OLink","toUpperCase","substr","setInlineStyles","setTranslate3d","translate","setTransitionDuration","duration","closest","el","fn","parentNode","limit","min","max","Math","getPixelValue","stringValue","parseFloat","getElementMargin","element","bottom","marginBottom","left","right","marginRight","top","marginTop","provideDisplayName","prefix","Component$$1","componentName","displayName","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","offset","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","unit","exec","invariant","isFinite","getLockPixelOffsets","offsets","isArray","_offsets","_slicedToArray","minLockOffset","maxLockOffset","getScrollingParent","HTMLElement","computedStyle","overflowRegex","property","test","isScrollable","getContainerGridGap","display","gridColumnGap","gridRowGap","KEYCODE","NodeType","cloneNode","selector","fields","querySelectorAll","clonedNode","_toConsumableArray","field","type","getContext","drawImage","isSortableHandle","sortableHandle","AutoScroller","onScrollCallback","interval","clearInterval","minTranslate","maxTranslate","speed","acceleration","_this$container","scrollTop","scrollLeft","scrollHeight","scrollWidth","isTop","isBottom","clientHeight","isLeft","isRight","clientWidth","abs","isAutoScrolling","setInterval","propTypes","axis","PropTypes","oneOf","contentWindow","any","disableAutoscroll","bool","distance","number","getContainer","func","getHelperDimensions","helperClass","string","helperContainer","oneOfType","instanceOf","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","arrayOf","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","shape","lift","drop","cancel","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","defaultProps","offsetHeight","offsetWidth","contentEditable","omittedProps","validateProps","_finallyRethrows","body","finalizer","then","bind","propTypes$1","isRequired","omittedProps$1","UPDATE_FLAT","CREATE_FLAT","DELETE_FLAT","ADD_LEVEL","DELETE_LEVEL","DELETE_SECTION","toGraphqlFlat","Number","sale","levelAmount","FlatFormDialog","isNew","maxLevel","sectionId","updateFlat","createFlat","values","houseGuid","GET_GROUPED_FLATS","GET_MAX_LEVEL","GET_SECTION","initialValues","onSubmit","invalid","validate","input","meta","rest","getError","helperText","isRequiredAndIsNumber","notRequiredAndIsNumber","isRequiredAndIsInteger","select","FLAT_STATUSES","inputProps","text","AddFlatCard","createStyles","card","paddingTop","FlatCard","deleteFlat","action","flatDefaultImage","StyledButton","StyledIconButton","StyledInfo","DragHandle","WrappedComponent","_class","_temp","config","withRef","_React$Component","WithSortableHandle","_possibleConstructorReturn","_getPrototypeOf","apply","_inherits","findDOMNode","wrappedInstance","_extends","Component","SortableHandle","AddLevelButton","addLevel","DeleteSectionButton","deleteSection","DeleteLevelButton","deleteLevel","levelId","SortableItem","WithSortableElement","register","prevProps","unregister","_this$props","manager","context","add","object","SortableElement","ExpansionPanel","SortableList","WithSortableContainer","_assertThisInitialized","button","touched","nodeIsChild","sorting","_node$sortableInfo","handlePress","pressTimer","setTimeout","_this$props2","_awaitingUpdateBeforeSortStart","delta","combinedDelta","isActive","clearTimeout","cancelTimer","getActive","_temp6","_temp7","_node","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","initialOffset","_isKeySorting","initialScroll","initialWindowScroll","pageXOffset","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerBottom","containerRight","_helperClass","split","classList","listenerNode","addEventListener","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","setState","sortingIndex","_onSortStart","isKeySorting","nodes","getOrderedRefs","keyMove","_this$props3","_temp8","_temp9","Promise","resolve","_wasThrown","_result","reject","updateHelperPosition","animateNodes","autoscroll","_this$props4","_this$manager","removeEventListener","removeChild","len","_node2","edgeOffset","autoScroller","scrollX","scrollY","update","keyCode","_this$props5","_this$props5$keyCodes","includes","isValidSortingTarget","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","shift","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","handleEnd","handleMove","handleStart","_this2","containerNode","ownerDocument","defaultView","scrollingElement","onAutoScroll","_this3","_this$props6","_this$props6$keyboard","_getLockPixelOffsets","_getLockPixelOffsets2","minOffset","maxOffset","_this$props7","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","getWrappedInstance","get","SortableContainer","TransitionProps","unmountOnExit","ExpansionPanelSummary","expandIcon","aria-controls","FormControlLabel","control","ExpansionPanelDetails","LevelRepresentation","setLevels","REORDER_LEVELS","reorderFlats","getMaxLevelInSection","HouseEditor","getGroupedHouseData","sections","renderLevels","HouseImage","PreviewComponent","UPLOAD_FILE","HOUSE_INFO","ImageDialog","MainHouseImages","CHESS_GRID","palette","background","paper","flexGrow","StyledPaper","Paper","StyledLink","StyledNavLink","PublishHouse","PUBLISH_HOUSE","ListItem","ListItemText","primary","HouseInfo","connect","dispatch","applyParams","setRouteParams","applyTitle","setTitle","useRouteMatch","getHouse","parking","publishedDate","publishedText","parseISO","Container","TitleWithEditIcon","editUrl","children","List","activeClassName","exact","scope","align","other","role","hidden","Confirmation","callbackFn","setCallbackFn","callback","ConfirmDialog","heading","mainText","GET_FLAT_SIDEBAR_DATA","GET_PUBLIC_FLAT_SIDEBAR_DATA","anchorEl","setAnchorEl","menuOpen","Boolean","currentTarget","keepMounted","set","has","check","it","globalThis","self","global","Function","fails","nativePropertyIsEnumerable","propertyIsEnumerable","1","V","descriptor","bitmap","configurable","writable","toString","classof","TypeError","IndexedObject","requireObjectCoercible","PREFERRED_STRING","isObject","val","valueOf","hasOwnProperty","EXISTS","DESCRIPTORS","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","createPropertyDescriptor","propertyIsEnumerableModule","nativeDefineProperty","Attributes","anObject","definePropertyModule","createNonEnumerableProperty","setGlobal","store","version","copyright","shared","WeakMap","nativeFunctionToString","postfix","random","uid","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","sharedKey","hiddenKeys","objectHas","enforce","getterFor","TYPE","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","unsafe","simple","noTargetGet","require$$0","aFunction","variable","namespace","method","ceil","floor","argument","isNaN","toInteger","integer","createMethod","IS_INCLUDES","$this","fromIndex","toLength","toAbsoluteIndex","names","enumBugKeys","getOwnPropertyNames","internalObjectKeys","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","normalize","POLYFILL","NATIVE","toLowerCase","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","copyConstructorProperties","sham","redefine","arg","propertyKey","Symbol","NATIVE_SYMBOL","process","versions","v8","userAgent","SPECIES","wellKnownSymbol","METHOD_NAME","V8_VERSION","constructor","foo","nativeSlice","$","proto","arrayMethodHasSpeciesSupport","Constructor","n","k","fin","createProperty","FunctionPrototype","FunctionPrototypeToString","nameRE","nativeGetOwnPropertyNames","windowNames","getWindowNames","FAILS_ON_PRIMITIVES","_typeof2","iterator","_typeof","defineProperties","Properties","objectKeys","IE_PROTO","Empty","iframeDocument","iframe","documentCreateElement","html","write","lt","close","F","create","NAME","wrappedWellKnownSymbolModule","TO_STRING_TAG","TAG","that","originalArray","C","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","toObject","boundFunction","arraySpeciesCreate","some","every","findIndex","$forEach","HIDDEN","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","nativeJSONStringify","getOwnPropertyNamesExternal","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","nativeObjectCreate","ObjectPrototypeDescriptor","wrap","tag","description","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","setter","defineWellKnownSymbol","keyFor","useSetter","useSimple","replacer","$replacer","setToStringTag","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","UNSCOPABLES","ArrayPrototype","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","getPrototypeOf","CORRECT_PROTOTYPE_GETTER","ITERATOR","BUGGY_SAFARI_ITERATORS","returnThis","setPrototypeOf","CORRECT_SETTER","aPossiblePrototype","__proto__","IteratorsCore","Iterable","IteratorConstructor","next","DEFAULT","IS_SET","FORCED","Iterators","createIteratorConstructor","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","defineIterator","iterated","kind","done","Arguments","addToUnscopables","nativeAssign","assign","A","B","chr","T","argumentsLength","S","j","CORRECT_ARGUMENTS","classofRaw","tryGet","callee","isExtensible","preventExtensions","METADATA","setMetadata","objectID","weakData","REQUIRED","fastKey","getWeakData","onFreeze","FREEZING","ENTRIES","returnMethod","Result","stopped","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","step","getIteratorMethod","callWithSafeIterationClosing","stop","SAFE_CLOSING","called","iteratorWithReturn","dummy","NewTarget","NewTargetPrototype","require$$1","internalStateGetterFor","CONSTRUCTOR_NAME","wrapper","common","IS_WEAK","NativeConstructor","NativePrototype","ADDER","exported","fixMethod","nativeMethod","getConstructor","InternalMetadataModule","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","SKIP_CLOSING","ITERATION_SUPPORT","checkCorrectnessOfIteration","BUGGY_ZERO","$instance","anInstance","inheritIfRequired","iterate","setStrong","first","last","define","previous","entry","getEntry","removed","redefineAll","prev","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","setSpecies","CONVERT_TO_STRING","pos","second","charCodeAt","charAt","codeAt","point","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","ArrayValues","ArrayIteratorMethods","COLLECTION_NAME","DOMIterables","Collection","CollectionPrototype","arr","arr2","arrayWithoutHoles","iter","iterableToArray","nonIterableSpread","registerMethods","addMethodNames","getMethodsFor","$includes","ignoreCase","multiline","dotAll","unicode","sticky","nativeExec","RegExp","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","NPCG_INCLUDED","str","reCopy","re","regexpFlags","MATCH","isRegExp","correctIsRegExpLogic","searchString","notARegExp","REPLACE_SUPPORTS_NAMED_GROUPS","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","flags","nativeRegExpMethod","arg2","forceStringMethod","regexpExec","stringMethod","regexMethod","R","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","fixRegExpWellKnownSymbolLogic","REPLACE","maybeCallNative","searchValue","replaceValue","res","rx","functionalReplace","fullUnicode","results","regExpExec","advanceStringIndex","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","m","symbols","ch","capture","whitespace","whitespaces","ltrim","rtrim","trim","$trim","il","block","radians","camelCase","s","g","unCamelCase","capitalize","proportionalSize","box","getOrigin","origin","o","bx","by","ox","oy","forcedStringTrimMethod","ns","xmlns","xlink","svgjs","globals","Base","elements","makeInstance","adopter","nodeOrNew","adopt","asRoot","did","eid","extend","modules","wrapWithAttrCheck","siblings","forward","backward","front","back","before","after","insertBefore","insertAfter","$filter","$indexOf","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","sloppyArrayMethod","searchElement","nativeJoin","ES3_STRINGS","separator","arrayPush","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","defaultConstructor","speciesConstructor","unicodeMatching","callRegExpExec","q","z","numberAndUnit","hex","rgb","reference","transforms","isHex","isRgb","isBlank","isNumber","isImage","delimiter","hyphen","pathLetters","isPathLetter","numbersWithDots","dots","attr","hasClass","toggleClass","css","ret","t","cased","show","hide","visible","v","r","remember","memory","forget","_memory","IS_RIGHT","$reduce","listenerId","windowEvents","getEvents","getEventTarget","l","listener","binding","bag","ev","clearEvents","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","$map","DatePrototype","Date","nativeDateToString","getTime","NaN","nativeParseInt","parseInt","radix","parseIntImplementation","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","arrayWithHoles","_arr","_n","_d","_e","_s","_i","err","iterableToArrayLimit","nonIterableRest","_defineProperties","protoProps","staticProps","componentHex","bounded","is","space","getParameters","_a","_b","_c","hueToRgb","rf","Color","noWhitespace","hexParse","sixDigitHex","components","h","dToR","yL","xL","zL","ct","mx","rU","gU","bU","pow","bd","rL","gL","bL","xU","yU","zU","isGrey","round","_clamped","rV","gV","bV","sin","pi","grey","nativeKeys","ReferenceError","assertThisInitialized","_get","receiver","Reflect","base","superPropBase","_setPrototypeOf","subClass","superClass","nativeMatch","matcher","matchStr","require$$2","require$$3","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","maxCode","digits","code","NumberWrapper","nativeParseFloat","Infinity","trimmedString","parseFloatImplementation","Point","clone","transformO","Matrix","closeEnough","threshold","transform","matrix","transformer","dx","dy","sx","sy","lam","theta","tx","ty","determinant","ccw","thetaRad","st","scaleX","scaleY","shear","rotate","translateX","translateY","originX","originY","multiplyO","lmultiplyO","det","na","nb","nc","nd","ne","nf","translateO","rotateO","cos","around","flipO","scaleO","shearO","lx","ly","skew","skewO","aroundO","comp","flipBoth","flipX","flipY","skewX","skewY","px","py","relative","ry","parser","svg","isNulledBox","Box","w","xMin","xMax","yMin","yMax","pts","getBox","cb","retry","zoom","zoomX","zoomY","zoomAmount","scale","subClassArray","baseClass","_constructor","Arr","each","fnOrMethodName","toArray","reserved","baseFind","attrs","EventTarget","detail","cancelable","getEventHolder","noop","timeline","ease","delay","SVGArray","init","toSet","Set","SVGNumber","hooks","Dom","childNodes","assignNewId","deep","nodeName","put","precision","factor","newAttrs","svgOrFn","outerHTML","well","fragment","getAttribute","defaults","hook","_val","setAttributeNS","setAttribute","rebuild","findOne","querySelector","Element","plus","until","parents","bbox","rbox","screenCTM","ctm","rect","sugar","extension","mat","flip","directionString","radius","_element","pointAt","getPointAtLength","font","leading","ax","ay","amove","nativeReverse","reverse","objectDefinePropertyModile","divide","getOwnPropertyDescriptors","untransform","matrixify","kv","toParent","pCtm","toRoot","decomposed","Shape","flatten","ungroup","Defs","Ellipse","ellipse","Stop","fx","fy","x1","y1","x2","y2","Gradient","gradient","defs","Pattern","pattern","patternUnits","Image","PointArray","toLine","at","destination","points","maxX","maxY","minX","minY","Line","line","Marker","marker","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","makeSetterGetter","comparefn","easing","bezier","steps","stepPosition","jumps","beforeFlag","jumping","Stepper","Ease","Controller","stepper","dt","recalculate","_duration","overshoot","_overshoot","os","zeta","wn","velocity","newPosition","windup","I","D","pathRegReplace","pathHandlers","M","p0","L","H","Q","Z","mlhvqtcsaz","jl","arrayToString","equalCommands","morph","destinationArray","sourceArray","paramCnt","curr","Morphable","_set","morphableTypes","_type","_to","_from","_morphObj","_context","_stepper","fromArray","NonMorphable","TransformBag","ObjectBag","objOrArr","Path","_array","Polygon","polygon","Polyline","polyline","Rect","deleteCount","insertCount","actualDeleteCount","actualStart","Queue","_first","_last","Animator","nextDraw","frames","timeouts","immediates","timer","frame","run","timeout","time","immediate","cancelFrame","cancelImmediate","_draw","nextTimeout","lastTimeout","now","nextFrame","lastFrame","nextImmediate","makeSchedule","runnerInfo","runner","defaultSource","Timeline","timeSource","when","_runners","absoluteStartTime","endTime","persist","info","_runnerIds","lastRunnerInfo","lastDuration","lastEndTime","updateTime","getEndTimeOfTimeline","yes","currentSpeed","positive","_time","_continue","dtOrForever","immediateStep","dtSource","dtTime","_speed","dtToStart","runnersLeft","finished","_timeline","Runner","times","swing","wait","_times","animate","initFn","runFn","retargetFn","isTransform","initialiser","retarget","initialised","queue","_wait","loopDuration","loopsDone","partial","swinging","backwards","uncliped","swingForward","loops","running","_lastPosition","justStarted","_lastTime","justFinished","declarative","converged","_run","enabled","morpher","caller","_queue","extra","_history","needsIt","_isDeclarative","positionOrDt","allfinished","FakeRunner","mergeWith","lmultiply","getRunnerTransform","mergeTransforms","netTransform","_transformationRunners","runners","RunnerArray","ids","lastRunner","newRunner","deleteCnt","_clearTransformRunnersBefore","currentRunner","_currentTransform","_addRunner","_prepareRunner","_frameId","styleAttr","_tryRetarget","newLevel","newPoint","isMatrix","affine","startTransform","clearTransform","rTarget","rCurrent","possibilities","distances","shortest","affineParameters","currentAngle","newTransforms","_rememberMorpher","_queueNumber","_queueNumberDelta","dmove","newTo","_queueObject","center","Svg","nested","_build","Text","firstLine","build","dom","blankLineOffset","plain","Tspan","textContent","newLined","tspan","ClipPath","clip","clipWith","clipper","unclip","ForeignObject","foreignObject","G","child","group","link","linkTo","Mask","mask","maskWith","masker","unmask","Style","rule","fontFamily","addText","cssRule","fontface","TextPath","track","textPath","importNodes","targets","Use","use","registerMorphableType","ExpansionPanelContext","StyledDropzone","isDragActive","isDragAccept","isDragReject","deleteImage","handleRemove","imageId","panoramaProps","haov","minYaw","maxYaw","additionalProps","pitch","yaw","hfov","autoLoad","TitleContainer","__export","editor","createRef","canvasScaled","getCroppedCanvas","fetch","toDataURL","blob","theBlob","fileName","File","onload","dragMode","ready","zoomTo","aspectRatio","preview","defaultValue","valueLabelDisplay","marks","rotateTo","Collapse","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","inProp","in","onEnter","onEntered","onEntering","onExit","onExiting","_props$timeout","standard","_objectWithoutProperties","useTheme","wrapperRef","autoTransitionDuration","isAppearing","wrapperHeight","getTransitionProps","duration2","transitions","getAutoHeightDuration","addEndListener","_","childProps","clsx","entered","minHeight","wrapperInner","muiSupportAuto","overflow","transition","IconButtonProps","onBlur","onFocusVisible","_React$useState","focusedState","setFocusedState","_React$useContext","_React$useContext$dis","expanded","ButtonBase","focusRipple","disableRipple","focused","content","cursor","_props$color","onFocus","TypographyClasses","_props$underline","underline","_props$variant","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","focusVisible","setFocusVisible","handlerRef","useForkRef","underlineNone","textDecoration","underlineHover","underlineAlways","WebkitTapHighlightColor","outline","border","borderRadius","userSelect","verticalAlign","borderStyle","childrenProp","_props$defaultExpande","defaultExpanded","_props$disabled","expandedProp","_props$square","square","_props$TransitionComp","_useControlled","useControlled","controlled","_useControlled2","setExpandedState","handleChange","_React$Children$toArr","_React$Children$toArr2","unsupportedIterableToArray","summary","contextValue","rounded","Provider","divider","disabledBackground","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],"mappings":"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","file":"static/js/14.f64d8586.chunk.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar SelectableGroup_context_1 = require(\"./SelectableGroup.context\");\nvar Selectbox_1 = require(\"./Selectbox\");\nvar SelectableGroup = (function (_super) {\n    __extends(SelectableGroup, _super);\n    function SelectableGroup() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { selectionMode: false };\n        _this.mouseDownStarted = false;\n        _this.mouseMoveStarted = false;\n        _this.mouseMoved = false;\n        _this.mouseUpStarted = false;\n        _this.selectionStarted = false;\n        _this.deselectionStarted = false;\n        _this.mouseDownData = {\n            selectboxY: 0,\n            selectboxX: 0,\n            target: null,\n        };\n        _this.registry = new Set();\n        _this.selectedItems = new Set();\n        _this.selectingItems = new Set();\n        _this.ignoreCheckCache = new Map();\n        _this.ignoreList = _this.props.ignoreList.concat(['.selectable-select-all', '.selectable-deselect-all']);\n        _this.ignoreListNodes = [];\n        _this.setSelectboxState = null;\n        _this.selectableGroup = null;\n        _this.scrollContainer = null;\n        _this.maxScrollTop = 0;\n        _this.maxScrollLeft = 0;\n        _this.scrollBounds = null;\n        _this.containerScroll = {\n            scrollTop: 0,\n            scrollLeft: 0,\n        };\n        _this.documentScroll = {\n            scrollTop: 0,\n            scrollLeft: 0,\n        };\n        _this.saveContainerScroll = function () {\n            var _a = _this.scrollContainer, scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft;\n            _this.containerScroll = {\n                scrollTop: scrollTop,\n                scrollLeft: scrollLeft,\n            };\n        };\n        _this.saveDocumentScroll = function () {\n            var _a = utils_1.getDocumentScroll(), documentScrollLeft = _a.documentScrollLeft, documentScrollTop = _a.documentScrollTop;\n            _this.documentScroll = {\n                scrollTop: documentScrollTop,\n                scrollLeft: documentScrollLeft,\n            };\n        };\n        _this.updateRegistry = function () {\n            var e_1, _a;\n            try {\n                for (var _b = __values(_this.registry.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var selectableItem = _c.value;\n                    selectableItem.updateBounds(_this.containerDocumentScroll);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        };\n        _this.registerSelectable = function (selectableItem) {\n            _this.registry.add(selectableItem);\n            if (selectableItem.state.isSelected) {\n                _this.selectedItems.add(selectableItem);\n            }\n        };\n        _this.unregisterSelectable = function (selectableItem) {\n            _this.registry.delete(selectableItem);\n            var isRemoved = _this.selectedItems.has(selectableItem) || _this.selectingItems.has(selectableItem);\n            _this.selectedItems.delete(selectableItem);\n            _this.selectingItems.delete(selectableItem);\n            if (isRemoved) {\n                _this.props.onSelectedItemUnmount(selectableItem, __spread(_this.selectedItems));\n            }\n        };\n        _this.updateContainerScroll = function (evt) {\n            var _a = _this.containerScroll, scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft;\n            _this.checkScrollTop(evt.clientY, scrollTop);\n            _this.checkScrollBottom(evt.clientY, scrollTop);\n            _this.checkScrollLeft(evt.clientX, scrollLeft);\n            _this.checkScrollRight(evt.clientX, scrollLeft);\n        };\n        _this.getScrollStep = function (offset) {\n            var _a = _this.props, minimumSpeedFactor = _a.minimumSpeedFactor, scrollSpeed = _a.scrollSpeed;\n            return Math.max(offset, minimumSpeedFactor) * scrollSpeed;\n        };\n        _this.checkScrollTop = function (clientY, currentTop) {\n            var offset = _this.scrollBounds.top - clientY;\n            if (offset > 0 || clientY < 0) {\n                _this.scrollContainer.scrollTop = currentTop - _this.getScrollStep(offset);\n            }\n        };\n        _this.checkScrollBottom = function (clientY, currentTop) {\n            var offset = clientY - _this.scrollBounds.bottom;\n            if (offset > 0 || clientY > window.innerHeight) {\n                var newTop = currentTop + _this.getScrollStep(offset);\n                _this.scrollContainer.scrollTop = Math.min(newTop, _this.maxScrollTop);\n            }\n        };\n        _this.checkScrollLeft = function (clientX, currentLeft) {\n            var offset = _this.scrollBounds.left - clientX;\n            if (offset > 0 || clientX < 0) {\n                var newLeft = currentLeft - _this.getScrollStep(offset);\n                _this.scrollContainer.scrollLeft = newLeft;\n            }\n        };\n        _this.checkScrollRight = function (clientX, currentLeft) {\n            var offset = clientX - _this.scrollBounds.right;\n            if (offset > 0 || clientX > window.innerWidth) {\n                var newLeft = currentLeft + _this.getScrollStep(offset);\n                _this.scrollContainer.scrollLeft = Math.min(newLeft, _this.maxScrollLeft);\n            }\n        };\n        _this.updateSelectBox = function (event) {\n            var evt = utils_1.castTouchToMouseEvent(event);\n            _this.updateContainerScroll(evt);\n            if (_this.mouseMoveStarted) {\n                return;\n            }\n            _this.mouseMoveStarted = true;\n            _this.mouseMoved = true;\n            var mouseDownData = _this.mouseDownData;\n            var clientX = evt.clientX, clientY = evt.clientY;\n            var pointY = clientY - _this.scrollBounds.top + _this.containerScroll.scrollTop;\n            var selectboxY = Math.min(pointY, mouseDownData.selectboxY);\n            var pointX = clientX - _this.scrollBounds.left + _this.containerScroll.scrollLeft;\n            var selectboxX = Math.min(pointX, mouseDownData.selectboxX);\n            var selectboxState = {\n                x: selectboxX,\n                y: selectboxY,\n                width: Math.abs(pointX - mouseDownData.selectboxX),\n                height: Math.abs(pointY - mouseDownData.selectboxY),\n            };\n            _this.setSelectboxState(selectboxState);\n            var selectboxBounds = {\n                top: selectboxState.y + _this.scrollBounds.top + _this.documentScroll.scrollTop,\n                left: selectboxState.x + _this.scrollBounds.left + _this.documentScroll.scrollLeft,\n                width: selectboxState.width,\n                height: selectboxState.height,\n                offsetWidth: selectboxState.width || 1,\n                offsetHeight: selectboxState.height || 1,\n            };\n            _this.selectItems(selectboxBounds);\n            _this.props.duringSelection(__spread(_this.selectingItems));\n            _this.mouseMoveStarted = false;\n        };\n        _this.selectItems = function (selectboxBounds, options) {\n            var e_2, _a;\n            if (options === void 0) { options = {}; }\n            var _b = _this.props, tolerance = _b.tolerance, enableDeselect = _b.enableDeselect, mixedDeselect = _b.mixedDeselect;\n            try {\n                for (var _c = __values(_this.registry.values()), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var item = _d.value;\n                    _this.processItem({\n                        item: item,\n                        selectboxBounds: selectboxBounds,\n                        tolerance: tolerance,\n                        mixedDeselect: mixedDeselect,\n                        enableDeselect: enableDeselect,\n                        isFromClick: options && options.isFromClick,\n                    });\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        };\n        _this.clearSelection = function () {\n            var e_3, _a;\n            try {\n                for (var _b = __values(_this.selectedItems.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var item = _c.value;\n                    item.setState({ isSelected: false });\n                    _this.selectedItems.delete(item);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            _this.setState({ selectionMode: false });\n            _this.props.onSelectionFinish(__spread(_this.selectedItems));\n            _this.props.onSelectionClear();\n        };\n        _this.selectAll = function () {\n            var e_4, _a;\n            _this.removeIgnoredItemsFromRegistry();\n            try {\n                for (var _b = __values(_this.registry.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var item = _c.value;\n                    if (!item.state.isSelected) {\n                        item.setState({ isSelected: true });\n                        _this.selectedItems.add(item);\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n            _this.setState({ selectionMode: true });\n            _this.props.onSelectionFinish(__spread(_this.selectedItems));\n        };\n        _this.mouseDown = function (e) {\n            var isNotLeftButtonClick = !e.type.includes('touch') &&\n                !utils_1.detectMouseButton(e, 1, {\n                    allowAltClick: _this.props.allowAltClick,\n                    allowCtrlClick: _this.props.allowCtrlClick,\n                    allowMetaClick: _this.props.allowMetaClick,\n                    allowShiftClick: _this.props.allowShiftClick,\n                });\n            if (_this.mouseDownStarted || _this.props.disabled || isNotLeftButtonClick) {\n                return;\n            }\n            _this.removeIgnoredItemsFromRegistry();\n            if (_this.isInIgnoreList(e.target)) {\n                _this.mouseDownStarted = false;\n                return;\n            }\n            if (_this.props.resetOnStart) {\n                _this.clearSelection();\n            }\n            _this.mouseDownStarted = true;\n            _this.mouseUpStarted = false;\n            var evt = utils_1.castTouchToMouseEvent(e);\n            if (!_this.props.globalMouse && !utils_1.isNodeInRoot(evt.target, _this.selectableGroup)) {\n                var _a = __read(utils_1.getBoundsForNode(_this.selectableGroup, _this.documentScroll), 1), bounds = _a[0];\n                var collides = utils_1.doObjectsCollide({\n                    top: bounds.top,\n                    left: bounds.left,\n                    width: 0,\n                    height: 0,\n                    offsetHeight: bounds.offsetHeight,\n                    offsetWidth: bounds.offsetWidth,\n                }, {\n                    top: evt.pageY,\n                    left: evt.pageX,\n                    width: 0,\n                    height: 0,\n                    offsetWidth: 0,\n                    offsetHeight: 0,\n                });\n                if (!collides) {\n                    return;\n                }\n            }\n            _this.updateRootBounds();\n            _this.updateRegistry();\n            _this.mouseDownData = {\n                target: evt.target,\n                selectboxY: evt.clientY - _this.scrollBounds.top + _this.containerScroll.scrollTop,\n                selectboxX: evt.clientX - _this.scrollBounds.left + _this.containerScroll.scrollLeft,\n            };\n            evt.preventDefault();\n            document.addEventListener('mousemove', _this.updateSelectBox);\n            document.addEventListener('touchmove', _this.updateSelectBox);\n            document.addEventListener('mouseup', _this.mouseUp);\n            document.addEventListener('touchend', _this.mouseUp);\n        };\n        _this.mouseUp = function (event) {\n            var e_5, _a;\n            if (_this.mouseUpStarted) {\n                return;\n            }\n            _this.mouseUpStarted = true;\n            _this.mouseDownStarted = false;\n            _this.removeTempEventListeners();\n            if (!_this.mouseDownData) {\n                return;\n            }\n            var evt = utils_1.castTouchToMouseEvent(event);\n            var pageX = evt.pageX, pageY = evt.pageY;\n            if (!_this.mouseMoved && utils_1.isNodeInRoot(evt.target, _this.selectableGroup)) {\n                _this.handleClick(evt, pageY, pageX);\n            }\n            else {\n                try {\n                    for (var _b = __values(_this.selectingItems.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var item = _c.value;\n                        item.setState({ isSelected: true, isSelecting: false });\n                    }\n                }\n                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_5) throw e_5.error; }\n                }\n                _this.selectedItems = new Set(__spread(_this.selectedItems, _this.selectingItems));\n                _this.selectingItems.clear();\n                if (evt.which === 1 && _this.mouseDownData.target === evt.target) {\n                    _this.preventEvent(evt.target, 'click');\n                }\n                _this.setSelectboxState({\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                });\n                _this.props.onSelectionFinish(__spread(_this.selectedItems));\n            }\n            _this.toggleSelectionMode();\n            _this.cleanUp();\n            _this.mouseMoved = false;\n        };\n        _this.keyListener = function (evt) {\n            if (evt.keyCode === 27) {\n                _this.clearSelection();\n            }\n        };\n        _this.getGroupRef = function (ref) {\n            _this.selectableGroup = ref;\n        };\n        _this.getSelectboxSetState = function (setState) {\n            _this.setSelectboxState = setState;\n        };\n        _this.defaultContainerStyle = {\n            position: 'relative',\n        };\n        _this.contextValue = {\n            selectable: {\n                register: _this.registerSelectable,\n                unregister: _this.unregisterSelectable,\n                selectAll: _this.selectAll,\n                clearSelection: _this.clearSelection,\n                getScrolledContainer: function () { return _this.scrollContainer; },\n            },\n        };\n        return _this;\n    }\n    SelectableGroup.prototype.componentDidMount = function () {\n        if (this.props.scrollContainer) {\n            this.scrollContainer = document.querySelector(this.props.scrollContainer);\n        }\n        else {\n            this.scrollContainer = this.selectableGroup;\n        }\n        this.scrollContainer.addEventListener('scroll', this.saveContainerScroll);\n        document.addEventListener('scroll', this.saveDocumentScroll);\n        this.selectableGroup.addEventListener('mousedown', this.mouseDown);\n        this.selectableGroup.addEventListener('touchstart', this.mouseDown);\n        if (this.props.deselectOnEsc) {\n            document.addEventListener('keydown', this.keyListener);\n            document.addEventListener('keyup', this.keyListener);\n        }\n        this.removeIgnoredItemsFromRegistry();\n    };\n    SelectableGroup.prototype.componentWillUnmount = function () {\n        this.scrollContainer.removeEventListener('scroll', this.saveContainerScroll);\n        document.removeEventListener('scroll', this.saveDocumentScroll);\n        this.selectableGroup.removeEventListener('mousedown', this.mouseDown);\n        this.selectableGroup.removeEventListener('touchstart', this.mouseDown);\n        if (this.props.deselectOnEsc) {\n            document.removeEventListener('keydown', this.keyListener);\n            document.removeEventListener('keyup', this.keyListener);\n        }\n        this.removeTempEventListeners();\n        this.selectedItems.clear();\n        this.selectingItems.clear();\n    };\n    Object.defineProperty(SelectableGroup.prototype, \"containerDocumentScroll\", {\n        get: function () {\n            return {\n                scrollTop: this.containerScroll.scrollTop + this.documentScroll.scrollTop,\n                scrollLeft: this.containerScroll.scrollLeft + this.documentScroll.scrollLeft,\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectableGroup.prototype.removeTempEventListeners = function () {\n        document.removeEventListener('mousemove', this.updateSelectBox);\n        document.removeEventListener('touchmove', this.updateSelectBox);\n        document.removeEventListener('mouseup', this.mouseUp);\n        document.removeEventListener('touchend', this.mouseUp);\n    };\n    SelectableGroup.prototype.updateRootBounds = function () {\n        this.scrollBounds = this.scrollContainer.getBoundingClientRect();\n        this.maxScrollTop = this.scrollContainer.scrollHeight - this.scrollContainer.clientHeight;\n        this.maxScrollLeft = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;\n    };\n    SelectableGroup.prototype.toggleSelectionMode = function () {\n        var _a = this, selectedItems = _a.selectedItems, selectionMode = _a.state.selectionMode;\n        if (selectedItems.size && !selectionMode) {\n            this.setState({ selectionMode: true });\n        }\n        if (!selectedItems.size && selectionMode) {\n            this.setState({ selectionMode: false });\n        }\n    };\n    SelectableGroup.prototype.processItem = function (options) {\n        var item = options.item, tolerance = options.tolerance, selectboxBounds = options.selectboxBounds, enableDeselect = options.enableDeselect, mixedDeselect = options.mixedDeselect, isFromClick = options.isFromClick;\n        var delta = this.props.delta;\n        var isCollided = utils_1.doObjectsCollide(selectboxBounds, item.bounds, tolerance, delta);\n        var _a = item.state, isSelecting = _a.isSelecting, isSelected = _a.isSelected;\n        if (isFromClick && isCollided) {\n            if (isSelected) {\n                this.selectedItems.delete(item);\n            }\n            else {\n                this.selectedItems.add(item);\n            }\n            item.setState({ isSelected: !isSelected });\n            this.clickedItem = item;\n            return item;\n        }\n        if (!isFromClick && isCollided) {\n            if (isSelected && enableDeselect && (!this.selectionStarted || mixedDeselect)) {\n                item.setState({ isSelected: false });\n                item.deselected = true;\n                this.deselectionStarted = true;\n                return this.selectedItems.delete(item);\n            }\n            var canSelect = mixedDeselect ? !item.deselected : !this.deselectionStarted;\n            if (!isSelecting && !isSelected && canSelect) {\n                item.setState({ isSelecting: true });\n                this.selectionStarted = true;\n                this.selectingItems.add(item);\n                return { updateSelecting: true };\n            }\n        }\n        if (!isFromClick && !isCollided && isSelecting) {\n            if (this.selectingItems.has(item)) {\n                item.setState({ isSelecting: false });\n                this.selectingItems.delete(item);\n                return { updateSelecting: true };\n            }\n        }\n        return null;\n    };\n    SelectableGroup.prototype.isInIgnoreList = function (target) {\n        if (!target) {\n            return;\n        }\n        if (this.ignoreCheckCache.get(target) !== undefined) {\n            return this.ignoreCheckCache.get(target);\n        }\n        var shouldBeIgnored = this.ignoreListNodes.some(function (ignoredNode) { return target === ignoredNode || ignoredNode.contains(target); });\n        this.ignoreCheckCache.set(target, shouldBeIgnored);\n        return shouldBeIgnored;\n    };\n    SelectableGroup.prototype.removeIgnoredItemsFromRegistry = function () {\n        var _this = this;\n        this.ignoreListNodes = Array.from(document.querySelectorAll(this.ignoreList.join(', ')));\n        this.registry = new Set(__spread(this.registry).filter(function (item) { return !_this.isInIgnoreList(item.node); }));\n        this.selectedItems = new Set(__spread(this.selectedItems).filter(function (item) { return !_this.isInIgnoreList(item.node); }));\n    };\n    SelectableGroup.prototype.preventEvent = function (target, type) {\n        var preventHandler = function (evt) {\n            target.removeEventListener(type, preventHandler, true);\n            evt.preventDefault();\n            evt.stopPropagation();\n        };\n        target.addEventListener(type, preventHandler, true);\n    };\n    SelectableGroup.prototype.cleanUp = function () {\n        var e_6, _a;\n        this.deselectionStarted = false;\n        this.selectionStarted = false;\n        if (this.props.mixedDeselect) {\n            try {\n                for (var _b = __values(this.registry.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var item = _c.value;\n                    item.deselected = false;\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n        }\n    };\n    SelectableGroup.prototype.handleClick = function (evt, top, left) {\n        if (!this.props.selectOnClick) {\n            return;\n        }\n        var _a = this.props, clickClassName = _a.clickClassName, allowClickWithoutSelected = _a.allowClickWithoutSelected, onSelectionFinish = _a.onSelectionFinish;\n        var classNames = evt.target.classList || [];\n        var isMouseUpOnClickElement = Array.from(classNames).includes(clickClassName);\n        if (allowClickWithoutSelected ||\n            this.selectedItems.size ||\n            isMouseUpOnClickElement ||\n            evt.ctrlKey) {\n            this.selectItems({\n                top: top,\n                left: left,\n                width: 0,\n                height: 0,\n                offsetWidth: 0,\n                offsetHeight: 0,\n            }, { isFromClick: true });\n            onSelectionFinish(__spread(this.selectedItems), this.clickedItem);\n            if (evt.which === 1) {\n                this.preventEvent(evt.target, 'click');\n            }\n            if (evt.which === 2 || evt.which === 3) {\n                this.preventEvent(evt.target, 'contextmenu');\n            }\n        }\n    };\n    SelectableGroup.prototype.render = function () {\n        var selectionMode = this.state.selectionMode;\n        var _a = this.props, _b = _a.component, GroupComponent = _b === void 0 ? 'div' : _b, className = _a.className, style = _a.style, selectionModeClass = _a.selectionModeClass, fixedPosition = _a.fixedPosition, selectboxClassName = _a.selectboxClassName, children = _a.children;\n        return (react_1.default.createElement(SelectableGroup_context_1.SelectableGroupContext.Provider, { value: this.contextValue },\n            react_1.default.createElement(GroupComponent, { ref: this.getGroupRef, style: __assign(__assign({}, this.defaultContainerStyle), style), className: className + \" \" + (selectionMode ? selectionModeClass : '') },\n                children,\n                react_1.default.createElement(Selectbox_1.Selectbox, { getSetState: this.getSelectboxSetState, className: selectboxClassName, fixedPosition: fixedPosition }))));\n    };\n    SelectableGroup.defaultProps = {\n        clickClassName: '',\n        tolerance: 0,\n        globalMouse: false,\n        ignoreList: [],\n        scrollSpeed: 0.25,\n        minimumSpeedFactor: 60,\n        duringSelection: utils_1.noop,\n        onSelectionFinish: utils_1.noop,\n        onSelectionClear: utils_1.noop,\n        onSelectedItemUnmount: utils_1.noop,\n        allowClickWithoutSelected: true,\n        selectionModeClass: 'in-selection-mode',\n        resetOnStart: false,\n        disabled: false,\n        deselectOnEsc: true,\n        fixedPosition: false,\n        delta: 1,\n        allowAltClick: false,\n        allowCtrlClick: false,\n        allowMetaClick: false,\n        allowShiftClick: false,\n        selectOnClick: true,\n    };\n    return SelectableGroup;\n}(react_1.Component));\nexports.SelectableGroup = SelectableGroup;\n//# sourceMappingURL=SelectableGroup.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar propertiesToNormalize = ['pageX', 'pageY', 'clientX', 'clientY'];\nfunction patchEventProperties(evt, touchKey) {\n    propertiesToNormalize.forEach(function (key) {\n        if (typeof evt[key] === 'undefined') {\n            evt[key] = evt[touchKey][0][key];\n        }\n    });\n}\nfunction castTouchToMouseEvent(evt) {\n    if (evt.type.includes('mouse')) {\n        return evt;\n    }\n    try {\n        if (evt.type === 'touchstart') {\n            patchEventProperties(evt, 'targetTouches');\n        }\n        else if (evt.type === 'touchmove') {\n            patchEventProperties(evt, 'changedTouches');\n        }\n    }\n    catch (err) {\n        console.error(err.message);\n    }\n    return evt;\n}\nexports.castTouchToMouseEvent = castTouchToMouseEvent;\n//# sourceMappingURL=castTouchToMouseEvent.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction detectMouseButton(evt, buttonNumber, options) {\n    if (buttonNumber === void 0) { buttonNumber = 1; }\n    if (options === void 0) { options = {}; }\n    if ((evt.metaKey && !options.allowMetaClick) ||\n        (evt.ctrlKey && !options.allowCtrlClick) ||\n        (evt.altKey && !options.allowAltClick) ||\n        (evt.shiftKey && !options.allowShiftClick)) {\n        return false;\n    }\n    if ('buttons' in evt) {\n        return evt.buttons === buttonNumber;\n    }\n    if ('which' in evt) {\n        return evt.which === buttonNumber;\n    }\n    return evt.button === buttonNumber - 1;\n}\nexports.detectMouseButton = detectMouseButton;\n//# sourceMappingURL=detectMouseButton.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar areBoundsCollide = function (a, b, _a) {\n    var _b = _a.tolerance, tolerance = _b === void 0 ? 0 : _b, _c = _a.useOffsetSize, useOffsetSize = _c === void 0 ? false : _c;\n    var aHeight = useOffsetSize ? a.offsetHeight : a.height;\n    var bHeight = useOffsetSize ? b.offsetHeight : b.height;\n    var aWidth = useOffsetSize ? a.offsetWidth : a.width;\n    var bWidth = useOffsetSize ? b.offsetWidth : b.width;\n    return !(a.top + aHeight - tolerance < b.top ||\n        a.top + tolerance > b.top + bHeight ||\n        a.left + aWidth - tolerance < b.left ||\n        a.left + tolerance > b.left + bWidth);\n};\nfunction toArray(value) {\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return [value];\n}\nfunction doObjectsCollide(a, b, tolerance, delta) {\n    if (tolerance === void 0) { tolerance = 0; }\n    if (delta === void 0) { delta = 1; }\n    var aBounds = toArray(a);\n    var bBounds = toArray(b);\n    for (var i = 0; i < aBounds.length; i++) {\n        for (var j = 0; j < bBounds.length; j++) {\n            return areBoundsCollide(aBounds[i], bBounds[j], { tolerance: tolerance, useOffsetSize: delta === 1 });\n        }\n    }\n}\nexports.doObjectsCollide = doObjectsCollide;\n//# sourceMappingURL=doObjectsCollide.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getDocumentScroll() {\n    var documentScrollTop = Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop);\n    var documentScrollLeft = Math.max(window.pageXOffset, document.documentElement.scrollLeft, document.body.scrollLeft);\n    return { documentScrollTop: documentScrollTop, documentScrollLeft: documentScrollLeft };\n}\nexports.getDocumentScroll = getDocumentScroll;\nfunction getBoundsForNode(node, containerScroll) {\n    if (containerScroll === void 0) { containerScroll = { scrollTop: 0, scrollLeft: 0 }; }\n    var scrollTop = containerScroll.scrollTop, scrollLeft = containerScroll.scrollLeft;\n    return Array.from(node.getClientRects()).map(function (rect) { return ({\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft,\n        offsetWidth: node.offsetWidth,\n        offsetHeight: node.offsetHeight,\n        width: rect.width,\n        height: rect.height,\n    }); });\n}\nexports.getBoundsForNode = getBoundsForNode;\n//# sourceMappingURL=getBoundsForNode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isNodeInRoot(node, root) {\n    while (node) {\n        if (node === root) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\nexports.isNodeInRoot = isNodeInRoot;\n//# sourceMappingURL=nodeInRoot.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar initialState = {\n    y: 0,\n    x: 0,\n    width: 0,\n    height: 0,\n};\nfunction Selectbox(props) {\n    var fixedPosition = props.fixedPosition, getSetState = props.getSetState, className = props.className;\n    var _a = __read(react_1.useState(initialState), 2), state = _a[0], setState = _a[1];\n    react_1.useEffect(function () {\n        getSetState(setState);\n    }, []);\n    var boxStyle = {\n        left: state.x,\n        top: state.y,\n        width: state.width,\n        height: state.height,\n        zIndex: 9000,\n        position: fixedPosition ? 'fixed' : 'absolute',\n        cursor: 'default',\n        willChange: 'transform',\n        transform: 'translateZ(0)',\n    };\n    return react_1.default.createElement(\"div\", { className: className, style: boxStyle });\n}\nexports.Selectbox = Selectbox;\nSelectbox.defaultProps = {\n    className: 'selectable-selectbox',\n};\n//# sourceMappingURL=Selectbox.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar SelectableGroup_context_1 = require(\"./SelectableGroup.context\");\nexports.createSelectable = function (WrappedComponent) { var _a; return _a = (function (_super) {\n        __extends(SelectableItem, _super);\n        function SelectableItem() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                isSelected: _this.props.isSelected,\n                isSelecting: false,\n            };\n            _this.node = null;\n            _this.bounds = null;\n            _this.updateBounds = function (containerScroll) {\n                _this.bounds = utils_1.getBoundsForNode(_this.node, containerScroll);\n            };\n            _this.getSelectableRef = function (ref) {\n                _this.node = ref;\n            };\n            return _this;\n        }\n        SelectableItem.prototype.componentDidMount = function () {\n            this.updateBounds();\n            this.context.selectable.register(this);\n        };\n        SelectableItem.prototype.componentWillUnmount = function () {\n            this.context.selectable.unregister(this);\n        };\n        SelectableItem.prototype.render = function () {\n            return (react_1.default.createElement(WrappedComponent, __assign({}, this.props, this.state, { selectableRef: this.getSelectableRef })));\n        };\n        return SelectableItem;\n    }(react_1.Component)),\n    _a.contextType = SelectableGroup_context_1.SelectableGroupContext,\n    _a.defaultProps = {\n        isSelected: false,\n    },\n    _a; };\n//# sourceMappingURL=CreateSelectable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar SelectableGroup_context_1 = require(\"./SelectableGroup.context\");\nvar SelectAll = (function (_super) {\n    __extends(SelectAll, _super);\n    function SelectAll() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.root = null;\n        _this.getRootRef = function (ref) {\n            _this.root = ref;\n        };\n        return _this;\n    }\n    SelectAll.prototype.componentDidMount = function () {\n        this.root.addEventListener('mousedown', function (evt) { return evt.stopPropagation(); });\n    };\n    SelectAll.prototype.render = function () {\n        var _a = this.props, _b = _a.component, component = _b === void 0 ? 'div' : _b, children = _a.children, _c = _a.className, className = _c === void 0 ? '' : _c, rest = __rest(_a, [\"component\", \"children\", \"className\"]);\n        var ButtonComponent = component;\n        return (react_1.default.createElement(ButtonComponent, __assign({ ref: this.getRootRef, className: \"selectable-select-all \" + className, onClick: this.context.selectable.selectAll }, rest), children));\n    };\n    SelectAll.contextType = SelectableGroup_context_1.SelectableGroupContext;\n    return SelectAll;\n}(react_1.Component));\nexports.SelectAll = SelectAll;\n//# sourceMappingURL=SelectAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar SelectableGroup_context_1 = require(\"./SelectableGroup.context\");\nvar DeselectAll = (function (_super) {\n    __extends(DeselectAll, _super);\n    function DeselectAll() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.root = null;\n        _this.getRootRef = function (ref) {\n            _this.root = ref;\n        };\n        return _this;\n    }\n    DeselectAll.prototype.componentDidMount = function () {\n        this.root.addEventListener('mousedown', function (evt) { return evt.stopPropagation(); });\n    };\n    DeselectAll.prototype.render = function () {\n        var _a = this.props, _b = _a.component, component = _b === void 0 ? 'div' : _b, children = _a.children, className = _a.className, rest = __rest(_a, [\"component\", \"children\", \"className\"]);\n        var ButtonComponent = component;\n        return (react_1.default.createElement(ButtonComponent, __assign({ ref: this.getRootRef, className: \"selectable-select-all \" + className, onClick: this.context.selectable.clearSelection }, rest), children));\n    };\n    DeselectAll.contextType = SelectableGroup_context_1.SelectableGroupContext;\n    return DeselectAll;\n}(react_1.Component));\nexports.DeselectAll = DeselectAll;\n//# sourceMappingURL=DeselectAll.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","'use strict';\n\nconst arrayMoveMutate = (array, from, to) => {\n\tconst startIndex = to < 0 ? array.length + to : to;\n\tconst item = array.splice(from, 1)[0];\n\tarray.splice(startIndex, 0, item);\n};\n\nconst arrayMove = (array, from, to) => {\n\tarray = array.slice();\n\tarrayMoveMutate(array, from, to);\n\treturn array;\n};\n\nmodule.exports = arrayMove;\n// TODO: Remove this for the next major release\nmodule.exports.default = arrayMove;\n\nmodule.exports.mutate = arrayMoveMutate;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z\"\n}), 'Dehaze');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","import {gql} from 'apollo-boost';\nimport {GroupedFlats} from './houseQuery';\nimport {HouseLayout} from '../../components/shared/types/layout.types';\n\nexport const GET_LAYOUTS = gql`\n    query getFlatLayouts($houseId: String!) {\n        getFlatLayouts(houseId: $houseId) {\n            id\n            name\n            image {\n                downloadUrl\n                previewImageUrl\n            }\n        }\n    }\n`;\n\nexport interface GetLayoutQuery {\n    getFlatLayout: HouseLayout;\n}\nexport const GET_LAYOUT = gql`\n    query getFlatLayout($layoutId: String!) {\n        getFlatLayout(layoutId: $layoutId) {\n            id\n            name\n            image {\n                downloadUrl\n                previewImageUrl\n            }\n            flats {\n                id\n                flatNumber\n            }\n            images {\n                PHOTO {\n                    uuid\n                    downloadUrl\n                    name\n                }\n                VR {\n                    uuid\n                    downloadUrl\n                    name\n                    previewImageUrl\n                }\n                HALF_VR {\n                    uuid\n                    downloadUrl\n                    name\n                    previewImageUrl\n                }\n            }\n        }\n    }\n`;\nexport interface GetGroupedFlatsWithLayoutQuery {\n    getChessGridLayout: GroupedFlats[];\n}\nexport const GET_GROUPED_FLATS_WITH_LAYOUT = gql`\n    query getChessGridLayout($houseId: String!, $layoutId: String!) {\n        getChessGridLayout(houseId: $houseId, layoutId: $layoutId) {\n            id\n            section\n            levels {\n                id\n                level\n                flats {\n                    id\n                    flatNumber\n                    levelAmount\n                    price\n                    level\n                    section\n                    area\n                    status\n                    sale\n                    roomAmount\n                    belongsToLayout\n                    hasLayout\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_LEVEL_LAYOUTS = gql`\n    query getLevelLayouts($houseId: String!) {\n        getLevelLayouts(houseId: $houseId) {\n            id\n            name\n            image {\n                downloadUrl\n                previewImageUrl\n            }\n        }\n    }\n`;\n","import {gql} from 'apollo-boost';\n\nexport const CREATE_LAYOUT = gql`\n    mutation createLayout($uuid: String!, $file: Upload!, $name: String!) {\n        createLayout(houseId: $uuid, file: $file, name: $name) {\n            id\n            name\n        }\n    }\n`;\n\nexport const EDIT_LAYOUT = gql`\n    mutation editLayout($uuid: String!, $file: Upload, $name: String!) {\n        editLayout(uuid: $uuid, file: $file, name: $name) {\n            id\n            name\n        }\n    }\n`;\n\nexport const EDIT_LEVEL_LAYOUT = gql`\n    mutation editLevelLayout($uuid: String!, $file: Upload, $name: String!) {\n        editLevelLayout(uuid: $uuid, file: $file, name: $name) {\n            id\n            name\n        }\n    }\n`;\n\nexport const CREATE_LEVEL_LAYOUT = gql`\n    mutation createLevelLayout($uuid: String!, $file: Upload!, $name: String!) {\n        createLevelLayout(houseId: $uuid, file: $file, name: $name) {\n            id\n            name\n        }\n    }\n`;\n\nexport const ASSIGN_FLATS_TO_LAYOUT = gql`\n    mutation assignFlatsToLayout($layoutId: String!, $flats: [String]) {\n        assignFlatsToLayout(layoutId: $layoutId, flats: $flats) {\n            id\n        }\n    }\n`;\n\nexport const ASSIGN_LEVELS_TO_LAYOUT = gql`\n    mutation assignLevelsToLayout($levelLayoutId: String!, $levels: [String]) {\n        assignLevelsToLayout(levelLayoutId: $levelLayoutId, levels: $levels)\n    }\n`;\n\nexport const ASSIGN_FLAT_LAYOUT_TO_LEVEL = gql`\n    mutation assignFlatLayoutsToLevel(\n        $levelLayoutId: String!\n        $flatLayoutId: String\n        $path: [String]\n        $viewBox: ViewBoxInput\n    ) {\n        assignFlatLayoutsToLevel(\n            levelLayoutId: $levelLayoutId\n            flatLayoutId: $flatLayoutId\n            path: $path\n            viewBox: $viewBox\n        )\n    }\n`;\n\nexport const ASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT = gql`\n    mutation assignFlatLayoutsToLevelLayout($layoutAssignmentId: String!, $flatLayoutId: String) {\n        assignFlatLayoutsToLevelLayout(layoutAssignmentId: $layoutAssignmentId, flatLayoutId: $flatLayoutId)\n    }\n`;\n\nexport const UNASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT = gql`\n    mutation unassignFlatLayoutsToLevelLayout($layoutAssignmentId: String!) {\n        unassignFlatLayoutsToLevelLayout(layoutAssignmentId: $layoutAssignmentId)\n    }\n`;\n\nexport const DELETE_FLAT_LAYOUT = gql`\n    mutation deleteFlatLayout($uuid: String!) {\n        deleteFlatLayout(uuid: $uuid)\n    }\n`;\n\nexport const DELETE_LEVEL_LAYOUT = gql`\n    mutation deleteLevelLayout($uuid: String!) {\n        deleteLevelLayout(uuid: $uuid)\n    }\n`;\n\nexport const DELETE_FLAT_LAYOUT_TO_LEVEL_LAYOUT = gql`\n    mutation deleteFlatLayoutsToLevelLayout($layoutAssignmentId: String!) {\n        deleteFlatLayoutsToLevelLayout(layoutAssignmentId: $layoutAssignmentId)\n    }\n`;\n\nexport const UPLOAD_IMAGE = gql`\n    mutation addFlatLayoutImage($file: Upload!, $mode: String!, $uuid: String!, $name: String) {\n        addFlatLayoutImage(file: $file, mode: $mode, uuid: $uuid, name: $name) {\n            downloadUrl\n        }\n    }\n`;\n\nexport const DELETE_IMAGE = gql`\n    mutation deleteFlatLayoutImage($mode: String!, $uuid: String!, $imageId: String!) {\n        deleteFlatLayoutImage(mode: $mode, uuid: $uuid, imageId: $imageId)\n    }\n`;\n","import {Theme, withStyles} from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HomeIcon from '@material-ui/icons/Home';\nimport React from 'react';\nimport {createSelectable, TSelectableItemProps} from 'react-selectable-fast/lib';\nimport styled from 'styled-components';\nimport {Flat} from '../../../shared/types/flat.types';\n\nconst HtmlTooltip = withStyles((theme: Theme) => ({\n    tooltip: {\n        backgroundColor: '#fff',\n        color: '#000',\n        padding: '8px'\n    }\n}))(Tooltip);\n\ninterface Props {\n    isSelected?: boolean;\n    isSelecting?: boolean;\n}\n\nconst Cell = styled.div<Props>`\n    position: relative;\n    color: #fff;\n    background-color: #4caf50;\n    border-radius: 0;\n    margin: ${(p) => (p.isSelected || p.isSelecting ? '4px' : '10px')};\n    width: ${(p) => (p.isSelected || p.isSelecting ? '36px' : '24px')};\n    height: ${(p) => (p.isSelected || p.isSelecting ? '36px' : '24px')};\n    transition: all 100ms linear;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    line-height: 1;\n    &:hover {\n        cursor: pointer;\n    }\n\n    &.SOLD_OUT {\n        background-color: #f44336;\n        &:hover {\n            background-color: #e57373;\n        }\n    }\n\n    &.FREE {\n        background-color: #4caf50;\n        &:hover {\n            background-color: #66bb6a;\n        }\n    }\n\n    &.RESERVED,\n    &.BOOKED {\n        color: #000;\n        background-color: #ffeb3b;\n        &:hover {\n            background-color: #fff176;\n        }\n    }\n\n    &.UNAVAILABLE {\n        background-color: #9e9e9e;\n        &:hover {\n            background-color: #bdbdbd;\n        }\n    }\n\n    &.DOCUMENTS_IN_PROGRESS {\n        background-color: #00bcd4;\n        &:hover {\n            background-color: #26c6da;\n        }\n    }\n`;\n\nconst TooltipContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst PriceContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    min-width: 150px;\n    .Cell__price {\n        font-size: 14px;\n    }\n`;\n\nconst AreaContainer = styled.div`\n    align-self: flex-end;\n`;\n\nconst NumberContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst DataContainer = styled.div`\n    margin-left: 8px;\n    font-size: 12px;\n`;\n\nconst StyledIcon = styled.div`\n    position: absolute;\n    top: -6px;\n    right: -6px;\n`;\n\nexport function ChessGridCellItem({flat, selectableRef, isSelected, isSelecting}: {flat: Flat} & TSelectableItemProps) {\n    return (\n        <HtmlTooltip\n            title={\n                <TooltipContainer>\n                    <PriceContainer>\n                        <Cell className={flat.status}>{flat.roomAmount}</Cell>\n                        <div className=\"Cell__price\">{flat.price}грн</div>\n                    </PriceContainer>\n                    <DataContainer>\n                        <AreaContainer>{flat.area}м2</AreaContainer>\n                        <NumberContainer>\n                            <div>{flat.flatNumber}</div>\n                            <div>1м2 - 15.000</div>\n                        </NumberContainer>\n                    </DataContainer>\n                </TooltipContainer>\n            }\n        >\n            <Cell ref={selectableRef} isSelected={isSelected} isSelecting={isSelecting} className={flat.status}>\n                {flat.roomAmount}\n                {!flat.belongsToLayout && flat.hasLayout && (\n                    <StyledIcon>\n                        <HomeIcon style={{fontSize: 14}} color=\"primary\" />\n                    </StyledIcon>\n                )}\n            </Cell>\n        </HtmlTooltip>\n    );\n}\n\nexport const ChessGridCell = createSelectable(React.memo(ChessGridCellItem));\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Flat} from '../../../shared/types/flat.types';\nimport {ChessGridCell} from '../ChessGridCell/ChessGridCell';\n\nconst RowWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n`;\n\nconst RowTitle = styled.div`\n    width: 16px;\n    margin-right: 8px;\n`;\n\nconst StyledEmptyLevel = styled.div`\n    width: 100%;\n    min-width: 40px;\n    height: 40px;\n    margin: 8px;\n    background: repeating-linear-gradient(45deg, transparent, transparent 10px, #ccc 10px, #ccc 20px),\n        linear-gradient(to bottom, #eee, #999);\n`;\n\ninterface ChessGridItem {\n    rowName: string;\n    flats: Flat[];\n}\n\nfunction EmplyLevel() {\n    return <StyledEmptyLevel />;\n}\nexport function ChessGridRow(props: ChessGridItem) {\n    return (\n        <RowWrapper>\n            <RowTitle>{props.rowName}</RowTitle>\n            {props.flats.length === 0 && <EmplyLevel />}\n            {props.flats.length !== 0 &&\n                props.flats.map((flat: Flat) => {\n                    return <ChessGridCell key={flat.id} flat={flat} isSelected={flat.belongsToLayout} />;\n                })}\n        </RowWrapper>\n    );\n}\n","import {Typography} from '@material-ui/core';\nimport React from 'react';\nimport styled from 'styled-components';\nimport {Flat} from '../../../shared/types/flat.types';\nimport {ChessGridRow} from '../ChessGridRow/ChessGridRow';\n\nconst ColumnWrapper = styled.div`\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 12px;\n`;\n\nconst ColumnTitle = styled.div`\n    align-self: center;\n    margin-top: 8px;\n`;\n\nconst CellContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\ninterface ChessGridColumnProps {\n    columnName: string;\n    levels: Array<{\n        id: string;\n        level: number;\n        flats: Flat[];\n    }>;\n}\n\nexport function ChessGridColumn(props: ChessGridColumnProps) {\n    return (\n        <ColumnWrapper>\n            <CellContainer>\n                {props.levels.map((level) => {\n                    return <ChessGridRow key={level.id} rowName={String(level.level)} flats={level.flats} />;\n                })}\n            </CellContainer>\n            <ColumnTitle>\n                <Typography variant=\"subtitle1\" gutterBottom={true}>\n                    Подъезд №{props.columnName}\n                </Typography>\n            </ColumnTitle>\n        </ColumnWrapper>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport React from 'react';\nimport {useParams} from 'react-router-dom';\nimport {SelectableGroup} from 'react-selectable-fast';\nimport styled from 'styled-components';\nimport {GroupedFlats} from '../../../graphql/queries/houseQuery';\nimport {GET_GROUPED_FLATS_WITH_LAYOUT, GetGroupedFlatsWithLayoutQuery} from '../../../graphql/queries/layoutQuery';\nimport {Flat} from '../../shared/types/flat.types';\nimport {ChessGridColumn} from './ChessGridColumn/ChessGridColumn';\n\nconst ChessGridWrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    display: flex;\n    flex-direction: row;\n`;\n\nconst getSelectableGroupRef = (ref: SelectableGroup | null) => {\n    (window as any).selectableGroup = ref;\n};\n\ninterface LayoutChessGridProps {\n    onSelect: (selection: Flat[]) => void;\n    layoutId: string;\n}\nexport const LayoutChessGrid = (props: LayoutChessGridProps) => {\n    const {houseUuid: houseId} = useParams();\n    const {loading, error, data} = useQuery<GetGroupedFlatsWithLayoutQuery>(GET_GROUPED_FLATS_WITH_LAYOUT, {\n        variables: {\n            houseId,\n            layoutId: props.layoutId\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (loading) {\n        return <span>loading...</span>;\n    }\n\n    if (error) {\n        return <span>error...</span>;\n    }\n\n    if (!data || !data.getChessGridLayout) {\n        return <span>no data...</span>;\n    }\n\n    const {getChessGridLayout: groupedFlats} = data;\n\n    if (groupedFlats && groupedFlats.length === 0) {\n        return <span>В данном доме еще нет квартир</span>;\n    }\n\n    return (\n        <div>\n            <SelectableGroup\n                ref={getSelectableGroupRef}\n                className=\"main\"\n                clickClassName=\"tick\"\n                enableDeselect={true}\n                tolerance={0}\n                deselectOnEsc={true}\n                allowClickWithoutSelected={false}\n                ignoreList={['.not-selectable']}\n                onSelectionFinish={(selection: any[]) => {\n                    props.onSelect(selection.map((item) => item.props.flat));\n                }}\n            >\n                <ChessGridWrapper>\n                    {groupedFlats.map((item: GroupedFlats) => {\n                        return <ChessGridColumn key={item.id} columnName={item.section} levels={item.levels} />;\n                    })}\n                </ChessGridWrapper>\n            </SelectableGroup>\n        </div>\n    );\n};\n","import {useMutation} from '@apollo/react-hooks';\nimport {Slide} from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React from 'react';\nimport {ASSIGN_FLATS_TO_LAYOUT} from '../../../../graphql/mutations/layoutMutation';\nimport {Flat} from '../../../shared/types/flat.types';\nimport {LayoutChessGrid} from '../../LayoutChessGrid/LayoutChessGrid';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative'\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1\n    }\n}));\n\nconst Transition = React.forwardRef(function(props: any, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface ChessGridDialogProps {\n    layoutId: string;\n    refetch: (params?: any) => any;\n}\n\nexport function ChessGridDialog(props: ChessGridDialogProps) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [dirty, setDirty] = React.useState(false);\n    const [selection, setSelection] = React.useState<Flat[]>([]);\n    const [assignFlats] = useMutation(ASSIGN_FLATS_TO_LAYOUT);\n    const {layoutId} = props;\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleSave = async () => {\n        await assignFlats({\n            variables: {\n                layoutId,\n                flats: selection.map((flat) => flat.id)\n            }\n        });\n        props.refetch();\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Link href=\"#\" onClick={handleClickOpen}>\n                <Button variant=\"outlined\" color=\"primary\">\n                    Отметить квартиры\n                </Button>\n            </Link>\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition as any}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Отметить помещения\n                        </Typography>\n                        <Button variant=\"contained\" disabled={!dirty} autoFocus color=\"inherit\" onClick={handleSave}>\n                            Сохранить\n                        </Button>\n                    </Toolbar>\n                </AppBar>\n                <LayoutChessGrid\n                    onSelect={(flats) => {\n                        setSelection(flats);\n                        setDirty(true);\n                    }}\n                    layoutId={layoutId}\n                />\n            </Dialog>\n        </div>\n    );\n}\n","import {Grid, Typography} from '@material-ui/core';\nimport React from 'react';\nimport styled from 'styled-components';\nimport {HouseLayout} from '../../../shared/types/layout.types';\nimport {ChessGridDialog} from '../ChessGridDialog/ChessGridDialog';\n\nconst Wrapper = styled.div``;\nconst ImageContainer = styled.img`\n    max-height: 320px;\n`;\nconst MiscContainer = styled.div``;\n\nconst FlatsContainer = styled.div`\n    display: inline-flex;\n    flex-wrap: wrap;\n    max-width: 100%;\n    .flat-number {\n        margin: 8px;\n    }\n`;\n\ninterface FlatLayoutDataProps {\n    flatLayout: HouseLayout;\n    refetch: () => void;\n}\n\nexport const FlatLayoutData = React.memo(({flatLayout, refetch}: FlatLayoutDataProps) => {\n    return (\n        <Wrapper>\n            <Grid container spacing={3}>\n                <Grid item xs={12}>\n                    <MiscContainer>\n                        <Typography variant=\"h5\" component=\"h5\" gutterBottom>\n                            {flatLayout.name}\n                        </Typography>\n                        <div>\n                            <ChessGridDialog layoutId={flatLayout.id} refetch={refetch} />\n                        </div>\n                    </MiscContainer>\n                </Grid>\n                <Grid item xs={12}>\n                    <ImageContainer src={flatLayout.image.previewImageUrl} alt=\"Flat layout\" />\n                </Grid>\n                {flatLayout?.flats?.length > 0 && (\n                    <Grid item xs={12}>\n                        <div>\n                            <Typography variant=\"h5\" component=\"h5\" gutterBottom>\n                                Квартиры:\n                            </Typography>\n                            <FlatsContainer>\n                                {flatLayout.flats.map((flat) => {\n                                    return (\n                                        <div className=\"flat-number\" key={flat.id}>\n                                            {flat.flatNumber}\n                                        </div>\n                                    );\n                                })}\n                            </FlatsContainer>\n                        </div>\n                    </Grid>\n                )}\n            </Grid>\n        </Wrapper>\n    );\n});\n","import {Fab} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport AddIcon from '@material-ui/icons/Add';\nimport * as React from 'react';\nimport {Fragment} from 'react';\nimport styled from 'styled-components';\nimport {MutationTuple, useMutation} from '@apollo/react-hooks';\nimport {PhotoDialog} from '../../Images/PhotoDialog/PhotoDialog';\nimport {ImagePreview} from '../../Images/ImagePreview/ImagePreview';\nimport {ImageType, NamedImage} from '../../../shared/types/apartmentComplex.types';\nimport {DELETE_IMAGE, UPLOAD_IMAGE} from '../../../../graphql/mutations/layoutMutation';\nimport {GET_LAYOUT} from '../../../../graphql/queries/layoutQuery';\n\ninterface PreviewComponentProps {\n    uuid: string;\n    images: NamedImage[];\n    mode: ImageType;\n}\n\ninterface NewVRImageProps {\n    uuid: string;\n    mode: ImageType;\n    mutation: MutationTuple<any, any>;\n}\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\nfunction NewPhoto({uuid, mode, mutation}: NewVRImageProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <PhotoDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid, mode}} />\n        </ButtonContainer>\n    );\n}\n\nexport function Photos(props: PreviewComponentProps) {\n    const mutation = useMutation(UPLOAD_IMAGE, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUT,\n                variables: {\n                    layoutId: props.uuid\n                }\n            }\n        ]\n    });\n\n    const deleteMutation = useMutation(DELETE_IMAGE, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUT,\n                variables: {\n                    layoutId: props.uuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <Fragment>\n            <Grid container={true} spacing={3} alignItems=\"center\">\n                <Grid item={true} xs={12} md={3}>\n                    <NewPhoto mutation={mutation} uuid={props.uuid} mode={props.mode} />\n                </Grid>\n                {props.images.map((image) => {\n                    return (\n                        <Grid item={true} xs={12} md={3} key={image.uuid}>\n                            <ImagePreview\n                                deleteMutation={deleteMutation}\n                                uuid={props.uuid}\n                                imageUuid={image.uuid}\n                                mode={props.mode}\n                                url={image.downloadUrl}\n                                title={image.name}\n                            >\n                                {(toggle: (a: boolean) => void, state: boolean, params: any) => {\n                                    return (\n                                        <PhotoDialog\n                                            mutation={mutation}\n                                            setOpen={toggle}\n                                            open={state}\n                                            params={params}\n                                            downloadLink={image.downloadUrl}\n                                        />\n                                    );\n                                }}\n                            </ImagePreview>\n                        </Grid>\n                    );\n                })}\n            </Grid>\n        </Fragment>\n    );\n}\n","import {MutationTuple, useMutation} from '@apollo/react-hooks';\nimport {Fab} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport AddIcon from '@material-ui/icons/Add';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport {ImageType, PreviewImage} from '../../../shared/types/apartmentComplex.types';\nimport {ImagePreview} from '../../Images/ImagePreview/ImagePreview';\nimport {VRDialog} from '../../Images/VRDialog/VRDialog';\nimport {DELETE_IMAGE, UPLOAD_IMAGE} from '../../../../graphql/mutations/layoutMutation';\nimport {GET_LAYOUT} from '../../../../graphql/queries/layoutQuery';\n\ninterface PreviewComponentProps {\n    uuid: string;\n    images: PreviewImage[];\n    mode: ImageType;\n}\n\ninterface NewVRImageProps {\n    uuid: string;\n    mutation: MutationTuple<any, any>;\n    mode: ImageType;\n}\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\nfunction NewVRImage({uuid, mode, mutation}: NewVRImageProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <VRDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid, mode}} />\n        </ButtonContainer>\n    );\n}\n\nexport function VRImages(props: PreviewComponentProps) {\n    const mutation = useMutation(UPLOAD_IMAGE, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUT,\n                variables: {\n                    layoutId: props.uuid\n                }\n            }\n        ]\n    });\n\n    const deleteMutation = useMutation(DELETE_IMAGE, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUT,\n                variables: {\n                    layoutId: props.uuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <Grid container={true} spacing={2} alignItems=\"center\">\n            <Grid item={true} xs={12} md={3}>\n                <NewVRImage mutation={mutation} uuid={props.uuid} mode={props.mode} />\n            </Grid>\n            {props.images.map((image) => {\n                return (\n                    <Grid item={true} xs={12} md={3} key={image.uuid}>\n                        <ImagePreview\n                            deleteMutation={deleteMutation}\n                            uuid={props.uuid}\n                            imageUuid={image.uuid}\n                            mode={props.mode}\n                            url={image.previewImageUrl}\n                            title={image.name}\n                        >\n                            {(toggle: (a: boolean) => void, state: boolean, params: any) => {\n                                return (\n                                    <VRDialog\n                                        mutation={mutation}\n                                        setOpen={toggle}\n                                        open={state}\n                                        params={params}\n                                        downloadLink={image.downloadUrl}\n                                    />\n                                );\n                            }}\n                        </ImagePreview>\n                    </Grid>\n                );\n            })}\n        </Grid>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport {AppBar} from '@material-ui/core';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport React, {Fragment} from 'react';\nimport {useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {GET_LAYOUT, GetLayoutQuery} from '../../../../graphql/queries/layoutQuery';\nimport {TabPanel} from '../../../shared/components/tabs/TabPanel';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\nimport {FlatLayoutData} from '../FlatLayoutData/FlatLayoutData';\nimport {Photos} from '../Photos/Photos';\nimport {VRImages} from '../VRImages/VRImages';\n\nexport function FlatLayouInfo() {\n    const {layoutId} = useParams();\n    const [value, setValue] = useState(0);\n\n    const {data, loading, error, refetch} = useQuery<GetLayoutQuery>(GET_LAYOUT, {\n        variables: {\n            layoutId\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (!layoutId) {\n        return null;\n    }\n\n    if (loading) {\n        return <span>Loading</span>;\n    }\n\n    if (error || !data) {\n        return <span>Error</span>;\n    }\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n\n    const {images} = data.getFlatLayout;\n    return (\n        <Fragment>\n            <AppBar position=\"static\" color=\"default\">\n                <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                    <Tab label=\"Информация\" />\n                    <Tab label=\"360\" />\n                    <Tab label=\"180\" />\n                    <Tab label=\"Фото\" />\n                </Tabs>\n            </AppBar>\n            <TabPanel value={value} index={0}>\n                <FlatLayoutData flatLayout={data?.getFlatLayout} refetch={refetch} />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n                <VRImages uuid={layoutId} images={images.VR || []} mode={ImageType.VR} />\n            </TabPanel>\n            <TabPanel value={value} index={2}>\n                <VRImages uuid={layoutId} images={images.HALF_VR || []} mode={ImageType.HALF_VR} />\n            </TabPanel>\n            <TabPanel value={value} index={3}>\n                <Photos uuid={layoutId} images={images.PHOTO || []} mode={ImageType.PHOTO} />\n            </TabPanel>\n        </Fragment>\n    );\n}\n","import {MutationTuple} from '@apollo/react-hooks/lib/types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n// @ts-ignore\nimport React, {Fragment, useState} from 'react';\nimport {useDropzone} from 'react-dropzone';\nimport styled from 'styled-components';\nimport {StyledDropzone} from '../../../shared/components/dropzone/Dropzone';\n\nconst EditorContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nexport interface LayoutDialog {\n    setOpen: (state: boolean) => void;\n    open: boolean;\n    downloadLink?: string;\n    params: {\n        uuid: string;\n        name?: string;\n    };\n    isEdit?: boolean;\n    mutation: MutationTuple<any, any>;\n}\n\nconst ImageContainer = styled.div`\n    max-width: 720px;\n    align-self: center;\n`;\nconst StyledImage = styled.img`\n    max-width: 100%;\n`;\nconst ResetImage = styled(Button)`\n    margin: 16px 0 !important;\n`;\n\nfunction ChangeImage({onDrop}) {\n    const {getRootProps, getInputProps} = useDropzone({\n        accept: 'image/*',\n        onDrop: (acceptedFiles) => {\n            onDrop(acceptedFiles[0]);\n        }\n    });\n\n    return (\n        <div className=\"container\">\n            <input {...getInputProps()} />\n            <ResetImage {...getRootProps()} size=\"small\" variant=\"outlined\" color=\"primary\">\n                Изменить изображение\n            </ResetImage>\n        </div>\n    );\n}\n\nexport function LayoutDialog({setOpen, open, params, isEdit, downloadLink, mutation}: LayoutDialog) {\n    const [image, setImage] = useState<any>();\n    const [name, setName] = useState<any>(params.name);\n    const [previewUrl, setPreviewUrl] = useState(downloadLink);\n    const {uuid} = params;\n\n    const [uploadFile, {loading}] = mutation;\n\n    const handleClose = () => {\n        setImage(undefined);\n        if (!isEdit) {\n            setPreviewUrl(undefined);\n        }\n        setOpen(false);\n    };\n\n    const handleDrop = (dropped: any) => {\n        setImage(dropped);\n        const reader = new FileReader();\n        reader.readAsDataURL(dropped);\n\n        reader.onloadend = (e) => {\n            setPreviewUrl(reader.result as string);\n        };\n    };\n\n    const onSave = async () => {\n        await uploadFile({\n            variables: {\n                file: image,\n                uuid,\n                name\n            }\n        });\n        handleClose();\n    };\n    return (\n        <Dialog open={open} aria-labelledby=\"form-dialog-title\" fullWidth={true} maxWidth={'md'}>\n            <DialogTitle id=\"form-dialog-title\">{isEdit ? 'Редактировать' : 'Добавить изображение'}</DialogTitle>\n            <DialogContent>\n                {!previewUrl && <StyledDropzone onDrop={handleDrop} />}\n                {previewUrl && (\n                    <Fragment>\n                        <ChangeImage onDrop={handleDrop} />\n                        <EditorContainer>\n                            <ImageContainer>\n                                <StyledImage src={previewUrl} />\n                            </ImageContainer>\n                            <div>\n                                <TextField\n                                    label=\"Название\"\n                                    margin=\"normal\"\n                                    value={name}\n                                    onChange={(e) => {\n                                        setName(e.target.value);\n                                    }}\n                                    fullWidth={true}\n                                    variant=\"outlined\"\n                                />\n                            </div>\n                        </EditorContainer>\n                    </Fragment>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Отмена\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    disabled={(!image && !isEdit) || loading || !name}\n                    onClick={onSave}\n                    color=\"primary\"\n                >\n                    {loading && <CircularProgress size={30} thickness={5} />}\n                    Сохранить\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import {useMutation} from '@apollo/react-hooks';\nimport {CardActionArea} from '@material-ui/core';\nimport CardContent from '@material-ui/core/CardContent';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {apartmentComplexDefaultImage} from '../../../../core/constants';\nimport {DELETE_FLAT_LAYOUT, EDIT_LAYOUT} from '../../../../graphql/mutations/layoutMutation';\nimport {GET_LAYOUTS} from '../../../../graphql/queries/layoutQuery';\nimport {Confirmation} from '../../../shared/components/dialogs/ConfirmDialog';\nimport {CardHeaderWithMenu} from '../../../shared/components/menus/CardHeaderWithMenu';\nimport {StyledCard, StyledCardMedia} from '../../../shared/components/styled';\nimport {LayoutDialog} from '../../Images/LayoutDialog/LayoutDialog';\n\nexport interface FlatLayoutCardProps {\n    id: string;\n    name: string;\n    imageUrl?: string;\n}\n\nexport function FlatLayoutCard(props: FlatLayoutCardProps) {\n    const {apartmentComplexUuid, houseUuid, developerUuid} = useParams();\n    const [open, setOpen] = React.useState(false);\n    const mutation = useMutation(EDIT_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUTS,\n                variables: {\n                    houseId: houseUuid\n                }\n            }\n        ]\n    });\n\n    const [deleteMutation] = useMutation(DELETE_FLAT_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUTS,\n                variables: {\n                    houseId: houseUuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <StyledCard elevation={3}>\n            <CardHeaderWithMenu title={props.name}>\n                <MenuItem\n                    onClick={() => {\n                        setOpen(true);\n                    }}\n                >\n                    Редактировать\n                </MenuItem>\n                <Confirmation>\n                    {(confirmFn: (cb: () => void) => void) => {\n                        return (\n                            <MenuItem\n                                onClick={() => {\n                                    confirmFn(() => async () => {\n                                        await deleteMutation({\n                                            variables: {\n                                                uuid: props.id\n                                            }\n                                        });\n                                    });\n                                }}\n                            >\n                                Удалить\n                            </MenuItem>\n                        );\n                    }}\n                </Confirmation>\n            </CardHeaderWithMenu>\n            <CardActionArea>\n                <Link\n                    to={`/developers/${developerUuid}/apartmentComplex/${apartmentComplexUuid}/house/${houseUuid}/layout/${props.id}/info`}\n                >\n                    <StyledCardMedia image={props.imageUrl || apartmentComplexDefaultImage} title={props.name} />\n                    <CardContent>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" />\n                    </CardContent>\n                </Link>\n            </CardActionArea>\n            <LayoutDialog\n                isEdit={true}\n                mutation={mutation}\n                downloadLink={props.imageUrl}\n                setOpen={setOpen}\n                open={open}\n                params={{uuid: props.id, name: props.name}}\n            />\n        </StyledCard>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport Grid from '@material-ui/core/Grid';\nimport React from 'react';\nimport {useParams} from 'react-router';\nimport {GET_LAYOUTS} from '../../../../graphql/queries/layoutQuery';\nimport {HouseLayout} from '../../../shared/types/layout.types';\nimport {FlatLayoutCard} from '../FlatLayoutCard/FlatLayoutCard';\n\nexport function FlatLayoutList() {\n    const {houseUuid} = useParams();\n    const {loading, error, data} = useQuery(GET_LAYOUTS, {\n        variables: {\n            houseId: houseUuid\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (loading || error) {\n        return null;\n    }\n\n    return data.getFlatLayouts.map((layout: HouseLayout) => {\n        return (\n            <Grid item={true} xs={12} md={3} key={layout.id}>\n                <Grid container justify=\"center\">\n                    <FlatLayoutCard name={layout.name} id={layout.id} imageUrl={layout.image.previewImageUrl} />\n                </Grid>\n            </Grid>\n        );\n    });\n}\n","import {MutationTuple, useMutation} from '@apollo/react-hooks';\nimport {Fab} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport React from 'react';\nimport {useParams} from 'react-router';\nimport styled from 'styled-components';\nimport {CREATE_LAYOUT} from '../../../graphql/mutations/layoutMutation';\nimport {GET_LAYOUTS} from '../../../graphql/queries/layoutQuery';\nimport {LayoutDialog} from '../Images/LayoutDialog/LayoutDialog';\nimport {FlatLayoutList} from './FlatLayoutList/FlatLayoutList';\nimport Grid from '@material-ui/core/Grid';\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\ninterface NewLayoutProps {\n    uuid: string;\n    mutation: MutationTuple<any, any>;\n}\n\nfunction CreateLayout({uuid, mutation}: NewLayoutProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <LayoutDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid}} />\n        </ButtonContainer>\n    );\n}\n\nexport function LayoutEditor() {\n    const {houseUuid: uuid} = useParams();\n    const mutation = useMutation(CREATE_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LAYOUTS,\n                variables: {\n                    houseId: uuid\n                }\n            }\n        ]\n    });\n\n    if (!uuid) {\n        return null;\n    }\n\n    return (\n        <Grid container={true} spacing={3} alignItems=\"center\">\n            <Grid item={true} xs={12} md={3}>\n                <CreateLayout mutation={mutation} uuid={uuid} />\n            </Grid>\n            <FlatLayoutList />\n        </Grid>\n    );\n}\n","import {gql} from 'apollo-boost';\n\nexport const GET_GROUPED_LEVELS = gql`\n    query getSelectedLevelLayouts($levelLayoutId: String, $houseId: String!) {\n        getSelectedLevelLayouts(levelLayoutId: $levelLayoutId, houseId: $houseId) {\n            id\n            section\n            levels {\n                id\n                level\n                isSelected\n            }\n        }\n    }\n`;\n\nexport const GET_LEVEL_LAYOUT_FLAT_LAYOUTS = gql`\n    query getLevelLayoutFlatLayouts($levelLayoutId: String) {\n        getLevelLayoutFlatLayouts(levelLayoutId: $levelLayoutId) {\n            id\n            path\n            flatLayout {\n                id\n                name\n                image {\n                    uuid\n                    downloadUrl\n                    previewImageUrl\n                }\n            }\n        }\n    }\n`;\n","import classnames from 'classnames';\nimport React from 'react';\nimport {createSelectable, TSelectableItemProps} from 'react-selectable-fast/lib';\nimport styled from 'styled-components';\nimport {Level} from '../../../shared/types/level.types';\n\nconst Background = styled.div`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    transition: opacity 200ms linear;\n    background: repeating-linear-gradient(45deg, transparent, transparent 10px, #c8e6c9 10px, #a5d6a7 20px),\n        linear-gradient(to bottom, #81c784, #4caf50);\n\n    &.selected {\n        opacity: 1;\n        background: repeating-linear-gradient(45deg, transparent, transparent 10px, #c8e6c9 10px, #a5d6a7 20px),\n            linear-gradient(to bottom, #81c784, #4caf50);\n    }\n`;\n\nconst RowWrapper = styled.div`\n    width: 100%;\n    min-width: 120px;\n    height: 40px;\n    margin: 8px;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n        ${Background}:not(.selected) {\n            opacity: 0.8;\n        }\n    }\n`;\n\nconst RowTitle = styled.div`\n    width: 32px;\n    height: 32px;\n    font-size: 18px;\n    font-weight: 700;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    border-radius: 100%;\n    background-color: rgba(255, 255, 255, 0.8);\n    box-shadow: 0 0 3px rgba(255, 255, 255, 0.8);\n`;\n\ninterface ChessGridItem {\n    rowName: string;\n    level: Level;\n}\n\nexport function LevelChessGridRowItem(props: ChessGridItem & TSelectableItemProps) {\n    return (\n        <RowWrapper ref={props.selectableRef}>\n            <Background className={classnames({selected: props.isSelected || props.isSelecting})} />\n            <RowTitle>{props.rowName}</RowTitle>\n        </RowWrapper>\n    );\n}\n\nexport const LevelChessGridRow = createSelectable(LevelChessGridRowItem);\n","import {Typography} from '@material-ui/core';\nimport React from 'react';\nimport styled from 'styled-components';\nimport {LevelChessGridRow} from '../LevelChessGridRow/LevelChessGridRow';\n\nconst ColumnWrapper = styled.div`\n    display: flex;\n    align-items: flex-start;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding: 12px;\n`;\n\nconst ColumnTitle = styled.div`\n    align-self: center;\n    margin-top: 8px;\n`;\n\nconst CellContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\ninterface ChessGridColumnProps {\n    columnName: string;\n    levels: Array<{\n        id: string;\n        level: number;\n        isSelected: boolean;\n    }>;\n}\n\nexport function LevelChessGridColumn(props: ChessGridColumnProps) {\n    return (\n        <ColumnWrapper>\n            <CellContainer>\n                {props.levels.map((level) => {\n                    return (\n                        <LevelChessGridRow\n                            isSelected={level.isSelected}\n                            level={level as any}\n                            key={level.id}\n                            rowName={String(level.level)}\n                        />\n                    );\n                })}\n            </CellContainer>\n            <ColumnTitle>\n                <Typography variant=\"subtitle1\" gutterBottom={true}>\n                    Подъезд №{props.columnName}\n                </Typography>\n            </ColumnTitle>\n        </ColumnWrapper>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport React from 'react';\nimport {useParams} from 'react-router';\nimport {SelectableGroup} from 'react-selectable-fast/lib';\nimport styled from 'styled-components';\nimport {GET_GROUPED_LEVELS} from '../../../graphql/queries/levelQuery';\nimport {LevelChessGridColumn} from './LevelChessGridColumn/LevelChessGridColumn';\nimport {Level} from '../../shared/types/level.types';\n\nconst ChessGridWrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    display: flex;\n    flex-direction: row;\n`;\n\ninterface GroupedLevel {\n    id: string;\n    level: number;\n}\n\ninterface GroupedSection {\n    id: string;\n    section: string;\n    levels: GroupedLevel[];\n}\n\nconst getSelectableGroupRef = (ref: SelectableGroup | null) => {\n    (window as any).selectableGroup = ref;\n};\n\ninterface LevelChessGridProps {\n    onSelect: (selection: Level[]) => void;\n    levelLayoutId: string;\n}\nexport function LevelChessGrid({onSelect, levelLayoutId}: LevelChessGridProps) {\n    const {houseUuid: houseId} = useParams();\n    const {data, loading, error} = useQuery(GET_GROUPED_LEVELS, {\n        variables: {\n            houseId,\n            levelLayoutId\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (loading || error) {\n        return null;\n    }\n\n    const {getSelectedLevelLayouts} = data;\n\n    return (\n        <div>\n            <SelectableGroup\n                ref={getSelectableGroupRef}\n                className=\"main\"\n                clickClassName=\"tick\"\n                enableDeselect={true}\n                tolerance={0}\n                deselectOnEsc={true}\n                allowClickWithoutSelected={false}\n                ignoreList={['.not-selectable']}\n                onSelectionFinish={(selection: any[]) => {\n                    onSelect(selection.map((item) => item.props.level));\n                }}\n            >\n                <ChessGridWrapper>\n                    {getSelectedLevelLayouts.map((item: GroupedSection) => {\n                        return (\n                            <LevelChessGridColumn key={item.id} columnName={item.section} levels={item.levels as any} />\n                        );\n                    })}\n                </ChessGridWrapper>\n            </SelectableGroup>\n        </div>\n    );\n}\n","import {useMutation} from '@apollo/react-hooks';\nimport {Slide} from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React from 'react';\nimport {ASSIGN_LEVELS_TO_LAYOUT} from '../../../../graphql/mutations/layoutMutation';\nimport {Level} from '../../../shared/types/level.types';\nimport {LevelChessGrid} from '../../LevelChessGrid/LevelChessGrid';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative'\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1\n    }\n}));\n\nconst Transition = React.forwardRef(function(props: any, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface LevelEditorDialogProps {\n    layoutId: string;\n    refetch: (params?: any) => any;\n}\n\nexport function LevelEditorDialog(props: LevelEditorDialogProps) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const [dirty, setDirty] = React.useState(false);\n    const [selection, setSelection] = React.useState<Level[]>([]);\n    const [assignLevels] = useMutation(ASSIGN_LEVELS_TO_LAYOUT);\n    const {layoutId} = props;\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleSave = async () => {\n        await assignLevels({\n            variables: {\n                levelLayoutId: layoutId,\n                levels: selection.map((level) => level.id)\n            }\n        });\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Link href=\"#\" onClick={handleClickOpen}>\n                Отметить этажи\n            </Link>\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition as any}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Выбор этажей\n                        </Typography>\n                        <Button disabled={!dirty} autoFocus color=\"inherit\" variant=\"contained\" onClick={handleSave}>\n                            Сохранить\n                        </Button>\n                    </Toolbar>\n                </AppBar>\n                <LevelChessGrid\n                    levelLayoutId={layoutId}\n                    onSelect={(levels) => {\n                        setSelection(levels);\n                        setDirty(true);\n                    }}\n                />\n            </Dialog>\n        </div>\n    );\n}\n","import Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\n\nconst useStyles = makeStyles({\n    root: {\n        maxWidth: 345\n    },\n    media: {\n        height: 280\n    }\n});\n\ninterface FlatLayoutCardProps {\n    imageUrl: string;\n    name: string;\n    onSelect: () => void;\n}\nexport function FlatLayoutCard(props: FlatLayoutCardProps) {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea onClick={props.onSelect}>\n                <CardMedia className={classes.media} image={props.imageUrl} title=\"Contemplative Reptile\" />\n                <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        {props.name}\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport {Grid} from '@material-ui/core';\nimport React from 'react';\nimport {useParams} from 'react-router';\nimport styled from 'styled-components';\nimport {GET_LAYOUTS} from '../../../../../graphql/queries/layoutQuery';\nimport {HouseLayout} from '../../../../shared/types/layout.types';\nimport {FlatLayoutCard} from '../FlatLayoutCard/FlatLayoutCard';\n\nconst LayoutContainer = styled.div`\n    padding: 24px;\n`;\n\ninterface FlatLayoutSelectionListProps {\n    onSelect: (layout: HouseLayout) => void;\n}\n\nexport function FlatLayoutSelectionList(props: FlatLayoutSelectionListProps) {\n    const {houseUuid} = useParams();\n    const {loading, error, data} = useQuery(GET_LAYOUTS, {\n        variables: {\n            houseId: houseUuid\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (loading || error) {\n        return null;\n    }\n\n    return (\n        <LayoutContainer>\n            <Grid container={true} spacing={2}>\n                {data.getFlatLayouts.map((layout: HouseLayout) => {\n                    return (\n                        <Grid item={true} xs={12} md={3} key={layout.id}>\n                            <FlatLayoutCard\n                                imageUrl={layout.image.previewImageUrl}\n                                name={layout.name}\n                                onSelect={() => {\n                                    props.onSelect(layout);\n                                }}\n                            />\n                        </Grid>\n                    );\n                })}\n            </Grid>\n        </LayoutContainer>\n    );\n}\n","import {Slide} from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React from 'react';\nimport {HouseLayout} from '../../../shared/types/layout.types';\nimport {FlatLayoutSelectionList} from './FlatLayoutSelectionList/FlatLayoutSelectionList';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative'\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1\n    }\n}));\n\nconst Transition = React.forwardRef(function(props: any, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface HouseLayoutSelectionDialogProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n    onLayoutSelected: (layout?: HouseLayout) => void;\n}\n\nexport function FlatLayoutSelectionDialog(props: HouseLayoutSelectionDialogProps) {\n    const classes = useStyles();\n    const {open, setOpen, onLayoutSelected} = props;\n\n    const handleClose = () => {\n        onLayoutSelected();\n        setOpen(false);\n    };\n\n    const handleSave = async (layout: HouseLayout) => {\n        onLayoutSelected(layout);\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition as any}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Выбор этажей\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n                <FlatLayoutSelectionList onSelect={handleSave} />\n            </Dialog>\n        </div>\n    );\n}\n","import {useMutation} from '@apollo/react-hooks';\nimport {DialogContentText} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport React, {Fragment, useState} from 'react';\nimport styled from 'styled-components';\nimport {\n    DELETE_FLAT_LAYOUT_TO_LEVEL_LAYOUT,\n    UNASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT\n} from '../../../../graphql/mutations/layoutMutation';\nimport {HouseLayout} from '../../../shared/types/layout.types';\nimport {LevelFlatLayout} from '../../../shared/types/level.types';\nimport {FlatLayoutSelectionDialog} from '../FlatLayoutSelectionDialog/FlatLayoutSelectionDialog';\n\nconst LayoutImage = styled.img`\n    width: 100%;\n`;\n\ninterface FlatLayoutPreviewDialogProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n    flatLayout: LevelFlatLayout;\n    refetchLayouts: () => void;\n    layoutAssigned: (layout: HouseLayout) => void;\n}\n\ninterface AssignedLayoutContentProps {\n    flatLayout: LevelFlatLayout;\n}\n\nfunction AssignedLayoutContent(props: AssignedLayoutContentProps) {\n    const {flatLayout} = props;\n    return (\n        <Fragment>\n            <DialogTitle id=\"alert-dialog-title\">{flatLayout.flatLayout.name}</DialogTitle>\n            <DialogContent>\n                <LayoutImage src={flatLayout.flatLayout.image.previewImageUrl} />\n            </DialogContent>\n        </Fragment>\n    );\n}\n\ninterface NotAssignedLayoutContentProps {\n    layoutAssigned: (layout: HouseLayout) => void;\n}\nfunction NotAssignedLayoutContent(props: NotAssignedLayoutContentProps) {\n    const [isHouseLayoutsOpen, setHouseLayoutsDialogState] = useState(false);\n    return (\n        <Fragment>\n            <DialogTitle id=\"alert-dialog-title\">Привязать планировку</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    У данной области отсутствует привязанная планировка.\n                </DialogContentText>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => {\n                        setHouseLayoutsDialogState(true);\n                    }}\n                    color=\"primary\"\n                >\n                    Выбрать планировку\n                </Button>\n            </DialogContent>\n            <FlatLayoutSelectionDialog\n                open={isHouseLayoutsOpen}\n                setOpen={setHouseLayoutsDialogState}\n                onLayoutSelected={(layout?: HouseLayout) => {\n                    if (layout) {\n                        props.layoutAssigned(layout);\n                    }\n                }}\n            />\n        </Fragment>\n    );\n}\nexport function FlatLayoutPreviewDialog(props: FlatLayoutPreviewDialogProps) {\n    const [deleteArea] = useMutation(DELETE_FLAT_LAYOUT_TO_LEVEL_LAYOUT);\n    const [unassignFlatLayout] = useMutation(UNASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT);\n    const {open, setOpen, flatLayout} = props;\n    const hasLayout = !!flatLayout.flatLayout;\n    return (\n        <div>\n            <Dialog\n                open={open}\n                onClose={() => {\n                    setOpen(false);\n                }}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                {hasLayout && <AssignedLayoutContent flatLayout={flatLayout} />}\n                {!hasLayout && (\n                    <NotAssignedLayoutContent\n                        layoutAssigned={(layout: HouseLayout) => {\n                            props.layoutAssigned(layout);\n                            setOpen(false);\n                        }}\n                    />\n                )}\n                <DialogActions>\n                    <Button\n                        variant=\"outlined\"\n                        onClick={() => {\n                            setOpen(false);\n                        }}\n                        color=\"primary\"\n                    >\n                        Отмена\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        onClick={async () => {\n                            await deleteArea({\n                                variables: {\n                                    layoutAssignmentId: props.flatLayout.id\n                                }\n                            });\n                            props.refetchLayouts();\n                            setOpen(false);\n                        }}\n                        color=\"secondary\"\n                    >\n                        Удалить область\n                    </Button>\n                    {hasLayout && (\n                        <Button\n                            variant=\"outlined\"\n                            onClick={async () => {\n                                await unassignFlatLayout({\n                                    variables: {\n                                        layoutAssignmentId: props.flatLayout.id\n                                    }\n                                });\n                                props.refetchLayouts();\n                                setOpen(false);\n                            }}\n                            color=\"secondary\"\n                        >\n                            Отвязать планировку\n                        </Button>\n                    )}\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import {useMutation} from '@apollo/react-hooks';\nimport {Circle, Path, PathArray, PathCommand, Svg, SVG} from '@svgdotjs/svg.js';\nimport React, {useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport {\n    ASSIGN_FLAT_LAYOUT_TO_LEVEL,\n    ASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT\n} from '../../../../graphql/mutations/layoutMutation';\nimport {HouseLayout} from '../../../shared/types/layout.types';\nimport {LevelFlatLayout} from '../../../shared/types/level.types';\nimport {FlatLayoutPreviewDialog} from '../FlatLayoutPreviewDialog/FlatLayoutPreviewDialog';\nimport {FlatLayoutSelectionDialog} from '../FlatLayoutSelectionDialog/FlatLayoutSelectionDialog';\n\nconst ImageContainer = styled.div<any>`\n    width: ${(props: any) => props.width}px;\n    height: ${(props: any) => props.height}px;\n    background: url(${(props: any) => props.url});\n    background-size: 100%;\n`;\n\nconst ImageMask = styled.img`\n    height: 100%;\n    width: auto;\n    position: absolute;\n    top: -999999px;\n    left: -9999999px;\n    z-index: -1;\n    visibility: hidden;\n`;\n\nconst MainContainer = styled.div`\n    display: inline-block;\n    max-width: 100%;\n    overflow-x: auto;\n    overflow-y: scroll;\n`;\n\nconst POINT_RADIUS = 15;\n\nfunction attachSvg(container: string) {\n    return SVG()\n        .addTo(container)\n        .size('100%', '100%');\n}\n\ninterface DrawingOptions {\n    onSelected: (path: Path) => void;\n}\n\nfunction drawInitialCircle(circle: Circle, closePath: (circle: Circle) => void) {\n    circle.addClass('SVG__circle--highlighted').fill('#f44336');\n\n    const circleClick = (event: Event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n        circle.stroke({color: '#3f51b5', width: 3}).fill('transparent');\n        circle.off('click', circleClick);\n        circle.removeClass('SVG__circle--highlighted');\n        closePath(circle);\n    };\n\n    return circle.on('click', circleClick);\n}\n\nfunction drawCircle(circle: Circle) {\n    return circle\n        .stroke({color: '#3f51b5', width: 3})\n        .fill('transparent')\n        .addClass('SVG__circle-general--highlighted');\n}\n\nfunction handleClickOnCircle(draw: Svg, mouseEvent: MouseEvent) {\n    const tagName = (mouseEvent.target as any).tagName;\n    let circle;\n    if (tagName === 'circle') {\n        circle = new Circle(mouseEvent.target as SVGCircleElement);\n    } else {\n        circle = draw\n            .circle(POINT_RADIUS)\n            .move(mouseEvent.offsetX - POINT_RADIUS / 2, mouseEvent.offsetY - POINT_RADIUS / 2);\n    }\n\n    return circle;\n}\n\nfunction initDrawing(draw: Svg, options: DrawingOptions) {\n    let path: Path;\n    let circles: Circle[] = [];\n    let paths: Path[] = [];\n\n    let coordinates: PathArray = new PathArray();\n    let initialCircle: Circle | null = null;\n    draw.on('contextmenu', (event: Event) => {\n        event.preventDefault();\n        const circleToRemove = circles.pop();\n        const pathToRemove = paths.pop();\n        coordinates.pop();\n        if (pathToRemove) {\n            pathToRemove.remove();\n        }\n\n        if (circleToRemove) {\n            circleToRemove.remove();\n            if (circles.length === 0) {\n                initialCircle = null;\n            }\n        }\n    });\n\n    draw.on('click', (mouseEvent: MouseEvent) => {\n        const circle = handleClickOnCircle(draw, mouseEvent);\n        circles.push(circle);\n        if (!initialCircle) {\n            initialCircle = drawInitialCircle(circle, (initCircle) => {\n                const newCoordinate: PathCommand = ['L', initCircle.cx(), initCircle.cy()];\n                coordinates.push(newCoordinate);\n                const [, x, y] = coordinates[coordinates.length - 1];\n\n                path = draw.path(['M', x || 0, y || 0, ...newCoordinate]).stroke({color: '#3f51b5', width: 3});\n\n                path.plot(coordinates)\n                    .fill({color: '#000', opacity: 0.5})\n                    .addClass('SVG--highlighted')\n                    .on('click', (event: Event) => {\n                        event.preventDefault();\n                        event.stopPropagation();\n                    });\n\n                options.onSelected(path);\n                coordinates = new PathArray();\n                circles = [];\n                paths = [];\n                initialCircle = null;\n            });\n\n            coordinates.push(['M', mouseEvent.offsetX, mouseEvent.offsetY]);\n            path = draw.path(['M', mouseEvent.offsetX, mouseEvent.offsetY]).stroke({color: '#3f51b5', width: 3});\n            paths.push(path);\n        } else {\n            const newCircle = drawCircle(circle);\n            const [, x, y] = coordinates[coordinates.length - 1];\n            const newCoordinate: PathCommand = ['L', newCircle.cx(), newCircle.cy()];\n            coordinates.push(newCoordinate);\n            path = draw\n                .path(['M', x || 0, y || 0, ...newCoordinate])\n                .stroke({color: '#3f51b5', width: 3})\n                .on('click', (event: MouseEvent) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                });\n            paths.push(path);\n        }\n    });\n}\n\nexport function addCircles(path: Path, draw: Svg) {\n    const pathArray = path.array();\n    const startIndex = pathArray[1][0] === 'M' ? 1 : 0;\n    const circles = [];\n    for (let i = startIndex; i < pathArray.length; i++) {\n        const item = pathArray[i];\n        const x = item[1] || 0;\n        const y = item[2] || 0;\n        const circle = draw.circle(POINT_RADIUS).move(x - POINT_RADIUS / 2, y - POINT_RADIUS / 2);\n        drawCircle(circle);\n        // @ts-ignore\n        circles.push(circle);\n    }\n    return circles;\n}\n\nfunction fillExistingLayouts(\n    svgItem: Svg,\n    flatLayouts: LevelFlatLayout[],\n    onClickFn: (flatLayout: LevelFlatLayout) => void\n) {\n    const pathArray: Path[] = [];\n    flatLayouts.forEach((flatLayout) => {\n        const path = svgItem\n            .path(JSON.parse(flatLayout.path))\n            .fill({color: '#000', opacity: 0.5})\n            .stroke({color: '#3f51b5', width: 3})\n            .addClass('SVG--highlighted')\n            .on('click', (event: Event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                onClickFn(flatLayout);\n            });\n        pathArray.push(path);\n    });\n}\n\ninterface LevelLayoutSelectionProps {\n    imageUrl: string;\n    levelLayoutId: string;\n    flatLayouts: any;\n    refetchLayouts: () => void;\n}\nexport function LevelLayoutSelection({\n    imageUrl,\n    levelLayoutId,\n    flatLayouts,\n    refetchLayouts\n}: LevelLayoutSelectionProps) {\n    const svgRef = useRef<Svg>();\n    const [isHouseLayoutsOpen, setHouseLayoutsDialogState] = useState(false);\n    const [isFlatLayoutOpen, setFlatLayoutDialogState] = useState(false);\n    const [selectedFlatLayout, setSelectedFlatLayout] = useState<LevelFlatLayout>();\n    const [selectionPath, setSelectionPath] = useState<Path>();\n    const [imageSize, setImageSize] = useState({width: 0, height: 0});\n\n    const [assignFlatLayouts] = useMutation(ASSIGN_FLAT_LAYOUT_TO_LEVEL);\n    const [assignFlatLayoutsToLevelLayout] = useMutation(ASSIGN_FLAT_LAYOUT_TO_LEVEL_LAYOUT);\n\n    useEffect(() => {\n        svgRef.current = attachSvg('#img-container');\n        initDrawing(svgRef.current, {\n            onSelected: (path) => {\n                setHouseLayoutsDialogState(true);\n                setSelectionPath(path);\n            }\n        });\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        if (svgRef && svgRef.current && flatLayouts) {\n            svgRef.current.clear();\n            fillExistingLayouts(svgRef.current, flatLayouts, (flatLayout) => {\n                setSelectedFlatLayout(flatLayout);\n                setFlatLayoutDialogState(true);\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [flatLayouts]);\n\n    const setImageSizes = (width, height) => {\n        setImageSize({\n            width,\n            height\n        });\n        if (svgRef.current) {\n            svgRef.current.viewbox(0, 0, width, height);\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ImageContainer id=\"img-container\" width={imageSize.width} height={imageSize.height} url={imageUrl} />\n            <ImageMask\n                src={imageUrl}\n                onLoad={(event) => {\n                    const img: any = event.target;\n                    if (img.width < img.naturalWidth || img.height < img.naturalHeight) {\n                        setImageSizes(img.naturalWidth, img.naturalHeight);\n                    } else {\n                        setImageSizes(img.width, img.height);\n                    }\n                }}\n            />\n            <FlatLayoutSelectionDialog\n                open={isHouseLayoutsOpen}\n                setOpen={setHouseLayoutsDialogState}\n                onLayoutSelected={async (layout?: HouseLayout) => {\n                    await assignFlatLayouts({\n                        variables: {\n                            levelLayoutId,\n                            flatLayoutId: layout?.id,\n                            viewBox: {\n                                width: imageSize.width,\n                                height: imageSize.height\n                            },\n                            path: JSON.stringify(selectionPath?.array().flat())\n                        }\n                    });\n                    refetchLayouts();\n                }}\n            />\n            {selectedFlatLayout && (\n                <FlatLayoutPreviewDialog\n                    refetchLayouts={refetchLayouts}\n                    open={isFlatLayoutOpen}\n                    setOpen={setFlatLayoutDialogState}\n                    flatLayout={selectedFlatLayout}\n                    layoutAssigned={async (layout: HouseLayout) => {\n                        await assignFlatLayoutsToLevelLayout({\n                            variables: {\n                                layoutAssignmentId: selectedFlatLayout.id,\n                                flatLayoutId: layout.id\n                            }\n                        });\n                        refetchLayouts();\n                    }}\n                />\n            )}\n        </MainContainer>\n    );\n}\n","import {useQuery} from '@apollo/react-hooks';\nimport {Slide} from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport React from 'react';\nimport {GET_LEVEL_LAYOUT_FLAT_LAYOUTS} from '../../../../graphql/queries/levelQuery';\nimport {LevelLayout} from '../../../shared/types/layout.types';\nimport {LevelLayoutSelection} from './LevelLayoutSelection';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative'\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1\n    }\n}));\n\nconst Transition = React.forwardRef(function(props: any, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\ninterface LevelLayoutSelectionDialogProps {\n    layout: LevelLayout;\n}\n\nexport function LevelLayoutSelectionDialog(props: LevelLayoutSelectionDialogProps) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const {data, refetch} = useQuery(GET_LEVEL_LAYOUT_FLAT_LAYOUTS, {\n        variables: {\n            levelLayoutId: props.layout.id\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Link href=\"#\" onClick={handleClickOpen}>\n                Отметить планировки\n            </Link>\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition as any}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            Выбор планировок\n                        </Typography>\n                        <Button autoFocus color=\"inherit\" variant=\"contained\" onClick={handleClose}>\n                            Сохранить\n                        </Button>\n                    </Toolbar>\n                </AppBar>\n                <LevelLayoutSelection\n                    imageUrl={props.layout.image.downloadUrl}\n                    levelLayoutId={props.layout.id}\n                    flatLayouts={data?.getLevelLayoutFlatLayouts}\n                    refetchLayouts={refetch}\n                />\n            </Dialog>\n        </div>\n    );\n}\n","import {MutationTuple, useMutation, useQuery} from '@apollo/react-hooks';\nimport {Fab, IconButton, TableBody} from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport AddIcon from '@material-ui/icons/Add';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport React, {Fragment} from 'react';\nimport {useParams} from 'react-router';\nimport styled from 'styled-components';\nimport {CREATE_LEVEL_LAYOUT, DELETE_LEVEL_LAYOUT, EDIT_LEVEL_LAYOUT} from '../../../graphql/mutations/layoutMutation';\nimport {GET_LEVEL_LAYOUTS} from '../../../graphql/queries/layoutQuery';\nimport {Confirmation} from '../../shared/components/dialogs/ConfirmDialog';\nimport {LevelLayout} from '../../shared/types/layout.types';\nimport {LayoutDialog} from '../Images/LayoutDialog/LayoutDialog';\nimport {LevelEditorDialog} from './LevelEditorDialog/LevelEditorDialog';\nimport {LevelLayoutSelectionDialog} from './LevelLayoutSelectionDialog/LevelLayoutSelectionDialog';\nimport {GET_LEVEL_LAYOUT_FLAT_LAYOUTS} from '../../../graphql/queries/levelQuery';\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\ninterface NewLayoutProps {\n    uuid: string;\n    mutation: MutationTuple<any, any>;\n}\n\nfunction CreateLayout({uuid, mutation}: NewLayoutProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <LayoutDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid}} />\n        </ButtonContainer>\n    );\n}\n\nconst LayoutImage = styled.img`\n    max-height: 120px;\n`;\n\nfunction EditLayoutButton({layout}) {\n    const {houseUuid} = useParams();\n    const [open, setOpen] = React.useState(false);\n    const mutation = useMutation(EDIT_LEVEL_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LEVEL_LAYOUTS,\n                variables: {\n                    houseId: houseUuid\n                }\n            },\n            {\n                query: GET_LEVEL_LAYOUT_FLAT_LAYOUTS,\n                variables: {\n                    levelLayoutId: layout.id\n                }\n            }\n        ]\n    });\n\n    return (\n        <Fragment>\n            <IconButton\n                aria-label=\"edit\"\n                color=\"primary\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <CreateIcon fontSize=\"small\" />\n            </IconButton>\n            <LayoutDialog\n                isEdit={true}\n                mutation={mutation}\n                downloadLink={layout.image.previewImageUrl}\n                setOpen={setOpen}\n                open={open}\n                params={{uuid: layout.id, name: layout.name}}\n            />\n        </Fragment>\n    );\n}\n\nfunction LevelLayouts() {\n    const {houseUuid} = useParams();\n    const {loading, error, data, refetch} = useQuery(GET_LEVEL_LAYOUTS, {\n        variables: {\n            houseId: houseUuid\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    const [deleteMutation] = useMutation(DELETE_LEVEL_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LEVEL_LAYOUTS,\n                variables: {\n                    houseId: houseUuid\n                }\n            }\n        ]\n    });\n\n    if (loading || error) {\n        return null;\n    }\n\n    return (\n        <TableContainer>\n            <Table stickyHeader aria-label=\"sticky table\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Планировка</TableCell>\n                        <TableCell>Название</TableCell>\n                        <TableCell>Этажи</TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {data.getLevelLayouts.map((layout: LevelLayout) => {\n                        return (\n                            <TableRow hover tabIndex={-1} key={layout.id}>\n                                <TableCell>\n                                    <LayoutImage src={layout.image.previewImageUrl} />\n                                </TableCell>\n                                <TableCell>{layout.name}</TableCell>\n                                <TableCell>\n                                    <LevelEditorDialog refetch={refetch} layoutId={layout.id} />\n                                    <LevelLayoutSelectionDialog layout={layout} />\n                                </TableCell>\n                                <TableCell>\n                                    <EditLayoutButton layout={layout} />\n                                    <Confirmation>\n                                        {(confirmFn: (cb: () => void) => void) => {\n                                            return (\n                                                <IconButton\n                                                    aria-label=\"delete\"\n                                                    color=\"secondary\"\n                                                    onClick={() => {\n                                                        confirmFn(() => async () => {\n                                                            await deleteMutation({\n                                                                variables: {\n                                                                    uuid: layout.id\n                                                                }\n                                                            });\n                                                        });\n                                                    }}\n                                                >\n                                                    <DeleteIcon fontSize=\"small\" />\n                                                </IconButton>\n                                            );\n                                        }}\n                                    </Confirmation>\n                                </TableCell>\n                            </TableRow>\n                        );\n                    })}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n\nexport function LevelLayoutEditor() {\n    const {houseUuid: uuid} = useParams();\n    const mutation = useMutation(CREATE_LEVEL_LAYOUT, {\n        refetchQueries: [\n            {\n                query: GET_LEVEL_LAYOUTS,\n                variables: {\n                    houseId: uuid\n                }\n            }\n        ]\n    });\n\n    if (!uuid) {\n        return null;\n    }\n\n    return (\n        <div>\n            <CreateLayout mutation={mutation} uuid={uuid} />\n            <LevelLayouts />\n        </div>\n    );\n}\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      _classCallCheck(this, WithSortableHandle);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableHandle).apply(this, arguments));\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? _node : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      validateProps(props);\n      _this.manager = new Manager();\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"getChildContext\",\n      value: function getChildContext() {\n        return {\n          manager: this.manager\n        };\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps)));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _defineProperty(_class, \"childContextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      _classCallCheck(this, WithSortableElement);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableElement).apply(this, arguments));\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n","import {gql} from 'apollo-boost';\n\nexport const UPDATE_FLAT = gql`\n    mutation updateFlat($flat: HouseFlatInput) {\n        updateFlat(flat: $flat) {\n            id\n            flatNumber\n            levelAmount\n            price\n            area\n            status\n            roomAmount\n            sale\n        }\n    }\n`;\n\nexport const CREATE_FLAT = gql`\n    mutation createFlat($houseGuid: String, $flat: HouseFlatInput) {\n        createFlat(houseGuid: $houseGuid, flat: $flat) {\n            id\n            flatNumber\n            levelAmount\n            price\n            area\n            status\n            roomAmount\n            sale\n        }\n    }\n`;\n\nexport const DELETE_FLAT = gql`\n    mutation deleteFlat($uuid: String) {\n        deleteFlat(uuid: $uuid)\n    }\n`;\n\nexport const ADD_LEVEL = gql`\n    mutation addLevel($sectionId: String!) {\n        addLevel(sectionId: $sectionId)\n    }\n`;\n\nexport const DELETE_LEVEL = gql`\n    mutation deleteLevel($levelId: String!) {\n        deleteLevel(levelId: $levelId)\n    }\n`;\n\nexport const DELETE_SECTION = gql`\n    mutation deleteSection($sectionId: String!) {\n        deleteSection(sectionId: $sectionId)\n    }\n`;\n","import {useMutation} from '@apollo/react-hooks';\nimport {MenuItem} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport omit from 'ramda/src/omit';\nimport React, {Fragment} from 'react';\nimport {Field, Form} from 'react-final-form';\nimport {useParams} from 'react-router-dom';\nimport {FLAT_STATUSES} from '../../../../../core/constants';\nimport {\n    getError,\n    isRequired,\n    isRequiredAndIsInteger,\n    isRequiredAndIsNumber,\n    notRequiredAndIsNumber\n} from '../../../../../core/validators/validators';\nimport {CREATE_FLAT, UPDATE_FLAT} from '../../../../../graphql/mutations/flatMutation';\nimport {GET_MAX_LEVEL, GET_SECTION} from '../../../../../graphql/queries/flatQuery';\nimport {GET_GROUPED_FLATS} from '../../../../../graphql/queries/houseQuery';\nimport {Confirmation} from '../../../../shared/components/dialogs/ConfirmDialog';\nimport {Flat} from '../../../../shared/types/flat.types';\n\ninterface FlatFormDialogProps {\n    open: boolean;\n    sectionId: string;\n    setOpen: (value: boolean) => void;\n    flat: Flat;\n    isNew?: boolean;\n    maxLevel: number;\n}\n\nfunction toGraphqlFlat(flat: Flat): Flat {\n    return omit(['__typename'], {\n        ...flat,\n        flatNumber: flat.flatNumber,\n        area: Number(flat.area),\n        section: flat.section,\n        level: Number(flat.level),\n        price: Number(flat.price),\n        sale: !!flat.sale ? Number(flat.sale) : undefined,\n        levelAmount: Number(flat.levelAmount),\n        roomAmount: flat.roomAmount\n    });\n}\n\nfunction shouldShowDialog(levelNumber: number, maxLevelNumber: number) {\n    return levelNumber > maxLevelNumber + 1;\n}\n\nexport function FlatFormDialog({open, setOpen, flat, isNew, maxLevel, sectionId}: FlatFormDialogProps) {\n    const {houseUuid: uuid} = useParams();\n    const [updateFlat] = useMutation(UPDATE_FLAT);\n    const [createFlat] = useMutation(CREATE_FLAT);\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleSave = (values: Flat) => {\n        return async () => {\n            if (isNew) {\n                await createFlat({\n                    variables: {\n                        flat: toGraphqlFlat(values),\n                        houseGuid: uuid\n                    },\n                    refetchQueries: [\n                        {\n                            query: GET_GROUPED_FLATS,\n                            variables: {\n                                uuid\n                            }\n                        },\n                        {\n                            query: GET_MAX_LEVEL,\n                            variables: {\n                                sectionId\n                            }\n                        }\n                    ]\n                });\n                setOpen(false);\n                return;\n            }\n            await updateFlat({\n                variables: {\n                    flat: toGraphqlFlat(values)\n                },\n                refetchQueries: [\n                    {\n                        query: GET_SECTION,\n                        variables: {\n                            sectionId\n                        }\n                    },\n                    {\n                        query: GET_MAX_LEVEL,\n                        variables: {\n                            sectionId\n                        }\n                    }\n                ]\n            });\n            setOpen(false);\n        };\n    };\n\n    return (\n        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n            <Form initialValues={{...flat}} onSubmit={(e) => {}}>\n                {({values, invalid}) => {\n                    return (\n                        <Fragment>\n                            <DialogTitle id=\"form-dialog-title\">Редактировать квартиру</DialogTitle>\n                            <DialogContent>\n                                <Grid container={true} spacing={1}>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"flatNumber\" validate={isRequired}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Номер квартиры\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"price\" validate={isRequiredAndIsNumber}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Цена\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"sale\" validate={notRequiredAndIsNumber}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Акционная цена\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"level\" validate={isRequiredAndIsInteger}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Этаж\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"section\" validate={isRequiredAndIsInteger}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Подъезд\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    disabled={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"area\" validate={isRequiredAndIsNumber}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Площадь\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"status\" validate={isRequired}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    select={true}\n                                                    label=\"Статус\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                >\n                                                    {FLAT_STATUSES.map((item: any) => {\n                                                        return (\n                                                            <MenuItem key={item.value} value={item.value}>\n                                                                {item.label}\n                                                            </MenuItem>\n                                                        );\n                                                    })}\n                                                </TextField>\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"roomAmount\" validate={isRequired}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Количество комнат\"\n                                                    margin=\"normal\"\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                    <Grid item={true} xs={6}>\n                                        <Field name=\"levelAmount\" validate={isRequiredAndIsInteger}>\n                                            {({input, meta, ...rest}) => (\n                                                <TextField\n                                                    label=\"Количество уровней\"\n                                                    type=\"number\"\n                                                    margin=\"normal\"\n                                                    inputProps={{\n                                                        min: 1\n                                                    }}\n                                                    {...input}\n                                                    {...rest}\n                                                    error={!!getError(meta)}\n                                                    helperText={getError(meta)}\n                                                    fullWidth={true}\n                                                    variant=\"outlined\"\n                                                />\n                                            )}\n                                        </Field>\n                                    </Grid>\n                                </Grid>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={handleClose} color=\"primary\">\n                                    Отмена\n                                </Button>\n                                {shouldShowDialog(values.level, maxLevel) ? (\n                                    <Confirmation\n                                        text={\n                                            'Вы указали большое значение для этажа. Недостающие этажи будут созданы. Продолжить?'\n                                        }\n                                    >\n                                        {(confirmFn: (cb: () => void) => void) => {\n                                            return (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    disabled={invalid}\n                                                    onClick={() => {\n                                                        confirmFn(() => handleSave(values as Flat));\n                                                    }}\n                                                    color=\"primary\"\n                                                >\n                                                    Сохранить\n                                                </Button>\n                                            );\n                                        }}\n                                    </Confirmation>\n                                ) : (\n                                    <Button\n                                        variant=\"contained\"\n                                        disabled={invalid}\n                                        onClick={handleSave(values as Flat)}\n                                        color=\"primary\"\n                                    >\n                                        Сохранить\n                                    </Button>\n                                )}\n                            </DialogActions>\n                        </Fragment>\n                    );\n                }}\n            </Form>\n        </Dialog>\n    );\n}\n","import AddIcon from '@material-ui/icons/Add';\nimport * as React from 'react';\nimport {Fragment} from 'react';\nimport {FabButtonContainer, StyledFab} from '../../../../shared/components/styled';\nimport {FlatFormDialog} from '../FlatForm/FlatForm';\n\ninterface AddFlatCardProps {\n    level: number;\n    sectionId: string;\n    section: string;\n    maxLevel: number;\n}\nexport function AddFlatCard(props: AddFlatCardProps) {\n    const [open, setOpen] = React.useState(false);\n    return (\n        <Fragment>\n            <FabButtonContainer>\n                <StyledFab\n                    color=\"secondary\"\n                    aria-label=\"add\"\n                    onClick={() => {\n                        setOpen(true);\n                    }}\n                >\n                    <AddIcon />\n                </StyledFab>\n            </FabButtonContainer>\n            <FlatFormDialog\n                open={open}\n                setOpen={setOpen}\n                isNew={true}\n                sectionId={props.sectionId}\n                maxLevel={props.maxLevel}\n                flat={{level: props.level, section: props.section} as any}\n            />\n        </Fragment>\n    );\n}\n","import {CardActionArea} from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport React, {Fragment, memo} from 'react';\nimport {CardHeaderWithMenu} from '../../../../shared/components/menus/CardHeaderWithMenu';\nimport {Flat} from '../../../../shared/types/flat.types';\nimport {FlatFormDialog} from '../FlatForm/FlatForm';\nimport {flatDefaultImage} from '../../../../../core/constants';\nimport {useMutation} from '@apollo/react-hooks';\nimport {DELETE_FLAT} from '../../../../../graphql/mutations/flatMutation';\nimport {GET_SECTION} from '../../../../../graphql/queries/flatQuery';\nimport {StyledCardMedia} from '../../../../shared/components/styled';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        card: {\n            width: 150\n        },\n        media: {\n            height: 0,\n            paddingTop: '56.25%' // 16:9\n        }\n    })\n);\n\ninterface FlatCardProps {\n    flat: Flat;\n    sectionId: string;\n    maxLevel: number;\n}\n\nexport const FlatCard = memo((props: FlatCardProps) => {\n    const classes = useStyles();\n    const {flat} = props;\n    const [deleteFlat] = useMutation(DELETE_FLAT);\n    const [open, setOpen] = React.useState(false);\n    return (\n        <Fragment>\n            <Card className={classes.card}>\n                <CardHeaderWithMenu\n                    title={flat.flatNumber}\n                    action={\n                        <IconButton aria-label=\"settings\">\n                            <MoreVertIcon />\n                        </IconButton>\n                    }\n                >\n                    <MenuItem\n                        onClick={(event) => {\n                            event.preventDefault();\n                            setOpen(true);\n                        }}\n                    >\n                        Редактировать\n                    </MenuItem>\n                    <MenuItem\n                        onClick={async (event) => {\n                            event.preventDefault();\n                            await deleteFlat({\n                                variables: {\n                                    uuid: flat.id\n                                },\n                                refetchQueries: [\n                                    {\n                                        query: GET_SECTION,\n                                        variables: {\n                                            sectionId: props.sectionId\n                                        }\n                                    }\n                                ]\n                            });\n                        }}\n                    >\n                        Удалить\n                    </MenuItem>\n                </CardHeaderWithMenu>\n                <CardActionArea>\n                    <StyledCardMedia image={flatDefaultImage} />\n                    <CardContent>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" />\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n            <FlatFormDialog\n                open={open}\n                setOpen={setOpen}\n                flat={flat}\n                maxLevel={props.maxLevel}\n                sectionId={props.sectionId}\n            />\n        </Fragment>\n    );\n});\n","import {useMutation, useQuery} from '@apollo/react-hooks';\nimport {Button, ExpansionPanelSummary, FormControlLabel} from '@material-ui/core';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport DehazeIcon from '@material-ui/icons/Dehaze';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport arrayMove from 'array-move';\nimport React, {Fragment, memo, useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {SortableContainer, SortableElement, SortableHandle} from 'react-sortable-hoc';\nimport styled from 'styled-components';\nimport {ADD_LEVEL, DELETE_LEVEL, DELETE_SECTION} from '../../../../../graphql/mutations/flatMutation';\nimport {REORDER_LEVELS} from '../../../../../graphql/mutations/houseMutation';\nimport {GET_MAX_LEVEL, GET_SECTION} from '../../../../../graphql/queries/flatQuery';\nimport {GET_GROUPED_FLATS, GroupedFlats} from '../../../../../graphql/queries/houseQuery';\nimport {Confirmation} from '../../../../shared/components/dialogs/ConfirmDialog';\nimport {Flat} from '../../../../shared/types/flat.types';\nimport {AddFlatCard} from '../AddFlatCard/AddFlatCard';\nimport {FlatCard} from '../FlatCard/FlatCard';\n\ninterface LevelRepresentationProps {\n    section: GroupedFlats;\n}\n\ninterface SortableListRepresentation {\n    section: GroupedFlats;\n    levels: Array<{\n        id: string;\n        level: number;\n        flats: Flat[];\n    }>;\n    maxLevel: number;\n}\n\nconst StyledButton = styled(Button)`\n    margin-bottom: 16px !important;\n`;\n\nconst StyledIconButton = styled(IconButton)`\n    margin-left: auto !important;\n    margin-right: 0 !important;\n`;\n\nconst StyledInfo = styled(Typography)`\n    align-self: center;\n`;\n\ninterface AddLevelButtonProps {\n    section: string;\n}\n\nconst DragHandle = SortableHandle(() => <DehazeIcon />);\n\nfunction AddLevelButton({section}: AddLevelButtonProps) {\n    const [addLevel] = useMutation(ADD_LEVEL);\n    return (\n        <StyledButton\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={async () => {\n                await addLevel({\n                    variables: {\n                        sectionId: section\n                    },\n                    refetchQueries: [\n                        {\n                            query: GET_SECTION,\n                            variables: {\n                                sectionId: section\n                            }\n                        },\n                        {\n                            query: GET_MAX_LEVEL,\n                            variables: {\n                                sectionId: section\n                            }\n                        }\n                    ]\n                });\n            }}\n        >\n            Добавить этаж\n        </StyledButton>\n    );\n}\n\ninterface DeleteSectionButtonProps {\n    houseId: string;\n    sectionId: string;\n}\n\nfunction DeleteSectionButton({sectionId, houseId}: DeleteSectionButtonProps) {\n    const [deleteSection] = useMutation(DELETE_SECTION);\n    return (\n        <Confirmation>\n            {(confirmFn: (cb: () => void) => void) => {\n                return (\n                    <StyledButton\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => {\n                            confirmFn(() => async () => {\n                                await deleteSection({\n                                    variables: {\n                                        sectionId\n                                    },\n                                    refetchQueries: [\n                                        {\n                                            query: GET_GROUPED_FLATS,\n                                            variables: {\n                                                uuid: houseId\n                                            }\n                                        }\n                                    ]\n                                });\n                            });\n                        }}\n                    >\n                        Удалить секцию\n                    </StyledButton>\n                );\n            }}\n        </Confirmation>\n    );\n}\n\ninterface DeleteLevelButtonProps {\n    levelId: string;\n    sectionId: string;\n}\n\nfunction DeleteLevelButton(props: DeleteLevelButtonProps) {\n    const [deleteLevel] = useMutation(DELETE_LEVEL);\n    return (\n        <Confirmation>\n            {(confirmFn: (cb: () => void) => void) => {\n                return (\n                    <StyledIconButton\n                        color=\"secondary\"\n                        onClick={(event) => {\n                            event.preventDefault();\n                            event.stopPropagation();\n                            confirmFn(() => async () => {\n                                await deleteLevel({\n                                    variables: {\n                                        levelId: props.levelId\n                                    },\n                                    refetchQueries: [\n                                        {\n                                            query: GET_SECTION,\n                                            variables: {\n                                                sectionId: props.sectionId\n                                            }\n                                        },\n                                        {\n                                            query: GET_MAX_LEVEL,\n                                            variables: {\n                                                sectionId: props.sectionId\n                                            }\n                                        }\n                                    ]\n                                });\n                            });\n                        }}\n                    >\n                        <DeleteOutline />\n                    </StyledIconButton>\n                );\n            }}\n        </Confirmation>\n    );\n}\n\nconst SortableItem = SortableElement(ExpansionPanel);\nconst SortableList = SortableContainer(({section, levels, maxLevel}: SortableListRepresentation) => {\n    return (\n        <div>\n            {levels.map((level, i) => {\n                return (\n                    <SortableItem key={level.id} index={i} TransitionProps={{unmountOnExit: true}}>\n                        <ExpansionPanelSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                            id=\"panel1a-header\"\n                        >\n                            <FormControlLabel label=\"\" control={<DragHandle />} />\n                            <StyledInfo>Этаж {level.level}</StyledInfo>\n                            <DeleteLevelButton sectionId={section.id} levelId={level.id} />\n                        </ExpansionPanelSummary>\n                        <ExpansionPanelDetails>\n                            <Grid container={true} spacing={3}>\n                                <Grid container={true} spacing={3} item={true} xs={3}>\n                                    <AddFlatCard\n                                        level={level.level}\n                                        sectionId={section.id}\n                                        section={section.section}\n                                        maxLevel={maxLevel}\n                                    />\n                                </Grid>\n                                {level.flats.map((flat) => {\n                                    return (\n                                        <Grid key={flat.id} container={true} item={true} xs={3} spacing={3}>\n                                            <FlatCard flat={flat} sectionId={section.id} maxLevel={maxLevel} />\n                                        </Grid>\n                                    );\n                                })}\n                            </Grid>\n                        </ExpansionPanelDetails>\n                    </SortableItem>\n                );\n            })}\n        </div>\n    );\n});\n\nexport const LevelRepresentation = memo(function LevelRepresentationFn(props: LevelRepresentationProps) {\n    const {section} = props;\n\n    const [levels, setLevels] = useState(props.section.levels);\n    const [reorderFlats] = useMutation(REORDER_LEVELS);\n    const {data, error, loading} = useQuery(GET_MAX_LEVEL, {\n        variables: {\n            sectionId: section.id\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    useEffect(() => {\n        setLevels(props.section.levels);\n    }, [props.section]);\n    const {houseUuid} = useParams();\n\n    if (error || loading) {\n        return null;\n    }\n\n    const maxLevel = data.getMaxLevelInSection || 0;\n\n    if (!houseUuid) {\n        return null;\n    }\n\n    return (\n        <Fragment>\n            <DeleteSectionButton sectionId={section.id} houseId={houseUuid} />\n            <AddLevelButton section={section.id} />\n            <SortableList\n                maxLevel={maxLevel}\n                useDragHandle={true}\n                section={section}\n                levels={levels}\n                onSortEnd={async ({oldIndex, newIndex, collection, isKeySorting}, e) => {\n                    setLevels(\n                        arrayMove(levels, oldIndex, newIndex).map((level, index) => {\n                            return {\n                                ...level,\n                                level: levels.length - index\n                            };\n                        })\n                    );\n                    await reorderFlats({\n                        variables: {\n                            sectionId: section.id,\n                            oldIndex,\n                            newIndex\n                        }\n                    });\n                }}\n            />\n        </Fragment>\n    );\n});\n","import {useQuery} from '@apollo/react-hooks';\nimport {AppBar} from '@material-ui/core';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport React, {Fragment, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {GET_GROUPED_FLATS, GroupedFlats} from '../../../../graphql/queries/houseQuery';\nimport {TabPanel} from '../../../shared/components/tabs/TabPanel';\nimport {LevelRepresentation} from './LevelRepresentation/LevelRepresentation';\n\nfunction renderTabs(flats: GroupedFlats[]) {\n    return flats.map((section) => {\n        return <Tab key={section.id} label={`Секция ${section.section}`} />;\n    });\n}\n\nfunction renderLevels(flats: GroupedFlats[], value: number) {\n    return flats.map((section, i) => {\n        return (\n            <TabPanel value={value} key={section.id} index={i}>\n                <LevelRepresentation section={section} />\n            </TabPanel>\n        );\n    });\n}\n\nexport function HouseEditor() {\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n\n    const {houseUuid: uuid} = useParams();\n    const {loading, error, data} = useQuery(GET_GROUPED_FLATS, {\n        variables: {\n            uuid: uuid\n        },\n        fetchPolicy: 'cache-and-network'\n    });\n\n    if (loading || error || !data?.getGroupedHouseData?.groupedFlats) {\n        return null;\n    }\n\n    const sections = data.getGroupedHouseData.groupedFlats;\n    return (\n        <Fragment>\n            <AppBar position=\"static\" color=\"default\">\n                <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" variant=\"scrollable\">\n                    {renderTabs(sections)}\n                </Tabs>\n            </AppBar>\n            {renderLevels(sections, value)}\n        </Fragment>\n    );\n}\n","import * as React from 'react';\nimport {Fragment} from 'react';\nimport {useParams} from 'react-router';\nimport {apartmentComplexDefaultImage} from '../../../../../core/constants';\nimport {ApartmentComplexImages, ImageType, SingleImage} from '../../../../shared/types/apartmentComplex.types';\nimport {ImageDialog} from '../../../Images/ImageDialog/ImageDialog';\nimport {useMutation} from '@apollo/react-hooks';\nimport {UPLOAD_FILE} from '../../../../../graphql/mutations/houseMutation';\nimport {HOUSE_INFO} from '../../../../../graphql/queries/houseQuery';\nimport {HouseImages} from '../../../../shared/types/house.types';\nimport styled from 'styled-components';\n\ninterface Mode {\n    title: string;\n    value: ImageType;\n}\n\ninterface PreviewComponentProps {\n    uuid: string;\n    mode: Mode;\n    images: ApartmentComplexImages;\n}\n\nconst HouseImage = styled.img`\n    width: 90%;\n    margin: 8px;\n    align-self: center;\n    border: 1px solid #ccc;\n    cursor: pointer;\n`;\n\nfunction PreviewComponent(props: PreviewComponentProps) {\n    const [open, setOpen] = React.useState(false);\n    const image: SingleImage = (props.images[props.mode.value] || {\n        uuid: '',\n        downloadUrl: apartmentComplexDefaultImage\n    }) as SingleImage;\n\n    const mutation = useMutation(UPLOAD_FILE, {\n        refetchQueries: [\n            {\n                query: HOUSE_INFO,\n                variables: {\n                    uuid: props.uuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <Fragment>\n            <HouseImage\n                src={image.downloadUrl}\n                alt={'Дом'}\n                onClick={() => {\n                    setOpen(true);\n                }}\n            />\n            <ImageDialog\n                mutation={mutation}\n                setOpen={setOpen}\n                open={open}\n                params={{uuid: props.uuid, mode: props.mode.value}}\n            />\n        </Fragment>\n    );\n}\n\ninterface MainApartmentComplexImagesProps {\n    images: HouseImages;\n}\n\nexport function MainHouseImages({images}: MainApartmentComplexImagesProps) {\n    const {houseUuid: uuid} = useParams();\n    return (\n        <PreviewComponent\n            images={images}\n            uuid={uuid as string}\n            mode={{\n                title: 'Изображение',\n                value: ImageType.CHESS_GRID\n            }}\n        />\n    );\n}\n","import {Fab} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport AddIcon from '@material-ui/icons/Add';\nimport * as React from 'react';\nimport {Fragment} from 'react';\nimport styled from 'styled-components';\nimport {ImageType, NamedImage} from '../../../../shared/types/apartmentComplex.types';\nimport {ImagePreview} from '../../../Images/ImagePreview/ImagePreview';\nimport {PhotoDialog} from '../../../Images/PhotoDialog/PhotoDialog';\nimport {MutationTuple, useMutation} from '@apollo/react-hooks';\nimport {DELETE_IMAGE, UPLOAD_FILE} from '../../../../../graphql/mutations/houseMutation';\nimport {HOUSE_INFO} from '../../../../../graphql/queries/houseQuery';\n\ninterface PreviewComponentProps {\n    uuid: string;\n    images: NamedImage[];\n    mode: ImageType;\n}\n\ninterface NewVRImageProps {\n    uuid: string;\n    mode: ImageType;\n    mutation: MutationTuple<any, any>;\n}\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\nfunction NewPhoto({uuid, mode, mutation}: NewVRImageProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <PhotoDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid, mode}} />\n        </ButtonContainer>\n    );\n}\n\nexport function Photos(props: PreviewComponentProps) {\n    const mutation = useMutation(UPLOAD_FILE, {\n        refetchQueries: [\n            {\n                query: HOUSE_INFO,\n                variables: {\n                    uuid: props.uuid\n                }\n            }\n        ]\n    });\n\n    const deleteMutation = useMutation(DELETE_IMAGE, {\n        refetchQueries: [\n            {\n                query: HOUSE_INFO,\n                variables: {\n                    uuid: props.uuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <Fragment>\n            <Grid container={true} spacing={3} alignItems=\"center\">\n                <Grid item={true} xs={12} md={3}>\n                    <NewPhoto mutation={mutation} uuid={props.uuid} mode={props.mode} />\n                </Grid>\n                {props.images.map((image) => {\n                    return (\n                        <Grid item={true} xs={12} md={3} key={image.uuid}>\n                            <ImagePreview\n                                deleteMutation={deleteMutation}\n                                uuid={props.uuid}\n                                imageUuid={image.uuid}\n                                mode={props.mode}\n                                url={image.downloadUrl}\n                                title={image.name}\n                            >\n                                {(toggle: (a: boolean) => void, state: boolean, params: any) => {\n                                    return (\n                                        <PhotoDialog\n                                            mutation={mutation}\n                                            setOpen={toggle}\n                                            open={state}\n                                            params={params}\n                                            downloadLink={image.downloadUrl}\n                                        />\n                                    );\n                                }}\n                            </ImagePreview>\n                        </Grid>\n                    );\n                })}\n            </Grid>\n        </Fragment>\n    );\n}\n","import {Fab} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport AddIcon from '@material-ui/icons/Add';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport {ImageType, PreviewImage} from '../../../../shared/types/apartmentComplex.types';\nimport {ImagePreview} from '../../../Images/ImagePreview/ImagePreview';\nimport {VRDialog} from '../../../Images/VRDialog/VRDialog';\nimport {HOUSE_INFO} from '../../../../../graphql/queries/houseQuery';\nimport {MutationTuple, useMutation} from '@apollo/react-hooks';\nimport {DELETE_IMAGE, UPLOAD_FILE} from '../../../../../graphql/mutations/houseMutation';\n\ninterface PreviewComponentProps {\n    uuid: string;\n    images: PreviewImage[];\n    mode: ImageType;\n}\n\ninterface NewVRImageProps {\n    uuid: string;\n    mutation: MutationTuple<any, any>;\n    mode: ImageType;\n}\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst StyledFab = styled(Fab)`\n    &.MuiFab-root {\n        width: 140px;\n        height: 140px;\n        .MuiSvgIcon-root {\n            width: 3em;\n            height: 3em;\n        }\n    }\n`;\n\nfunction NewVRImage({uuid, mode, mutation}: NewVRImageProps) {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <ButtonContainer>\n            <StyledFab\n                color=\"secondary\"\n                aria-label=\"add\"\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <AddIcon />\n            </StyledFab>\n            <VRDialog mutation={mutation} setOpen={setOpen} open={open} params={{uuid, mode}} />\n        </ButtonContainer>\n    );\n}\n\nexport function VRImages(props: PreviewComponentProps) {\n    const mutation = useMutation(UPLOAD_FILE, {\n        refetchQueries: [\n            {\n                query: HOUSE_INFO,\n                variables: {\n                    uuid: props.uuid\n                }\n            }\n        ]\n    });\n\n    const deleteMutation = useMutation(DELETE_IMAGE, {\n        refetchQueries: [\n            {\n                query: HOUSE_INFO,\n                variables: {\n                    uuid: props.uuid\n                }\n            }\n        ]\n    });\n\n    return (\n        <Grid container={true} spacing={2} alignItems=\"center\">\n            <Grid item={true} xs={12} md={3}>\n                <NewVRImage mutation={mutation} uuid={props.uuid} mode={props.mode} />\n            </Grid>\n            {props.images.map((image) => {\n                return (\n                    <Grid item={true} xs={12} md={3} key={image.uuid}>\n                        <ImagePreview\n                            deleteMutation={deleteMutation}\n                            uuid={props.uuid}\n                            imageUuid={image.uuid}\n                            mode={props.mode}\n                            url={image.previewImageUrl}\n                            title={image.name}\n                        >\n                            {(toggle: (a: boolean) => void, state: boolean, params: any) => {\n                                return (\n                                    <VRDialog\n                                        mutation={mutation}\n                                        setOpen={toggle}\n                                        open={state}\n                                        params={params}\n                                        downloadLink={image.downloadUrl}\n                                    />\n                                );\n                            }}\n                        </ImagePreview>\n                    </Grid>\n                );\n            })}\n        </Grid>\n    );\n}\n","import {useMutation, useQuery} from '@apollo/react-hooks';\nimport {AppBar, Grid, Theme} from '@material-ui/core';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Tab from '@material-ui/core/Tab';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Tabs from '@material-ui/core/Tabs';\nimport Typography from '@material-ui/core/Typography';\nimport {format, parseISO} from 'date-fns';\nimport {Fragment, useEffect, useState} from 'react';\nimport * as React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect, Route, Switch, useParams} from 'react-router';\nimport {useRouteMatch} from 'react-router-dom';\nimport styled from 'styled-components';\nimport {PUBLISH_HOUSE} from '../../../../graphql/mutations/houseMutation';\nimport {HOUSE_INFO} from '../../../../graphql/queries/houseQuery';\nimport {setRouteParams, setTitle} from '../../../../redux/actions';\nimport {TitleWithEditIcon} from '../../../shared/components/misc/TitleWithEditIcon';\nimport {StyledNavLink} from '../../../shared/components/styled';\nimport {TabPanel} from '../../../shared/components/tabs/TabPanel';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\nimport {House} from '../../../shared/types/house.types';\nimport {FlatLayouInfo} from '../../LayoutEditor/FlatLayoutInfo/FlatLayoutInfo';\nimport {LayoutEditor} from '../../LayoutEditor/LayoutEditor';\nimport {LevelLayoutEditor} from '../../LevelEditor';\nimport {HouseEditor} from '../HouseEditor/HouseEditor';\nimport {MainHouseImages} from './MainHouseImages/MainHouseImages';\nimport {Photos} from './Photos/Photos';\nimport {VRImages} from './VRImages/VRImages';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        flexGrow: 1,\n        width: '100%'\n    }\n}));\n\nconst StyledPaper = styled(Paper)`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst StyledLink = styled(StyledNavLink)`\n    &.Mui-selected > div {\n        color: white;\n        background-color: #37485c;\n        &:hover {\n            background-color: #5d7a9c;\n        }\n    }\n`;\n\nfunction PublishHouse({uuid}) {\n    const [mutation] = useMutation(PUBLISH_HOUSE);\n\n    return (\n        <ListItem\n            button={true}\n            onClick={async () => {\n                await mutation({\n                    variables: {\n                        uuid\n                    },\n                    refetchQueries: [\n                        {\n                            query: HOUSE_INFO,\n                            variables: {\n                                uuid\n                            }\n                        }\n                    ]\n                });\n            }}\n        >\n            <ListItemText primary=\"Опубликовать\" />\n        </ListItem>\n    );\n}\n\nexport const HouseInfo = connect(null, (dispatch) => ({\n    applyParams: (params) => dispatch(setRouteParams(params)),\n    applyTitle: (title) => dispatch(setTitle(title))\n}))(({applyParams, applyTitle}) => {\n    const params = useParams();\n\n    useEffect(() => {\n        applyParams(params);\n        applyTitle('Информация о доме');\n    }, [params]); // eslint-disable-line\n    const classes = useStyles();\n    const [value, setValue] = useState(0);\n    const {path, url} = useRouteMatch();\n    const {houseUuid: uuid, apartmentComplexUuid, developerUuid} = useParams();\n    if (!uuid) {\n        return <Redirect to=\"/\" />;\n    }\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const {loading, error, data} = useQuery<{getHouse: House}>(HOUSE_INFO, {\n        fetchPolicy: 'network-only',\n        variables: {\n            uuid\n        }\n    });\n\n    if (loading) {\n        return <p>Loading...</p>;\n    }\n    if (error || !data) {\n        return <p>Error :(</p>;\n    }\n\n    if (!data.getHouse) {\n        return <Redirect to=\"/\" />;\n    }\n\n    const {name, images, parking, price, publishedDate} = data.getHouse;\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n    const publishedText = publishedDate ? `Опубликовано: ${format(parseISO(publishedDate), 'dd.MM.yyyy HH:mm')}` : '';\n    return (\n        <Fragment>\n            <Container maxWidth=\"lg\">\n                <TitleWithEditIcon\n                    title={`${name}`}\n                    editUrl={`/developers/${developerUuid}/apartmentComplex/${apartmentComplexUuid}/houseEdit/${uuid}`}\n                    children={<span>{publishedText}</span>}\n                />\n                <Grid container={true} spacing={2}>\n                    <Grid item={true} xs={3}>\n                        <StyledPaper>\n                            <MainHouseImages images={images} />\n                            <List component=\"nav\" aria-label=\"main mailbox folders\">\n                                <StyledLink activeClassName=\"Mui-selected\" to={`${url}/info`}>\n                                    <ListItem button={true}>\n                                        <ListItemText primary=\"Информация\" />\n                                    </ListItem>\n                                </StyledLink>\n                                <StyledLink\n                                    activeClassName=\"Mui-selected\"\n                                    to={`/developers/${developerUuid}/apartmentComplex/${apartmentComplexUuid}/houseGrid/${uuid}`}\n                                >\n                                    <ListItem button={true}>\n                                        <ListItemText primary=\"Просмотр шахматки\" />\n                                    </ListItem>\n                                </StyledLink>\n                                <StyledLink activeClassName=\"Mui-selected\" to={`${url}/editor`}>\n                                    <ListItem button={true}>\n                                        <ListItemText primary=\"Редактор помещений\" />\n                                    </ListItem>\n                                </StyledLink>\n                                <StyledLink activeClassName=\"Mui-selected\" to={`${url}/levels`}>\n                                    <ListItem button={true}>\n                                        <ListItemText primary=\"Планировка этажей\" />\n                                    </ListItem>\n                                </StyledLink>\n                                <StyledLink activeClassName=\"Mui-selected\" to={`${url}/layout`}>\n                                    <ListItem button={true}>\n                                        <ListItemText primary=\"Планировка квартир\" />\n                                    </ListItem>\n                                </StyledLink>\n                                <PublishHouse uuid={uuid} />\n                            </List>\n                        </StyledPaper>\n                    </Grid>\n                    <Grid item={true} xs={9}>\n                        <div className={classes.root}>\n                            <Switch>\n                                <Route exact={true} path={`${path}/info`}>\n                                    <AppBar position=\"static\" color=\"default\">\n                                        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                                            <Tab label=\"Информация\" />\n                                            <Tab label=\"360\" />\n                                            <Tab label=\"Фото\" />\n                                        </Tabs>\n                                    </AppBar>\n                                    <TabPanel value={value} index={0}>\n                                        <Table aria-label=\"simple table\">\n                                            <TableBody>\n                                                <TableRow>\n                                                    <TableCell component=\"th\" scope=\"row\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            Название дома\n                                                        </Typography>\n                                                    </TableCell>\n                                                    <TableCell align=\"right\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            {name}\n                                                        </Typography>\n                                                    </TableCell>\n                                                </TableRow>\n                                                <TableRow>\n                                                    <TableCell component=\"th\" scope=\"row\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            Стоимость квартир в доме\n                                                        </Typography>\n                                                    </TableCell>\n                                                    <TableCell align=\"right\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            {price}\n                                                        </Typography>\n                                                    </TableCell>\n                                                </TableRow>\n                                                <TableRow>\n                                                    <TableCell component=\"th\" scope=\"row\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            Парковка\n                                                        </Typography>\n                                                    </TableCell>\n                                                    <TableCell align=\"right\">\n                                                        <Typography variant=\"body2\" component=\"p\">\n                                                            {parking ? 'Есть' : 'Нет'}\n                                                        </Typography>\n                                                    </TableCell>\n                                                </TableRow>\n                                            </TableBody>\n                                        </Table>\n                                    </TabPanel>\n                                    <TabPanel value={value} index={1}>\n                                        <VRImages uuid={uuid} images={images.VR || []} mode={ImageType.VR} />\n                                    </TabPanel>\n                                    <TabPanel value={value} index={2}>\n                                        <Photos uuid={uuid} images={images.PHOTO || []} mode={ImageType.PHOTO} />\n                                    </TabPanel>\n                                </Route>\n                                <Route exact path={`${path}/editor`}>\n                                    <HouseEditor />\n                                </Route>\n                                <Route exact path={`${path}/levels`}>\n                                    <LevelLayoutEditor />\n                                </Route>\n                                <Route exact path={`${path}/layout`}>\n                                    <LayoutEditor />\n                                </Route>\n                                <Route exact path={`${path}/layout/:layoutId/info`}>\n                                    <FlatLayouInfo />\n                                </Route>\n                            </Switch>\n                        </div>\n                    </Grid>\n                </Grid>\n            </Container>\n        </Fragment>\n    );\n});\n\nexport default HouseInfo;\n","import {House} from './house.types';\n\nexport interface SingleImage {\n    uuid: string;\n    downloadUrl: string;\n}\n\nexport interface NamedImage extends SingleImage {\n    name: string;\n}\n\nexport interface PreviewImage extends NamedImage {\n    previewImageUrl: string;\n}\n\nexport interface City {\n    key: string;\n    displayName: string;\n    districts: District[];\n}\n\nexport interface District {\n    key: string;\n    displayName: string;\n}\n\nexport interface KeyDisplayName {\n    key: string;\n    displayName: string;\n}\n\nexport interface ApartmentComplexDTO {\n    type: KeyDisplayName;\n    name: string;\n    address: string;\n    city: KeyDisplayName;\n    district: KeyDisplayName;\n    class: KeyDisplayName;\n    levels: number;\n    sections: number;\n    price: number;\n    beginDate: string;\n    endDate: string;\n}\n\nexport interface ApartmentComplexImages {\n    CHESS_GRID?: SingleImage;\n    SITE?: SingleImage;\n    MOBILE?: SingleImage;\n    PHOTO?: NamedImage[];\n    VR?: PreviewImage[];\n    HALF_VR?: PreviewImage[];\n}\n\nexport interface ApartmentComplexType {\n    id: string;\n    type: KeyDisplayName;\n    name: string;\n    city: KeyDisplayName;\n    district: KeyDisplayName;\n    class: KeyDisplayName;\n    levels: number;\n    sections: number;\n    price: number;\n    beginDate: string;\n    endDate: string;\n    address: string;\n    images: ApartmentComplexImages;\n    houses: House[];\n}\n\nexport interface ApartmentComplexFormValues {\n    type: KeyDisplayName;\n    name: string;\n    city: City;\n    address: string;\n    district: District;\n    class: KeyDisplayName;\n    levels: string;\n    sections: string;\n    price: string;\n    beginDate: string;\n    endDate: string;\n}\n\nexport enum ImageType {\n    CHESS_GRID = 'CHESS_GRID',\n    SITE = 'SITE',\n    MOBILE = 'MOBILE',\n    PHOTO = 'PHOTO',\n    VR = 'VR',\n    HALF_VR = 'HALF_VR'\n}\n","import Typography from '@material-ui/core/Typography';\nimport {Box} from '@material-ui/core';\nimport * as React from 'react';\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: any;\n    value: any;\n}\n\nexport function TabPanel(props: TabPanelProps) {\n    const {children, value, index, ...other} = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            <Box p={3}>{children}</Box>\n        </Typography>\n    );\n}\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport React, {Fragment} from 'react';\n\nexport function Confirmation(props: any) {\n    const [open, setOpen] = React.useState(false);\n    const [callbackFn, setCallbackFn] = React.useState<any>();\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const confirmFn = (callback: () => void) => {\n        handleClickOpen();\n        setCallbackFn(callback);\n    };\n    return (\n        <Fragment>\n            {props.children(confirmFn)}\n            <ConfirmDialog\n                open={open}\n                title={props.title}\n                text={props.text}\n                cancel={handleClose}\n                accept={() => {\n                    callbackFn();\n                    handleClose();\n                }}\n            />\n        </Fragment>\n    );\n}\n\nfunction ConfirmDialog({open, cancel, accept, text, title}: any) {\n    const heading = title ? title : 'Вы уверены?';\n    const mainText = text ? text : 'Данная операция не сможет быть отменена';\n    return (\n        <Dialog open={open} onClose={cancel} aria-labelledby=\"responsive-dialog-title\">\n            <DialogTitle id=\"responsive-dialog-title\">{heading}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>{mainText}</DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    autoFocus={true}\n                    onClick={(event) => {\n                        event.preventDefault();\n                        event.stopPropagation();\n                        cancel();\n                    }}\n                    color=\"primary\"\n                >\n                    Отмена\n                </Button>\n                <Button\n                    onClick={(event) => {\n                        event.preventDefault();\n                        event.stopPropagation();\n                        accept();\n                    }}\n                    color=\"primary\"\n                    autoFocus={true}\n                >\n                    Да\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import {gql} from 'apollo-boost';\nimport {ApartmentComplex} from '../../../../raccoon-city-graphql/src/db/models/apartmentComplex';\nimport {Developer} from '../../../../raccoon-city-graphql/src/db/models/developer';\nimport {Flat} from '../../components/shared/types/flat.types';\nimport {House} from '../../components/shared/types/house.types';\nimport {SinglePreviewImage} from '../../components/shared/types/layout.types';\n\nexport const GET_SECTION = gql`\n    query getSectionData($sectionId: String!) {\n        getSectionData(sectionId: $sectionId) {\n            id\n            section\n            levels {\n                id\n                level\n                flats {\n                    id\n                    flatNumber\n                    levelAmount\n                    price\n                    level\n                    section\n                    area\n                    status\n                    roomAmount\n                    sale\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_MAX_LEVEL = gql`\n    query getMaxLevelInSection($sectionId: String!) {\n        getMaxLevelInSection(sectionId: $sectionId)\n    }\n`;\n\ninterface ViewBox {\n    width: number;\n    height: number;\n}\nexport interface SidebarFlat extends Flat {\n    apartmentComplex: ApartmentComplex;\n    house: House;\n    developer: Developer;\n    levelLayouts: Array<{\n        id: string;\n        paths: string[];\n        image: SinglePreviewImage;\n        viewBox: ViewBox;\n    }>;\n}\nexport interface GetFlatSidebarDataQuery {\n    getFlatSidebarInfo: SidebarFlat;\n}\nexport const GET_FLAT_SIDEBAR_DATA = gql`\n    query getFlatSidebarInfo($flatId: String!) {\n        getFlatSidebarInfo(flatId: $flatId) {\n            id\n            flatNumber\n            levelAmount\n            price\n            level\n            section\n            area\n            status\n            roomAmount\n            sale\n            squarePrice\n            apartmentComplex {\n                id\n                name\n            }\n            developer {\n                id\n                receptionNumbers\n                salesNumbers\n                logo {\n                    downloadUrl\n                }\n            }\n            house {\n                id\n                name\n            }\n            layout {\n                id\n                name\n                image {\n                    uuid\n                    downloadUrl\n                    previewImageUrl\n                }\n                images {\n                    PHOTO {\n                        uuid\n                        downloadUrl\n                        name\n                    }\n                    VR {\n                        uuid\n                        downloadUrl\n                        name\n                        previewImageUrl\n                    }\n                    HALF_VR {\n                        uuid\n                        downloadUrl\n                        name\n                        previewImageUrl\n                    }\n                }\n            }\n            levelLayouts {\n                id\n                image {\n                    uuid\n                    downloadUrl\n                    previewImageUrl\n                }\n                viewBox {\n                    width\n                    height\n                }\n                paths\n            }\n        }\n    }\n`;\n\nexport const GET_PUBLIC_FLAT_SIDEBAR_DATA = gql`\n    query getPublicFlatSidebarInfo($flatId: String!) {\n        getFlatSidebarInfo: getPublicFlatSidebarInfo(flatId: $flatId) {\n            id\n            flatNumber\n            levelAmount\n            price\n            level\n            section\n            area\n            status\n            roomAmount\n            sale\n            squarePrice\n            apartmentComplex {\n                id\n                name\n            }\n            developer {\n                id\n                receptionNumbers\n                salesNumbers\n                logo {\n                    downloadUrl\n                }\n            }\n            house {\n                id\n                name\n            }\n            layout {\n                id\n                name\n                image {\n                    uuid\n                    downloadUrl\n                    previewImageUrl\n                }\n                images {\n                    PHOTO {\n                        uuid\n                        downloadUrl\n                        name\n                    }\n                    VR {\n                        uuid\n                        downloadUrl\n                        name\n                        previewImageUrl\n                    }\n                    HALF_VR {\n                        uuid\n                        downloadUrl\n                        name\n                        previewImageUrl\n                    }\n                }\n            }\n            levelLayouts {\n                id\n                image {\n                    uuid\n                    downloadUrl\n                    previewImageUrl\n                }\n                viewBox {\n                    width\n                    height\n                }\n                paths\n            }\n        }\n    }\n`;\n","import * as React from 'react';\nimport {Fragment} from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from '@material-ui/core/Menu';\nimport CardHeader from '@material-ui/core/CardHeader';\n\nexport function CardHeaderWithMenu(props: any) {\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const menuOpen = Boolean(anchorEl);\n    const handleMenuClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <CardHeader\n            title={props.title}\n            action={\n                <Fragment>\n                    <IconButton aria-label=\"settings\" onClick={handleMenuClick}>\n                        <MoreVertIcon />\n                    </IconButton>\n                    <Menu id=\"long-menu\" anchorEl={anchorEl} keepMounted={true} open={menuOpen} onClose={handleClose}>\n                        {props.children}\n                    </Menu>\n                </Fragment>\n            }\n        />\n    );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"\n}), 'Home');\n\nexports.default = _default;","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.3.6',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","module.exports = require('../internals/global');\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(length, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nvar Symbol = global.Symbol;\nvar store = shared('wks');\n\nmodule.exports = function (name) {\n  return store[name] || (store[name] = NATIVE_SYMBOL && Symbol[name]\n    || (NATIVE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names-external').f;\n\nvar FAILS_ON_PRIMITIVES = fails(function () { return !Object.getOwnPropertyNames(1); });\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  getOwnPropertyNames: nativeGetOwnPropertyNames\n});\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar PROTOTYPE = 'prototype';\nvar Empty = function () { /* empty */ };\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var length = enumBugKeys.length;\n  var lt = '<';\n  var script = 'script';\n  var gt = '>';\n  var js = 'java' + script + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  iframe.src = String(js);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + script + gt + 'document.F=Object' + lt + '/' + script + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (length--) delete createDict[PROTOTYPE][enumBugKeys[length]];\n  return createDict();\n};\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\nhiddenKeys[IE_PROTO] = true;\n","exports.f = require('../internals/well-known-symbol');\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var bind = require('../internals/bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar JSON = global.JSON;\nvar nativeJSONStringify = JSON && JSON.stringify;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = NATIVE_SYMBOL && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nJSON && $({ target: 'JSON', stat: true, forced: !NATIVE_SYMBOL || fails(function () {\n  var symbol = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  return nativeJSONStringify([symbol]) != '[null]'\n    // WebKit converts symbol values to JSON as null\n    || nativeJSONStringify({ a: symbol }) != '{}'\n    // V8 throws on boxed symbols\n    || nativeJSONStringify(Object(symbol)) != '{}';\n}) }, {\n  stringify: function stringify(it) {\n    var args = [it];\n    var index = 1;\n    var replacer, $replacer;\n    while (arguments.length > index) args.push(arguments[index++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return nativeJSONStringify.apply(JSON, args);\n  }\n});\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  createNonEnumerableProperty(ArrayPrototype, UNSCOPABLES, create(null));\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !nativeAssign || fails(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = String(test) !== '[object z]' ? function toString() {\n  return '[object ' + classof(this) + ']';\n} : test.toString;\n","var redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\nvar ObjectPrototype = Object.prototype;\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (toString !== ObjectPrototype.toString) {\n  redefine(ObjectPrototype, 'toString', toString, { unsafe: true });\n}\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common, IS_MAP, IS_WEAK) {\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (get) {\n  return function Set() { return get(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","const methods = {}\r\nconst names = []\r\n\r\nexport function registerMethods (name, m) {\r\n  if (Array.isArray(name)) {\r\n    for (const _name of name) {\r\n      registerMethods(_name, m)\r\n    }\r\n    return\r\n  }\r\n\r\n  if (typeof name === 'object') {\r\n    for (const _name in name) {\r\n      registerMethods(_name, name[_name])\r\n    }\r\n    return\r\n  }\r\n\r\n  addMethodNames(Object.getOwnPropertyNames(m))\r\n  methods[name] = Object.assign(methods[name] || {}, m)\r\n}\r\n\r\nexport function getMethodsFor (name) {\r\n  return methods[name] || {}\r\n}\r\n\r\nexport function getMethodNames () {\r\n  return [ ...new Set(names) ]\r\n}\r\n\r\nexport function addMethodNames (_names) {\r\n  names.push(..._names)\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/forced-string-trim-method');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// Map function\r\nexport function map (array, block) {\r\n  var i\r\n  var il = array.length\r\n  var result = []\r\n\r\n  for (i = 0; i < il; i++) {\r\n    result.push(block(array[i]))\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n// Filter function\r\nexport function filter (array, block) {\r\n  var i\r\n  var il = array.length\r\n  var result = []\r\n\r\n  for (i = 0; i < il; i++) {\r\n    if (block(array[i])) {\r\n      result.push(array[i])\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n// Degrees to radians\r\nexport function radians (d) {\r\n  return d % 360 * Math.PI / 180\r\n}\r\n\r\n// Radians to degrees\r\nexport function degrees (r) {\r\n  return r * 180 / Math.PI % 360\r\n}\r\n\r\n// Convert dash-separated-string to camelCase\r\nexport function camelCase (s) {\r\n  return s.toLowerCase().replace(/-(.)/g, function (m, g) {\r\n    return g.toUpperCase()\r\n  })\r\n}\r\n\r\n// Convert camel cased string to string seperated\r\nexport function unCamelCase (s) {\r\n  return s.replace(/([A-Z])/g, function (m, g) {\r\n    return '-' + g.toLowerCase()\r\n  })\r\n}\r\n\r\n// Capitalize first letter of a string\r\nexport function capitalize (s) {\r\n  return s.charAt(0).toUpperCase() + s.slice(1)\r\n}\r\n\r\n// Calculate proportional width and height values when necessary\r\nexport function proportionalSize (element, width, height, box) {\r\n  if (width == null || height == null) {\r\n    box = box || element.bbox()\r\n\r\n    if (width == null) {\r\n      width = box.width / box.height * height\r\n    } else if (height == null) {\r\n      height = box.height / box.width * width\r\n    }\r\n  }\r\n\r\n  return {\r\n    width: width,\r\n    height: height\r\n  }\r\n}\r\n\r\nexport function getOrigin (o, element) {\r\n  // Allow origin or around as the names\r\n  const origin = o.origin // o.around == null ? o.origin : o.around\r\n  let ox, oy\r\n\r\n  // Allow the user to pass a string to rotate around a given point\r\n  if (typeof origin === 'string' || origin == null) {\r\n    // Get the bounding box of the element with no transformations applied\r\n    const string = (origin || 'center').toLowerCase().trim()\r\n    const { height, width, x, y } = element.bbox()\r\n\r\n    // Calculate the transformed x and y coordinates\r\n    const bx = string.includes('left') ? x\r\n      : string.includes('right') ? x + width\r\n      : x + width / 2\r\n    const by = string.includes('top') ? y\r\n      : string.includes('bottom') ? y + height\r\n      : y + height / 2\r\n\r\n    // Set the bounds eg : \"bottom-left\", \"Top right\", \"middle\" etc...\r\n    ox = o.ox != null ? o.ox : bx\r\n    oy = o.oy != null ? o.oy : by\r\n  } else {\r\n    ox = origin[0]\r\n    oy = origin[1]\r\n  }\r\n\r\n  // Return the origin as it is if it wasn't a string\r\n  return [ ox, oy ]\r\n}\r\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","// Default namespaces\r\nexport const ns = 'http://www.w3.org/2000/svg'\r\nexport const xmlns = 'http://www.w3.org/2000/xmlns/'\r\nexport const xlink = 'http://www.w3.org/1999/xlink'\r\nexport const svgjs = 'http://svgjs.com/svgjs'\r\n","export const globals = {\r\n  window: typeof window === 'undefined' ? null : window,\r\n  document: typeof document === 'undefined' ? null : document\r\n}\r\n\r\nexport function registerWindow (win = null, doc = null) {\r\n  globals.window = win\r\n  globals.document = doc\r\n}\r\n\r\nconst save = {}\r\n\r\nexport function saveWindow () {\r\n  save.window = globals.window\r\n  save.document = globals.document\r\n}\r\n\r\nexport function restoreWindow () {\r\n  globals.window = save.window\r\n  globals.document = save.document\r\n}\r\n\r\nexport function withWindow (win, fn) {\r\n  saveWindow()\r\n  registerWindow(win, win.document)\r\n  fn(win, win.document)\r\n  restoreWindow()\r\n}\r\n\r\nexport function getWindow () {\r\n  return globals.window\r\n}\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default class Base {\r\n  // constructor (node/*, {extensions = []} */) {\r\n  //   // this.tags = []\r\n  //   //\r\n  //   // for (let extension of extensions) {\r\n  //   //   extension.setup.call(this, node)\r\n  //   //   this.tags.push(extension.name)\r\n  //   // }\r\n  // }\r\n}\r\n","import { addMethodNames } from './methods.js'\r\nimport { capitalize } from './utils.js'\r\nimport { ns } from '../modules/core/namespaces.js'\r\nimport { globals } from '../utils/window.js'\r\nimport Base from '../types/Base.js'\r\n\r\nconst elements = {}\r\nexport const root = '___SYMBOL___ROOT___'\r\n\r\n// Method for element creation\r\nexport function create (name) {\r\n  // create element\r\n  return globals.document.createElementNS(ns, name)\r\n}\r\n\r\nexport function makeInstance (element) {\r\n  if (element instanceof Base) return element\r\n\r\n  if (typeof element === 'object') {\r\n    return adopter(element)\r\n  }\r\n\r\n  if (element == null) {\r\n    return new elements[root]()\r\n  }\r\n\r\n  if (typeof element === 'string' && element.charAt(0) !== '<') {\r\n    return adopter(globals.document.querySelector(element))\r\n  }\r\n\r\n  var node = create('svg')\r\n  node.innerHTML = element\r\n\r\n  // We can use firstChild here because we know,\r\n  // that the first char is < and thus an element\r\n  element = adopter(node.firstChild)\r\n\r\n  return element\r\n}\r\n\r\nexport function nodeOrNew (name, node) {\r\n  return node instanceof globals.window.Node ? node : create(name)\r\n}\r\n\r\n// Adopt existing svg elements\r\nexport function adopt (node) {\r\n  // check for presence of node\r\n  if (!node) return null\r\n\r\n  // make sure a node isn't already adopted\r\n  if (node.instance instanceof Base) return node.instance\r\n\r\n  // initialize variables\r\n  var className = capitalize(node.nodeName || 'Dom')\r\n\r\n  // Make sure that gradients are adopted correctly\r\n  if (className === 'LinearGradient' || className === 'RadialGradient') {\r\n    className = 'Gradient'\r\n\r\n  // Fallback to Dom if element is not known\r\n  } else if (!elements[className]) {\r\n    className = 'Dom'\r\n  }\r\n\r\n  return new elements[className](node)\r\n}\r\n\r\nlet adopter = adopt\r\n\r\nexport function mockAdopt (mock = adopt) {\r\n  adopter = mock\r\n}\r\n\r\nexport function register (element, name = element.name, asRoot = false) {\r\n  elements[name] = element\r\n  if (asRoot) elements[root] = element\r\n\r\n  addMethodNames(Object.getOwnPropertyNames(element.prototype))\r\n\r\n  return element\r\n}\r\n\r\nexport function getClass (name) {\r\n  return elements[name]\r\n}\r\n\r\n// Element id sequence\r\nlet did = 1000\r\n\r\n// Get next named element id\r\nexport function eid (name) {\r\n  return 'Svgjs' + capitalize(name) + (did++)\r\n}\r\n\r\n// Deep new id assignment\r\nexport function assignNewId (node) {\r\n  // do the same for SVG child nodes as well\r\n  for (var i = node.children.length - 1; i >= 0; i--) {\r\n    assignNewId(node.children[i])\r\n  }\r\n\r\n  if (node.id) {\r\n    return adopt(node).id(eid(node.nodeName))\r\n  }\r\n\r\n  return adopt(node)\r\n}\r\n\r\n// Method for extending objects\r\nexport function extend (modules, methods, attrCheck) {\r\n  var key, i\r\n\r\n  modules = Array.isArray(modules) ? modules : [ modules ]\r\n\r\n  for (i = modules.length - 1; i >= 0; i--) {\r\n    for (key in methods) {\r\n      let method = methods[key]\r\n      if (attrCheck) {\r\n        method = wrapWithAttrCheck(methods[key])\r\n      }\r\n      modules[i].prototype[key] = method\r\n    }\r\n  }\r\n}\r\n\r\n// export function extendWithAttrCheck (...args) {\r\n//   extend(...args, true)\r\n// }\r\n\r\nexport function wrapWithAttrCheck (fn) {\r\n  return function (...args) {\r\n    const o = args[args.length - 1]\r\n\r\n    if (o && o.constructor === Object && !(o instanceof Array)) {\r\n      return fn.apply(this, args.slice(0, -1)).attr(o)\r\n    } else {\r\n      return fn.apply(this, args)\r\n    }\r\n  }\r\n}\r\n\r\nexport function invent (config) {\r\n  // Create element initializer\r\n  var initializer = typeof config.create === 'function'\r\n    ? config.create\r\n    : function (node) {\r\n      this.constructor(node || create(config.create))\r\n    }\r\n\r\n  // Inherit prototype\r\n  if (config.inherit) {\r\n    /* eslint new-cap: off */\r\n    initializer.prototype = new config.inherit()\r\n    initializer.prototype.constructor = initializer\r\n  }\r\n\r\n  // Extend with methods\r\n  if (config.extend) { extend(initializer, config.extend) }\r\n\r\n  // Attach construct method to parent\r\n  if (config.construct) { extend(config.parent || elements.Container, config.construct) }\r\n\r\n  return initializer\r\n}\r\n","import { makeInstance } from '../../utils/adopter.js'\r\nimport { registerMethods } from '../../utils/methods.js'\r\n\r\n// Get all siblings, including myself\r\nexport function siblings () {\r\n  return this.parent().children()\r\n}\r\n\r\n// Get the curent position siblings\r\nexport function position () {\r\n  return this.parent().index(this)\r\n}\r\n\r\n// Get the next element (will return null if there is none)\r\nexport function next () {\r\n  return this.siblings()[this.position() + 1]\r\n}\r\n\r\n// Get the next element (will return null if there is none)\r\nexport function prev () {\r\n  return this.siblings()[this.position() - 1]\r\n}\r\n\r\n// Send given element one step forward\r\nexport function forward () {\r\n  var i = this.position() + 1\r\n  var p = this.parent()\r\n\r\n  // move node one step forward\r\n  p.removeElement(this).add(this, i)\r\n\r\n  // make sure defs node is always at the top\r\n  if (typeof p.isRoot === 'function' && p.isRoot()) {\r\n    p.node.appendChild(p.defs().node)\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Send given element one step backward\r\nexport function backward () {\r\n  var i = this.position()\r\n\r\n  if (i > 0) {\r\n    this.parent().removeElement(this).add(this, i - 1)\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Send given element all the way to the front\r\nexport function front () {\r\n  var p = this.parent()\r\n\r\n  // Move node forward\r\n  p.node.appendChild(this.node)\r\n\r\n  // Make sure defs node is always at the top\r\n  if (typeof p.isRoot === 'function' && p.isRoot()) {\r\n    p.node.appendChild(p.defs().node)\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Send given element all the way to the back\r\nexport function back () {\r\n  if (this.position() > 0) {\r\n    this.parent().removeElement(this).add(this, 0)\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Inserts a given element before the targeted element\r\nexport function before (element) {\r\n  element = makeInstance(element)\r\n  element.remove()\r\n\r\n  var i = this.position()\r\n\r\n  this.parent().add(element, i)\r\n\r\n  return this\r\n}\r\n\r\n// Inserts a given element after the targeted element\r\nexport function after (element) {\r\n  element = makeInstance(element)\r\n  element.remove()\r\n\r\n  var i = this.position()\r\n\r\n  this.parent().add(element, i + 1)\r\n\r\n  return this\r\n}\r\n\r\nexport function insertBefore (element) {\r\n  element = makeInstance(element)\r\n  element.before(this)\r\n  return this\r\n}\r\n\r\nexport function insertAfter (element) {\r\n  element = makeInstance(element)\r\n  element.after(this)\r\n  return this\r\n}\r\n\r\nregisterMethods('Dom', {\r\n  siblings,\r\n  position,\r\n  next,\r\n  prev,\r\n  forward,\r\n  backward,\r\n  front,\r\n  back,\r\n  before,\r\n  after,\r\n  insertBefore,\r\n  insertAfter\r\n})\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('filter') }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar SLOPPY_METHOD = sloppyArrayMethod('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || SLOPPY_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","// Parse unit value\r\nexport const numberAndUnit = /^([+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?)([a-z%]*)$/i\r\n\r\n// Parse hex value\r\nexport const hex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i\r\n\r\n// Parse rgb value\r\nexport const rgb = /rgb\\((\\d+),(\\d+),(\\d+)\\)/\r\n\r\n// Parse reference id\r\nexport const reference = /(#[a-z0-9\\-_]+)/i\r\n\r\n// splits a transformation chain\r\nexport const transforms = /\\)\\s*,?\\s*/\r\n\r\n// Whitespace\r\nexport const whitespace = /\\s/g\r\n\r\n// Test hex value\r\nexport const isHex = /^#[a-f0-9]{3,6}$/i\r\n\r\n// Test rgb value\r\nexport const isRgb = /^rgb\\(/\r\n\r\n// Test css declaration\r\nexport const isCss = /[^:]+:[^;]+;?/\r\n\r\n// Test for blank string\r\nexport const isBlank = /^(\\s+)?$/\r\n\r\n// Test for numeric string\r\nexport const isNumber = /^[+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i\r\n\r\n// Test for percent value\r\nexport const isPercent = /^-?[\\d.]+%$/\r\n\r\n// Test for image url\r\nexport const isImage = /\\.(jpg|jpeg|png|gif|svg)(\\?[^=]+.*)?/i\r\n\r\n// split at whitespace and comma\r\nexport const delimiter = /[\\s,]+/\r\n\r\n// The following regex are used to parse the d attribute of a path\r\n\r\n// Matches all hyphens which are not after an exponent\r\nexport const hyphen = /([^e])-/gi\r\n\r\n// Replaces and tests for all path letters\r\nexport const pathLetters = /[MLHVCSQTAZ]/gi\r\n\r\n// yes we need this one, too\r\nexport const isPathLetter = /[MLHVCSQTAZ]/i\r\n\r\n// matches 0.154.23.45\r\nexport const numbersWithDots = /((\\d?\\.\\d+(?:e[+-]?\\d+)?)((?:\\.\\d+(?:e[+-]?\\d+)?)+))+/gi\r\n\r\n// matches .\r\nexport const dots = /\\./g\r\n","import { delimiter } from '../core/regex.js'\r\nimport { registerMethods } from '../../utils/methods.js'\r\n\r\n// Return array of classes on the node\r\nexport function classes () {\r\n  var attr = this.attr('class')\r\n  return attr == null ? [] : attr.trim().split(delimiter)\r\n}\r\n\r\n// Return true if class exists on the node, false otherwise\r\nexport function hasClass (name) {\r\n  return this.classes().indexOf(name) !== -1\r\n}\r\n\r\n// Add class to the node\r\nexport function addClass (name) {\r\n  if (!this.hasClass(name)) {\r\n    var array = this.classes()\r\n    array.push(name)\r\n    this.attr('class', array.join(' '))\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Remove class from the node\r\nexport function removeClass (name) {\r\n  if (this.hasClass(name)) {\r\n    this.attr('class', this.classes().filter(function (c) {\r\n      return c !== name\r\n    }).join(' '))\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Toggle the presence of a class on the node\r\nexport function toggleClass (name) {\r\n  return this.hasClass(name) ? this.removeClass(name) : this.addClass(name)\r\n}\r\n\r\nregisterMethods('Dom', {\r\n  classes, hasClass, addClass, removeClass, toggleClass\r\n})\r\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","import { camelCase } from '../../utils/utils.js'\r\nimport { isBlank } from '../core/regex.js'\r\nimport { registerMethods } from '../../utils/methods.js'\r\n\r\n// Dynamic style generator\r\nexport function css (style, val) {\r\n  const ret = {}\r\n  if (arguments.length === 0) {\r\n    // get full style as object\r\n    this.node.style.cssText.split(/\\s*;\\s*/)\r\n      .filter(function (el) {\r\n        return !!el.length\r\n      })\r\n      .forEach(function (el) {\r\n        const t = el.split(/\\s*:\\s*/)\r\n        ret[t[0]] = t[1]\r\n      })\r\n    return ret\r\n  }\r\n\r\n  if (arguments.length < 2) {\r\n    // get style properties in the array\r\n    if (Array.isArray(style)) {\r\n      for (const name of style) {\r\n        const cased = camelCase(name)\r\n        ret[cased] = this.node.style[cased]\r\n      }\r\n      return ret\r\n    }\r\n\r\n    // get style for property\r\n    if (typeof style === 'string') {\r\n      return this.node.style[camelCase(style)]\r\n    }\r\n\r\n    // set styles in object\r\n    if (typeof style === 'object') {\r\n      for (const name in style) {\r\n        // set empty string if null/undefined/'' was given\r\n        this.node.style[camelCase(name)]\r\n          = (style[name] == null || isBlank.test(style[name])) ? '' : style[name]\r\n      }\r\n    }\r\n  }\r\n\r\n  // set style for property\r\n  if (arguments.length === 2) {\r\n    this.node.style[camelCase(style)]\r\n      = (val == null || isBlank.test(val)) ? '' : val\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Show element\r\nexport function show () {\r\n  return this.css('display', '')\r\n}\r\n\r\n// Hide element\r\nexport function hide () {\r\n  return this.css('display', 'none')\r\n}\r\n\r\n// Is element visible?\r\nexport function visible () {\r\n  return this.css('display') !== 'none'\r\n}\r\n\r\nregisterMethods('Dom', {\r\n  css, show, hide, visible\r\n})\r\n","import { registerMethods } from '../../utils/methods.js'\r\n\r\n// Store data values on svg nodes\r\nexport function data (a, v, r) {\r\n  if (typeof a === 'object') {\r\n    for (v in a) {\r\n      this.data(v, a[v])\r\n    }\r\n  } else if (arguments.length < 2) {\r\n    try {\r\n      return JSON.parse(this.attr('data-' + a))\r\n    } catch (e) {\r\n      return this.attr('data-' + a)\r\n    }\r\n  } else {\r\n    this.attr('data-' + a,\r\n      v === null ? null\r\n      : r === true || typeof v === 'string' || typeof v === 'number' ? v\r\n      : JSON.stringify(v)\r\n    )\r\n  }\r\n\r\n  return this\r\n}\r\n\r\nregisterMethods('Dom', { data })\r\n","import { registerMethods } from '../../utils/methods.js'\r\n\r\n// Remember arbitrary data\r\nexport function remember (k, v) {\r\n  // remember every item in an object individually\r\n  if (typeof arguments[0] === 'object') {\r\n    for (var key in k) {\r\n      this.remember(key, k[key])\r\n    }\r\n  } else if (arguments.length === 1) {\r\n    // retrieve memory\r\n    return this.memory()[k]\r\n  } else {\r\n    // store memory\r\n    this.memory()[k] = v\r\n  }\r\n\r\n  return this\r\n}\r\n\r\n// Erase a given memory\r\nexport function forget () {\r\n  if (arguments.length === 0) {\r\n    this._memory = {}\r\n  } else {\r\n    for (var i = arguments.length - 1; i >= 0; i--) {\r\n      delete this.memory()[arguments[i]]\r\n    }\r\n  }\r\n  return this\r\n}\r\n\r\n// This triggers creation of a new hidden class which is not performant\r\n// However, this function is not rarely used so it will not happen frequently\r\n// Return local memory object\r\nexport function memory () {\r\n  return (this._memory = this._memory || {})\r\n}\r\n\r\nregisterMethods('Dom', { remember, forget, memory })\r\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('reduce') }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import { delimiter } from './regex.js'\r\nimport { makeInstance } from '../../utils/adopter.js'\r\nimport { globals } from '../../utils/window.js'\r\n\r\nlet listenerId = 0\r\nconst windowEvents = {}\r\n\r\nfunction getEvents (instance) {\r\n  let n = instance.getEventHolder()\r\n\r\n  // We dont want to save events in global space\r\n  if (n === globals.window) n = windowEvents\r\n  if (!n.events) n.events = {}\r\n  return n.events\r\n}\r\n\r\nfunction getEventTarget (instance) {\r\n  return instance.getEventTarget()\r\n}\r\n\r\nfunction clearEvents (instance) {\r\n  const n = instance.getEventHolder()\r\n  if (n.events) n.events = {}\r\n}\r\n\r\n// Add event binder in the SVG namespace\r\nexport function on (node, events, listener, binding, options) {\r\n  var l = listener.bind(binding || node)\r\n  var instance = makeInstance(node)\r\n  var bag = getEvents(instance)\r\n  var n = getEventTarget(instance)\r\n\r\n  // events can be an array of events or a string of events\r\n  events = Array.isArray(events) ? events : events.split(delimiter)\r\n\r\n  // add id to listener\r\n  if (!listener._svgjsListenerId) {\r\n    listener._svgjsListenerId = ++listenerId\r\n  }\r\n\r\n  events.forEach(function (event) {\r\n    var ev = event.split('.')[0]\r\n    var ns = event.split('.')[1] || '*'\r\n\r\n    // ensure valid object\r\n    bag[ev] = bag[ev] || {}\r\n    bag[ev][ns] = bag[ev][ns] || {}\r\n\r\n    // reference listener\r\n    bag[ev][ns][listener._svgjsListenerId] = l\r\n\r\n    // add listener\r\n    n.addEventListener(ev, l, options || false)\r\n  })\r\n}\r\n\r\n// Add event unbinder in the SVG namespace\r\nexport function off (node, events, listener, options) {\r\n  var instance = makeInstance(node)\r\n  var bag = getEvents(instance)\r\n  var n = getEventTarget(instance)\r\n\r\n  // listener can be a function or a number\r\n  if (typeof listener === 'function') {\r\n    listener = listener._svgjsListenerId\r\n    if (!listener) return\r\n  }\r\n\r\n  // events can be an array of events or a string or undefined\r\n  events = Array.isArray(events) ? events : (events || '').split(delimiter)\r\n\r\n  events.forEach(function (event) {\r\n    var ev = event && event.split('.')[0]\r\n    var ns = event && event.split('.')[1]\r\n    var namespace, l\r\n\r\n    if (listener) {\r\n      // remove listener reference\r\n      if (bag[ev] && bag[ev][ns || '*']) {\r\n        // removeListener\r\n        n.removeEventListener(ev, bag[ev][ns || '*'][listener], options || false)\r\n\r\n        delete bag[ev][ns || '*'][listener]\r\n      }\r\n    } else if (ev && ns) {\r\n      // remove all listeners for a namespaced event\r\n      if (bag[ev] && bag[ev][ns]) {\r\n        for (l in bag[ev][ns]) {\r\n          off(n, [ ev, ns ].join('.'), l)\r\n        }\r\n\r\n        delete bag[ev][ns]\r\n      }\r\n    } else if (ns) {\r\n      // remove all listeners for a specific namespace\r\n      for (event in bag) {\r\n        for (namespace in bag[event]) {\r\n          if (ns === namespace) {\r\n            off(n, [ event, ns ].join('.'))\r\n          }\r\n        }\r\n      }\r\n    } else if (ev) {\r\n      // remove all listeners for the event\r\n      if (bag[ev]) {\r\n        for (namespace in bag[ev]) {\r\n          off(n, [ ev, namespace ].join('.'))\r\n        }\r\n\r\n        delete bag[ev]\r\n      }\r\n    } else {\r\n      // remove all listeners on a given node\r\n      for (event in bag) {\r\n        off(n, event)\r\n      }\r\n\r\n      clearEvents(instance)\r\n    }\r\n  })\r\n}\r\n\r\nexport function dispatch (node, event, data) {\r\n  var n = getEventTarget(node)\r\n\r\n  // Dispatch event\r\n  if (event instanceof globals.window.Event) {\r\n    n.dispatchEvent(event)\r\n  } else {\r\n    event = new globals.window.CustomEvent(event, { detail: data, cancelable: true })\r\n    n.dispatchEvent(event)\r\n  }\r\n  return event\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('map') }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = nativeParseInt(whitespaces + '08') !== 8 || nativeParseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return nativeParseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : nativeParseInt;\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","\r\nimport { hex, isHex, isRgb, rgb, whitespace } from '../modules/core/regex.js'\r\n\r\nfunction sixDigitHex (hex) {\r\n  return hex.length === 4\r\n    ? [ '#',\r\n      hex.substring(1, 2), hex.substring(1, 2),\r\n      hex.substring(2, 3), hex.substring(2, 3),\r\n      hex.substring(3, 4), hex.substring(3, 4)\r\n    ].join('')\r\n    : hex\r\n}\r\n\r\nfunction componentHex (component) {\r\n  const integer = Math.round(component)\r\n  const bounded = Math.max(0, Math.min(255, integer))\r\n  const hex = bounded.toString(16)\r\n  return hex.length === 1 ? '0' + hex : hex\r\n}\r\n\r\nfunction is (object, space) {\r\n  for (let i = space.length; i--;) {\r\n    if (object[space[i]] == null) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nfunction getParameters (a, b) {\r\n  const params = is(a, 'rgb') ? { _a: a.r, _b: a.g, _c: a.b, space: 'rgb' }\r\n    : is(a, 'xyz') ? { _a: a.x, _b: a.y, _c: a.z, _d: 0, space: 'xyz' }\r\n    : is(a, 'hsl') ? { _a: a.h, _b: a.s, _c: a.l, _d: 0, space: 'hsl' }\r\n    : is(a, 'lab') ? { _a: a.l, _b: a.a, _c: a.b, _d: 0, space: 'lab' }\r\n    : is(a, 'lch') ? { _a: a.l, _b: a.c, _c: a.h, _d: 0, space: 'lch' }\r\n    : is(a, 'cmyk') ? { _a: a.c, _b: a.m, _c: a.y, _d: a.k, space: 'cmyk' }\r\n    : { _a: 0, _b: 0, _c: 0, space: 'rgb' }\r\n\r\n  params.space = b || params.space\r\n  return params\r\n}\r\n\r\nfunction cieSpace (space) {\r\n  if (space === 'lab' || space === 'xyz' || space === 'lch') {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nfunction hueToRgb (p, q, t) {\r\n  if (t < 0) t += 1\r\n  if (t > 1) t -= 1\r\n  if (t < 1 / 6) return p + (q - p) * 6 * t\r\n  if (t < 1 / 2) return q\r\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\r\n  return p\r\n}\r\n\r\nexport default class Color {\r\n  constructor (...inputs) {\r\n    this.init(...inputs)\r\n  }\r\n\r\n  init (a = 0, b = 0, c = 0, d = 0, space = 'rgb') {\r\n    // This catches the case when a falsy value is passed like ''\r\n    a = !a ? 0 : a\r\n\r\n    // Reset all values in case the init function is rerun with new color space\r\n    if (this.space) {\r\n      for (const component in this.space) {\r\n        delete this[this.space[component]]\r\n      }\r\n    }\r\n\r\n    if (typeof a === 'number') {\r\n      // Allow for the case that we don't need d...\r\n      space = typeof d === 'string' ? d : space\r\n      d = typeof d === 'string' ? 0 : d\r\n\r\n      // Assign the values straight to the color\r\n      Object.assign(this, { _a: a, _b: b, _c: c, _d: d, space })\r\n    // If the user gave us an array, make the color from it\r\n    } else if (a instanceof Array) {\r\n      this.space = b || (typeof a[3] === 'string' ? a[3] : a[4]) || 'rgb'\r\n      Object.assign(this, { _a: a[0], _b: a[1], _c: a[2], _d: a[3] || 0 })\r\n    } else if (a instanceof Object) {\r\n      // Set the object up and assign its values directly\r\n      const values = getParameters(a, b)\r\n      Object.assign(this, values)\r\n    } else if (typeof a === 'string') {\r\n      if (isRgb.test(a)) {\r\n        const noWhitespace = a.replace(whitespace, '')\r\n        const [ _a, _b, _c ] = rgb.exec(noWhitespace)\r\n          .slice(1, 4).map(v => parseInt(v))\r\n        Object.assign(this, { _a, _b, _c, _d: 0, space: 'rgb' })\r\n      } else if (isHex.test(a)) {\r\n        const hexParse = v => parseInt(v, 16)\r\n        const [ , _a, _b, _c ] = hex.exec(sixDigitHex(a)).map(hexParse)\r\n        Object.assign(this, { _a, _b, _c, _d: 0, space: 'rgb' })\r\n      } else throw Error('Unsupported string format, can\\'t construct Color')\r\n    }\r\n\r\n    // Now add the components as a convenience\r\n    const { _a, _b, _c, _d } = this\r\n    const components = this.space === 'rgb' ? { r: _a, g: _b, b: _c }\r\n      : this.space === 'xyz' ? { x: _a, y: _b, z: _c }\r\n      : this.space === 'hsl' ? { h: _a, s: _b, l: _c }\r\n      : this.space === 'lab' ? { l: _a, a: _b, b: _c }\r\n      : this.space === 'lch' ? { l: _a, c: _b, h: _c }\r\n      : this.space === 'cmyk' ? { c: _a, m: _b, y: _c, k: _d }\r\n      : {}\r\n    Object.assign(this, components)\r\n  }\r\n\r\n  /*\r\n  Conversion Methods\r\n  */\r\n\r\n  rgb () {\r\n    if (this.space === 'rgb') {\r\n      return this\r\n    } else if (cieSpace(this.space)) {\r\n      // Convert to the xyz color space\r\n      let { x, y, z } = this\r\n      if (this.space === 'lab' || this.space === 'lch') {\r\n        // Get the values in the lab space\r\n        let { l, a, b } = this\r\n        if (this.space === 'lch') {\r\n          const { c, h } = this\r\n          const dToR = Math.PI / 180\r\n          a = c * Math.cos(dToR * h)\r\n          b = c * Math.sin(dToR * h)\r\n        }\r\n\r\n        // Undo the nonlinear function\r\n        const yL = (l + 16) / 116\r\n        const xL = a / 500 + yL\r\n        const zL = yL - b / 200\r\n\r\n        // Get the xyz values\r\n        const ct = 16 / 116\r\n        const mx = 0.008856\r\n        const nm = 7.787\r\n        x = 0.95047 * ((xL ** 3 > mx) ? xL ** 3 : (xL - ct) / nm)\r\n        y = 1.00000 * ((yL ** 3 > mx) ? yL ** 3 : (yL - ct) / nm)\r\n        z = 1.08883 * ((zL ** 3 > mx) ? zL ** 3 : (zL - ct) / nm)\r\n      }\r\n\r\n      // Convert xyz to unbounded rgb values\r\n      const rU = x * 3.2406 + y * -1.5372 + z * -0.4986\r\n      const gU = x * -0.9689 + y * 1.8758 + z * 0.0415\r\n      const bU = x * 0.0557 + y * -0.2040 + z * 1.0570\r\n\r\n      // Convert the values to true rgb values\r\n      const pow = Math.pow\r\n      const bd = 0.0031308\r\n      const r = (rU > bd) ? (1.055 * pow(rU, 1 / 2.4) - 0.055) : 12.92 * rU\r\n      const g = (gU > bd) ? (1.055 * pow(gU, 1 / 2.4) - 0.055) : 12.92 * gU\r\n      const b = (bU > bd) ? (1.055 * pow(bU, 1 / 2.4) - 0.055) : 12.92 * bU\r\n\r\n      // Make and return the color\r\n      const color = new Color(255 * r, 255 * g, 255 * b)\r\n      return color\r\n    } else if (this.space === 'hsl') {\r\n      // https://bgrins.github.io/TinyColor/docs/tinycolor.html\r\n      // Get the current hsl values\r\n      let { h, s, l } = this\r\n      h /= 360\r\n      s /= 100\r\n      l /= 100\r\n\r\n      // If we are grey, then just make the color directly\r\n      if (s === 0) {\r\n        l *= 255\r\n        const color = new Color(l, l, l)\r\n        return color\r\n      }\r\n\r\n      // TODO I have no idea what this does :D If you figure it out, tell me!\r\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s\r\n      const p = 2 * l - q\r\n\r\n      // Get the rgb values\r\n      const r = 255 * hueToRgb(p, q, h + 1 / 3)\r\n      const g = 255 * hueToRgb(p, q, h)\r\n      const b = 255 * hueToRgb(p, q, h - 1 / 3)\r\n\r\n      // Make a new color\r\n      const color = new Color(r, g, b)\r\n      return color\r\n    } else if (this.space === 'cmyk') {\r\n      // https://gist.github.com/felipesabino/5066336\r\n      // Get the normalised cmyk values\r\n      const { c, m, y, k } = this\r\n\r\n      // Get the rgb values\r\n      const r = 255 * (1 - Math.min(1, c * (1 - k) + k))\r\n      const g = 255 * (1 - Math.min(1, m * (1 - k) + k))\r\n      const b = 255 * (1 - Math.min(1, y * (1 - k) + k))\r\n\r\n      // Form the color and return it\r\n      const color = new Color(r, g, b)\r\n      return color\r\n    } else {\r\n      return this\r\n    }\r\n  }\r\n\r\n  lab () {\r\n    // Get the xyz color\r\n    const { x, y, z } = this.xyz()\r\n\r\n    // Get the lab components\r\n    const l = (116 * y) - 16\r\n    const a = 500 * (x - y)\r\n    const b = 200 * (y - z)\r\n\r\n    // Construct and return a new color\r\n    const color = new Color(l, a, b, 'lab')\r\n    return color\r\n  }\r\n\r\n  xyz () {\r\n\r\n    // Normalise the red, green and blue values\r\n    const { _a: r255, _b: g255, _c: b255 } = this.rgb()\r\n    const [ r, g, b ] = [ r255, g255, b255 ].map(v => v / 255)\r\n\r\n    // Convert to the lab rgb space\r\n    const rL = (r > 0.04045) ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92\r\n    const gL = (g > 0.04045) ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92\r\n    const bL = (b > 0.04045) ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92\r\n\r\n    // Convert to the xyz color space without bounding the values\r\n    const xU = (rL * 0.4124 + gL * 0.3576 + bL * 0.1805) / 0.95047\r\n    const yU = (rL * 0.2126 + gL * 0.7152 + bL * 0.0722) / 1.00000\r\n    const zU = (rL * 0.0193 + gL * 0.1192 + bL * 0.9505) / 1.08883\r\n\r\n    // Get the proper xyz values by applying the bounding\r\n    const x = (xU > 0.008856) ? Math.pow(xU, 1 / 3) : (7.787 * xU) + 16 / 116\r\n    const y = (yU > 0.008856) ? Math.pow(yU, 1 / 3) : (7.787 * yU) + 16 / 116\r\n    const z = (zU > 0.008856) ? Math.pow(zU, 1 / 3) : (7.787 * zU) + 16 / 116\r\n\r\n    // Make and return the color\r\n    const color = new Color(x, y, z, 'xyz')\r\n    return color\r\n  }\r\n\r\n  lch () {\r\n\r\n    // Get the lab color directly\r\n    const { l, a, b } = this.lab()\r\n\r\n    // Get the chromaticity and the hue using polar coordinates\r\n    const c = Math.sqrt(a ** 2 + b ** 2)\r\n    let h = 180 * Math.atan2(b, a) / Math.PI\r\n    if (h < 0) {\r\n      h *= -1\r\n      h = 360 - h\r\n    }\r\n\r\n    // Make a new color and return it\r\n    const color = new Color(l, c, h, 'lch')\r\n    return color\r\n  }\r\n\r\n  hsl () {\r\n\r\n    // Get the rgb values\r\n    const { _a, _b, _c } = this.rgb()\r\n    const [ r, g, b ] = [ _a, _b, _c ].map(v => v / 255)\r\n\r\n    // Find the maximum and minimum values to get the lightness\r\n    const max = Math.max(r, g, b)\r\n    const min = Math.min(r, g, b)\r\n    const l = (max + min) / 2\r\n\r\n    // If the r, g, v values are identical then we are grey\r\n    const isGrey = max === min\r\n\r\n    // Calculate the hue and saturation\r\n    const delta = max - min\r\n    const s = isGrey ? 0\r\n      : l > 0.5 ? delta / (2 - max - min)\r\n      : delta / (max + min)\r\n    const h = isGrey ? 0\r\n      : max === r ? ((g - b) / delta + (g < b ? 6 : 0)) / 6\r\n      : max === g ? ((b - r) / delta + 2) / 6\r\n      : max === b ? ((r - g) / delta + 4) / 6\r\n      : 0\r\n\r\n    // Construct and return the new color\r\n    const color = new Color(360 * h, 100 * s, 100 * l, 'hsl')\r\n    return color\r\n  }\r\n\r\n  cmyk () {\r\n\r\n    // Get the rgb values for the current color\r\n    const { _a, _b, _c } = this.rgb()\r\n    const [ r, g, b ] = [ _a, _b, _c ].map(v => v / 255)\r\n\r\n    // Get the cmyk values in an unbounded format\r\n    const k = Math.min(1 - r, 1 - g, 1 - b)\r\n\r\n    if (k === 1) {\r\n      // Catch the black case\r\n      return new Color(0, 0, 0, 1, 'cmyk')\r\n    }\r\n\r\n    const c = (1 - r - k) / (1 - k)\r\n    const m = (1 - g - k) / (1 - k)\r\n    const y = (1 - b - k) / (1 - k)\r\n\r\n    // Construct the new color\r\n    const color = new Color(c, m, y, k, 'cmyk')\r\n    return color\r\n  }\r\n\r\n  /*\r\n  Input and Output methods\r\n  */\r\n\r\n  _clamped () {\r\n    const { _a, _b, _c } = this.rgb()\r\n    const { max, min, round } = Math\r\n    const format = v => max(0, min(round(v), 255))\r\n    return [ _a, _b, _c ].map(format)\r\n  }\r\n\r\n  toHex () {\r\n    const [ r, g, b ] = this._clamped().map(componentHex)\r\n    return `#${r}${g}${b}`\r\n  }\r\n\r\n  toString () {\r\n    return this.toHex()\r\n  }\r\n\r\n  toRgb () {\r\n    const [ rV, gV, bV ] = this._clamped()\r\n    const string = `rgb(${rV},${gV},${bV})`\r\n    return string\r\n  }\r\n\r\n  toArray () {\r\n    const { _a, _b, _c, _d, space } = this\r\n    return [ _a, _b, _c, _d, space ]\r\n  }\r\n\r\n  /*\r\n  Generating random colors\r\n  */\r\n\r\n  static random (mode = 'vibrant', t, u) {\r\n\r\n    // Get the math modules\r\n    const { random, round, sin, PI: pi } = Math\r\n\r\n    // Run the correct generator\r\n    if (mode === 'vibrant') {\r\n\r\n      const l = (81 - 57) * random() + 57\r\n      const c = (83 - 45) * random() + 45\r\n      const h = 360 * random()\r\n      const color = new Color(l, c, h, 'lch')\r\n      return color\r\n\r\n    } else if (mode === 'sine') {\r\n\r\n      t = t == null ? random() : t\r\n      const r = round(80 * sin(2 * pi * t / 0.5 + 0.01) + 150)\r\n      const g = round(50 * sin(2 * pi * t / 0.5 + 4.6) + 200)\r\n      const b = round(100 * sin(2 * pi * t / 0.5 + 2.3) + 150)\r\n      const color = new Color(r, g, b)\r\n      return color\r\n\r\n    } else if (mode === 'pastel') {\r\n\r\n      const l = (94 - 86) * random() + 86\r\n      const c = (26 - 9) * random() + 9\r\n      const h = 360 * random()\r\n      const color = new Color(l, c, h, 'lch')\r\n      return color\r\n\r\n    } else if (mode === 'dark') {\r\n\r\n      const l = 10 + 10 * random()\r\n      const c = (125 - 75) * random() + 86\r\n      const h = 360 * random()\r\n      const color = new Color(l, c, h, 'lch')\r\n      return color\r\n\r\n    } else if (mode === 'rgb') {\r\n\r\n      const r = 255 * random()\r\n      const g = 255 * random()\r\n      const b = 255 * random()\r\n      const color = new Color(r, g, b)\r\n      return color\r\n\r\n    } else if (mode === 'lab') {\r\n\r\n      const l = 100 * random()\r\n      const a = 256 * random() - 128\r\n      const b = 256 * random() - 128\r\n      const color = new Color(l, a, b, 'lab')\r\n      return color\r\n\r\n    } else if (mode === 'grey') {\r\n\r\n      const grey = 255 * random()\r\n      const color = new Color(grey, grey, grey)\r\n      return color\r\n\r\n    }\r\n  }\r\n\r\n  /*\r\n  Constructing colors\r\n  */\r\n\r\n  // Test if given value is a color string\r\n  static test (color) {\r\n    return (typeof color === 'string')\r\n      && (isHex.test(color) || isRgb.test(color))\r\n  }\r\n\r\n  // Test if given value is an rgb object\r\n  static isRgb (color) {\r\n    return color && typeof color.r === 'number'\r\n      && typeof color.g === 'number'\r\n      && typeof color.b === 'number'\r\n  }\r\n\r\n  // Test if given value is a color\r\n  static isColor (color) {\r\n    return color && (\r\n      color instanceof Color\r\n      || this.isRgb(color)\r\n      || this.test(color)\r\n    )\r\n  }\r\n}\r\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseFloat = global.parseFloat;\nvar FORCED = 1 / nativeParseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = nativeParseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : nativeParseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","import Matrix from './Matrix.js'\r\n\r\nexport default class Point {\r\n  // Initialize\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (x, y) {\r\n    const base = { x: 0, y: 0 }\r\n\r\n    // ensure source as object\r\n    const source = Array.isArray(x) ? { x: x[0], y: x[1] }\r\n      : typeof x === 'object' ? { x: x.x, y: x.y }\r\n      : { x: x, y: y }\r\n\r\n    // merge source\r\n    this.x = source.x == null ? base.x : source.x\r\n    this.y = source.y == null ? base.y : source.y\r\n\r\n    return this\r\n  }\r\n\r\n  // Clone point\r\n  clone () {\r\n    return new Point(this)\r\n  }\r\n\r\n  transform (m) {\r\n    return this.clone().transformO(m)\r\n  }\r\n\r\n  // Transform point with matrix\r\n  transformO (m) {\r\n    if (!Matrix.isMatrixLike(m)) {\r\n      m = new Matrix(m)\r\n    }\r\n\r\n    const { x, y } = this\r\n\r\n    // Perform the matrix multiplication\r\n    this.x = m.a * x + m.c * y + m.e\r\n    this.y = m.b * x + m.d * y + m.f\r\n\r\n    return this\r\n  }\r\n\r\n  toArray () {\r\n    return [ this.x, this.y ]\r\n  }\r\n}\r\n\r\nexport function point (x, y) {\r\n  return new Point(x, y).transform(this.screenCTM().inverse())\r\n}\r\n","import { delimiter } from '../modules/core/regex.js'\r\nimport { radians } from '../utils/utils.js'\r\nimport { register } from '../utils/adopter.js'\r\nimport Element from '../elements/Element.js'\r\nimport Point from './Point.js'\r\n\r\nfunction closeEnough (a, b, threshold) {\r\n  return Math.abs(b - a) < (threshold || 1e-6)\r\n}\r\n\r\nexport default class Matrix {\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  // Initialize\r\n  init (source) {\r\n    var base = Matrix.fromArray([ 1, 0, 0, 1, 0, 0 ])\r\n\r\n    // ensure source as object\r\n    source = source instanceof Element ? source.matrixify()\r\n      : typeof source === 'string' ? Matrix.fromArray(source.split(delimiter).map(parseFloat))\r\n      : Array.isArray(source) ? Matrix.fromArray(source)\r\n      : (typeof source === 'object' && Matrix.isMatrixLike(source)) ? source\r\n      : (typeof source === 'object') ? new Matrix().transform(source)\r\n      : arguments.length === 6 ? Matrix.fromArray([].slice.call(arguments))\r\n      : base\r\n\r\n    // Merge the source matrix with the base matrix\r\n    this.a = source.a != null ? source.a : base.a\r\n    this.b = source.b != null ? source.b : base.b\r\n    this.c = source.c != null ? source.c : base.c\r\n    this.d = source.d != null ? source.d : base.d\r\n    this.e = source.e != null ? source.e : base.e\r\n    this.f = source.f != null ? source.f : base.f\r\n\r\n    return this\r\n  }\r\n\r\n  // Clones this matrix\r\n  clone () {\r\n    return new Matrix(this)\r\n  }\r\n\r\n  // Transform a matrix into another matrix by manipulating the space\r\n  transform (o) {\r\n    // Check if o is a matrix and then left multiply it directly\r\n    if (Matrix.isMatrixLike(o)) {\r\n      var matrix = new Matrix(o)\r\n      return matrix.multiplyO(this)\r\n    }\r\n\r\n    // Get the proposed transformations and the current transformations\r\n    var t = Matrix.formatTransforms(o)\r\n    var current = this\r\n    const { x: ox, y: oy } = new Point(t.ox, t.oy).transform(current)\r\n\r\n    // Construct the resulting matrix\r\n    var transformer = new Matrix()\r\n      .translateO(t.rx, t.ry)\r\n      .lmultiplyO(current)\r\n      .translateO(-ox, -oy)\r\n      .scaleO(t.scaleX, t.scaleY)\r\n      .skewO(t.skewX, t.skewY)\r\n      .shearO(t.shear)\r\n      .rotateO(t.theta)\r\n      .translateO(ox, oy)\r\n\r\n    // If we want the origin at a particular place, we force it there\r\n    if (isFinite(t.px) || isFinite(t.py)) {\r\n      const origin = new Point(ox, oy).transform(transformer)\r\n      // TODO: Replace t.px with isFinite(t.px)\r\n      const dx = t.px ? t.px - origin.x : 0\r\n      const dy = t.py ? t.py - origin.y : 0\r\n      transformer.translateO(dx, dy)\r\n    }\r\n\r\n    // Translate now after positioning\r\n    transformer.translateO(t.tx, t.ty)\r\n    return transformer\r\n  }\r\n\r\n  // Applies a matrix defined by its affine parameters\r\n  compose (o) {\r\n    if (o.origin) {\r\n      o.originX = o.origin[0]\r\n      o.originY = o.origin[1]\r\n    }\r\n    // Get the parameters\r\n    var ox = o.originX || 0\r\n    var oy = o.originY || 0\r\n    var sx = o.scaleX || 1\r\n    var sy = o.scaleY || 1\r\n    var lam = o.shear || 0\r\n    var theta = o.rotate || 0\r\n    var tx = o.translateX || 0\r\n    var ty = o.translateY || 0\r\n\r\n    // Apply the standard matrix\r\n    var result = new Matrix()\r\n      .translateO(-ox, -oy)\r\n      .scaleO(sx, sy)\r\n      .shearO(lam)\r\n      .rotateO(theta)\r\n      .translateO(tx, ty)\r\n      .lmultiplyO(this)\r\n      .translateO(ox, oy)\r\n    return result\r\n  }\r\n\r\n  // Decomposes this matrix into its affine parameters\r\n  decompose (cx = 0, cy = 0) {\r\n    // Get the parameters from the matrix\r\n    var a = this.a\r\n    var b = this.b\r\n    var c = this.c\r\n    var d = this.d\r\n    var e = this.e\r\n    var f = this.f\r\n\r\n    // Figure out if the winding direction is clockwise or counterclockwise\r\n    var determinant = a * d - b * c\r\n    var ccw = determinant > 0 ? 1 : -1\r\n\r\n    // Since we only shear in x, we can use the x basis to get the x scale\r\n    // and the rotation of the resulting matrix\r\n    var sx = ccw * Math.sqrt(a * a + b * b)\r\n    var thetaRad = Math.atan2(ccw * b, ccw * a)\r\n    var theta = 180 / Math.PI * thetaRad\r\n    var ct = Math.cos(thetaRad)\r\n    var st = Math.sin(thetaRad)\r\n\r\n    // We can then solve the y basis vector simultaneously to get the other\r\n    // two affine parameters directly from these parameters\r\n    var lam = (a * c + b * d) / determinant\r\n    var sy = ((c * sx) / (lam * a - b)) || ((d * sx) / (lam * b + a))\r\n\r\n    // Use the translations\r\n    const tx = e - cx + cx * ct * sx + cy * (lam * ct * sx - st * sy)\r\n    const ty = f - cy + cx * st * sx + cy * (lam * st * sx + ct * sy)\r\n\r\n    // Construct the decomposition and return it\r\n    return {\r\n      // Return the affine parameters\r\n      scaleX: sx,\r\n      scaleY: sy,\r\n      shear: lam,\r\n      rotate: theta,\r\n      translateX: tx,\r\n      translateY: ty,\r\n      originX: cx,\r\n      originY: cy,\r\n\r\n      // Return the matrix parameters\r\n      a: this.a,\r\n      b: this.b,\r\n      c: this.c,\r\n      d: this.d,\r\n      e: this.e,\r\n      f: this.f\r\n    }\r\n  }\r\n\r\n  // Left multiplies by the given matrix\r\n  multiply (matrix) {\r\n    return this.clone().multiplyO(matrix)\r\n  }\r\n\r\n  multiplyO (matrix) {\r\n    // Get the matrices\r\n    var l = this\r\n    var r = matrix instanceof Matrix\r\n      ? matrix\r\n      : new Matrix(matrix)\r\n\r\n    return Matrix.matrixMultiply(l, r, this)\r\n  }\r\n\r\n  lmultiply (matrix) {\r\n    return this.clone().lmultiplyO(matrix)\r\n  }\r\n\r\n  lmultiplyO (matrix) {\r\n    var r = this\r\n    var l = matrix instanceof Matrix\r\n      ? matrix\r\n      : new Matrix(matrix)\r\n\r\n    return Matrix.matrixMultiply(l, r, this)\r\n  }\r\n\r\n  // Inverses matrix\r\n  inverseO () {\r\n    // Get the current parameters out of the matrix\r\n    var a = this.a\r\n    var b = this.b\r\n    var c = this.c\r\n    var d = this.d\r\n    var e = this.e\r\n    var f = this.f\r\n\r\n    // Invert the 2x2 matrix in the top left\r\n    var det = a * d - b * c\r\n    if (!det) throw new Error('Cannot invert ' + this)\r\n\r\n    // Calculate the top 2x2 matrix\r\n    var na = d / det\r\n    var nb = -b / det\r\n    var nc = -c / det\r\n    var nd = a / det\r\n\r\n    // Apply the inverted matrix to the top right\r\n    var ne = -(na * e + nc * f)\r\n    var nf = -(nb * e + nd * f)\r\n\r\n    // Construct the inverted matrix\r\n    this.a = na\r\n    this.b = nb\r\n    this.c = nc\r\n    this.d = nd\r\n    this.e = ne\r\n    this.f = nf\r\n\r\n    return this\r\n  }\r\n\r\n  inverse () {\r\n    return this.clone().inverseO()\r\n  }\r\n\r\n  // Translate matrix\r\n  translate (x, y) {\r\n    return this.clone().translateO(x, y)\r\n  }\r\n\r\n  translateO (x, y) {\r\n    this.e += x || 0\r\n    this.f += y || 0\r\n    return this\r\n  }\r\n\r\n  // Scale matrix\r\n  scale (x, y, cx, cy) {\r\n    return this.clone().scaleO(...arguments)\r\n  }\r\n\r\n  scaleO (x, y = x, cx = 0, cy = 0) {\r\n    // Support uniform scaling\r\n    if (arguments.length === 3) {\r\n      cy = cx\r\n      cx = y\r\n      y = x\r\n    }\r\n\r\n    const { a, b, c, d, e, f } = this\r\n\r\n    this.a = a * x\r\n    this.b = b * y\r\n    this.c = c * x\r\n    this.d = d * y\r\n    this.e = e * x - cx * x + cx\r\n    this.f = f * y - cy * y + cy\r\n\r\n    return this\r\n  }\r\n\r\n  // Rotate matrix\r\n  rotate (r, cx, cy) {\r\n    return this.clone().rotateO(r, cx, cy)\r\n  }\r\n\r\n  rotateO (r, cx = 0, cy = 0) {\r\n    // Convert degrees to radians\r\n    r = radians(r)\r\n\r\n    const cos = Math.cos(r)\r\n    const sin = Math.sin(r)\r\n\r\n    const { a, b, c, d, e, f } = this\r\n\r\n    this.a = a * cos - b * sin\r\n    this.b = b * cos + a * sin\r\n    this.c = c * cos - d * sin\r\n    this.d = d * cos + c * sin\r\n    this.e = e * cos - f * sin + cy * sin - cx * cos + cx\r\n    this.f = f * cos + e * sin - cx * sin - cy * cos + cy\r\n\r\n    return this\r\n  }\r\n\r\n  // Flip matrix on x or y, at a given offset\r\n  flip (axis, around) {\r\n    return this.clone().flipO(axis, around)\r\n  }\r\n\r\n  flipO (axis, around) {\r\n    return axis === 'x' ? this.scaleO(-1, 1, around, 0)\r\n      : axis === 'y' ? this.scaleO(1, -1, 0, around)\r\n      : this.scaleO(-1, -1, axis, around || axis) // Define an x, y flip point\r\n  }\r\n\r\n  // Shear matrix\r\n  shear (a, cx, cy) {\r\n    return this.clone().shearO(a, cx, cy)\r\n  }\r\n\r\n  shearO (lx, cx = 0, cy = 0) {\r\n    const { a, b, c, d, e, f } = this\r\n\r\n    this.a = a + b * lx\r\n    this.c = c + d * lx\r\n    this.e = e + f * lx - cy * lx\r\n\r\n    return this\r\n  }\r\n\r\n  // Skew Matrix\r\n  skew (x, y, cx, cy) {\r\n    return this.clone().skewO(...arguments)\r\n  }\r\n\r\n  skewO (x, y = x, cx = 0, cy = 0) {\r\n    // support uniformal skew\r\n    if (arguments.length === 3) {\r\n      cy = cx\r\n      cx = y\r\n      y = x\r\n    }\r\n\r\n    // Convert degrees to radians\r\n    x = radians(x)\r\n    y = radians(y)\r\n\r\n    const lx = Math.tan(x)\r\n    const ly = Math.tan(y)\r\n\r\n    const { a, b, c, d, e, f } = this\r\n\r\n    this.a = a + b * lx\r\n    this.b = b + a * ly\r\n    this.c = c + d * lx\r\n    this.d = d + c * ly\r\n    this.e = e + f * lx - cy * lx\r\n    this.f = f + e * ly - cx * ly\r\n\r\n    return this\r\n  }\r\n\r\n  // SkewX\r\n  skewX (x, cx, cy) {\r\n    return this.skew(x, 0, cx, cy)\r\n  }\r\n\r\n  skewXO (x, cx, cy) {\r\n    return this.skewO(x, 0, cx, cy)\r\n  }\r\n\r\n  // SkewY\r\n  skewY (y, cx, cy) {\r\n    return this.skew(0, y, cx, cy)\r\n  }\r\n\r\n  skewYO (y, cx, cy) {\r\n    return this.skewO(0, y, cx, cy)\r\n  }\r\n\r\n  // Transform around a center point\r\n  aroundO (cx, cy, matrix) {\r\n    var dx = cx || 0\r\n    var dy = cy || 0\r\n    return this.translateO(-dx, -dy).lmultiplyO(matrix).translateO(dx, dy)\r\n  }\r\n\r\n  around (cx, cy, matrix) {\r\n    return this.clone().aroundO(cx, cy, matrix)\r\n  }\r\n\r\n  // Check if two matrices are equal\r\n  equals (other) {\r\n    var comp = new Matrix(other)\r\n    return closeEnough(this.a, comp.a) && closeEnough(this.b, comp.b)\r\n      && closeEnough(this.c, comp.c) && closeEnough(this.d, comp.d)\r\n      && closeEnough(this.e, comp.e) && closeEnough(this.f, comp.f)\r\n  }\r\n\r\n  // Convert matrix to string\r\n  toString () {\r\n    return 'matrix(' + this.a + ',' + this.b + ',' + this.c + ',' + this.d + ',' + this.e + ',' + this.f + ')'\r\n  }\r\n\r\n  toArray () {\r\n    return [ this.a, this.b, this.c, this.d, this.e, this.f ]\r\n  }\r\n\r\n  valueOf () {\r\n    return {\r\n      a: this.a,\r\n      b: this.b,\r\n      c: this.c,\r\n      d: this.d,\r\n      e: this.e,\r\n      f: this.f\r\n    }\r\n  }\r\n\r\n  static fromArray (a) {\r\n    return { a: a[0], b: a[1], c: a[2], d: a[3], e: a[4], f: a[5] }\r\n  }\r\n\r\n  static isMatrixLike (o) {\r\n    return (\r\n      o.a != null\r\n      || o.b != null\r\n      || o.c != null\r\n      || o.d != null\r\n      || o.e != null\r\n      || o.f != null\r\n    )\r\n  }\r\n\r\n  static formatTransforms (o) {\r\n    // Get all of the parameters required to form the matrix\r\n    var flipBoth = o.flip === 'both' || o.flip === true\r\n    var flipX = o.flip && (flipBoth || o.flip === 'x') ? -1 : 1\r\n    var flipY = o.flip && (flipBoth || o.flip === 'y') ? -1 : 1\r\n    var skewX = o.skew && o.skew.length ? o.skew[0]\r\n      : isFinite(o.skew) ? o.skew\r\n      : isFinite(o.skewX) ? o.skewX\r\n      : 0\r\n    var skewY = o.skew && o.skew.length ? o.skew[1]\r\n      : isFinite(o.skew) ? o.skew\r\n      : isFinite(o.skewY) ? o.skewY\r\n      : 0\r\n    var scaleX = o.scale && o.scale.length ? o.scale[0] * flipX\r\n      : isFinite(o.scale) ? o.scale * flipX\r\n      : isFinite(o.scaleX) ? o.scaleX * flipX\r\n      : flipX\r\n    var scaleY = o.scale && o.scale.length ? o.scale[1] * flipY\r\n      : isFinite(o.scale) ? o.scale * flipY\r\n      : isFinite(o.scaleY) ? o.scaleY * flipY\r\n      : flipY\r\n    var shear = o.shear || 0\r\n    var theta = o.rotate || o.theta || 0\r\n    var origin = new Point(o.origin || o.around || o.ox || o.originX, o.oy || o.originY)\r\n    var ox = origin.x\r\n    var oy = origin.y\r\n    var position = new Point(o.position || o.px || o.positionX, o.py || o.positionY)\r\n    var px = position.x\r\n    var py = position.y\r\n    var translate = new Point(o.translate || o.tx || o.translateX, o.ty || o.translateY)\r\n    var tx = translate.x\r\n    var ty = translate.y\r\n    var relative = new Point(o.relative || o.rx || o.relativeX, o.ry || o.relativeY)\r\n    var rx = relative.x\r\n    var ry = relative.y\r\n\r\n    // Populate all of the values\r\n    return {\r\n      scaleX, scaleY, skewX, skewY, shear, theta, rx, ry, tx, ty, ox, oy, px, py\r\n    }\r\n  }\r\n\r\n  // left matrix, right matrix, target matrix which is overwritten\r\n  static matrixMultiply (l, r, o) {\r\n    // Work out the product directly\r\n    var a = l.a * r.a + l.c * r.b\r\n    var b = l.b * r.a + l.d * r.b\r\n    var c = l.a * r.c + l.c * r.d\r\n    var d = l.b * r.c + l.d * r.d\r\n    var e = l.e + l.a * r.e + l.c * r.f\r\n    var f = l.f + l.b * r.e + l.d * r.f\r\n\r\n    // make sure to use local variables because l/r and o could be the same\r\n    o.a = a\r\n    o.b = b\r\n    o.c = c\r\n    o.d = d\r\n    o.e = e\r\n    o.f = f\r\n\r\n    return o\r\n  }\r\n}\r\n\r\nexport function ctm () {\r\n  return new Matrix(this.node.getCTM())\r\n}\r\n\r\nexport function screenCTM () {\r\n  /* https://bugzilla.mozilla.org/show_bug.cgi?id=1344537\r\n     This is needed because FF does not return the transformation matrix\r\n     for the inner coordinate system when getScreenCTM() is called on nested svgs.\r\n     However all other Browsers do that */\r\n  if (typeof this.isRoot === 'function' && !this.isRoot()) {\r\n    var rect = this.rect(1, 1)\r\n    var m = rect.node.getScreenCTM()\r\n    rect.remove()\r\n    return new Matrix(m)\r\n  }\r\n  return new Matrix(this.node.getScreenCTM())\r\n}\r\n\r\nregister(Matrix, 'Matrix')\r\n","import { globals } from '../../utils/window.js'\r\nimport { makeInstance } from '../../utils/adopter.js'\r\n\r\nexport default function parser () {\r\n  // Reuse cached element if possible\r\n  if (!parser.nodes) {\r\n    const svg = makeInstance().size(2, 0)\r\n    svg.node.style.cssText = [\r\n      'opacity: 0',\r\n      'position: absolute',\r\n      'left: -100%',\r\n      'top: -100%',\r\n      'overflow: hidden'\r\n    ].join(';')\r\n\r\n    svg.attr('focusable', 'false')\r\n    svg.attr('aria-hidden', 'true')\r\n\r\n    const path = svg.path().node\r\n\r\n    parser.nodes = { svg, path }\r\n  }\r\n\r\n  if (!parser.nodes.svg.node.parentNode) {\r\n    const b = globals.document.body || globals.document.documentElement\r\n    parser.nodes.svg.addTo(b)\r\n  }\r\n\r\n  return parser.nodes\r\n}\r\n","import { delimiter } from '../modules/core/regex.js'\r\nimport { globals } from '../utils/window.js'\r\nimport { register } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Matrix from './Matrix.js'\r\nimport Point from './Point.js'\r\nimport parser from '../modules/core/parser.js'\r\n\r\nfunction isNulledBox (box) {\r\n  return !box.width && !box.height && !box.x && !box.y\r\n}\r\n\r\nfunction domContains (node) {\r\n  return node === globals.document\r\n    || (globals.document.documentElement.contains || function (node) {\r\n      // This is IE - it does not support contains() for top-level SVGs\r\n      while (node.parentNode) {\r\n        node = node.parentNode\r\n      }\r\n      return node === globals.document\r\n    }).call(globals.document.documentElement, node)\r\n}\r\n\r\nexport default class Box {\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (source) {\r\n    var base = [ 0, 0, 0, 0 ]\r\n    source = typeof source === 'string' ? source.split(delimiter).map(parseFloat)\r\n      : Array.isArray(source) ? source\r\n      : typeof source === 'object' ? [ source.left != null ? source.left\r\n      : source.x, source.top != null ? source.top : source.y, source.width, source.height ]\r\n      : arguments.length === 4 ? [].slice.call(arguments)\r\n      : base\r\n\r\n    this.x = source[0] || 0\r\n    this.y = source[1] || 0\r\n    this.width = this.w = source[2] || 0\r\n    this.height = this.h = source[3] || 0\r\n\r\n    // Add more bounding box properties\r\n    this.x2 = this.x + this.w\r\n    this.y2 = this.y + this.h\r\n    this.cx = this.x + this.w / 2\r\n    this.cy = this.y + this.h / 2\r\n\r\n    return this\r\n  }\r\n\r\n  // Merge rect box with another, return a new instance\r\n  merge (box) {\r\n    const x = Math.min(this.x, box.x)\r\n    const y = Math.min(this.y, box.y)\r\n    const width = Math.max(this.x + this.width, box.x + box.width) - x\r\n    const height = Math.max(this.y + this.height, box.y + box.height) - y\r\n\r\n    return new Box(x, y, width, height)\r\n  }\r\n\r\n  transform (m) {\r\n    if (!(m instanceof Matrix)) {\r\n      m = new Matrix(m)\r\n    }\r\n\r\n    let xMin = Infinity\r\n    let xMax = -Infinity\r\n    let yMin = Infinity\r\n    let yMax = -Infinity\r\n\r\n    const pts = [\r\n      new Point(this.x, this.y),\r\n      new Point(this.x2, this.y),\r\n      new Point(this.x, this.y2),\r\n      new Point(this.x2, this.y2)\r\n    ]\r\n\r\n    pts.forEach(function (p) {\r\n      p = p.transform(m)\r\n      xMin = Math.min(xMin, p.x)\r\n      xMax = Math.max(xMax, p.x)\r\n      yMin = Math.min(yMin, p.y)\r\n      yMax = Math.max(yMax, p.y)\r\n    })\r\n\r\n    return new Box(\r\n      xMin, yMin,\r\n      xMax - xMin,\r\n      yMax - yMin\r\n    )\r\n  }\r\n\r\n  addOffset () {\r\n    // offset by window scroll position, because getBoundingClientRect changes when window is scrolled\r\n    this.x += globals.window.pageXOffset\r\n    this.y += globals.window.pageYOffset\r\n    return this\r\n  }\r\n\r\n  toString () {\r\n    return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height\r\n  }\r\n\r\n  toArray () {\r\n    return [ this.x, this.y, this.width, this.height ]\r\n  }\r\n\r\n  isNulled () {\r\n    return isNulledBox(this)\r\n  }\r\n}\r\n\r\nfunction getBox (cb, retry) {\r\n  let box\r\n\r\n  try {\r\n    box = cb(this.node)\r\n\r\n    if (isNulledBox(box) && !domContains(this.node)) {\r\n      throw new Error('Element not in the dom')\r\n    }\r\n  } catch (e) {\r\n    box = retry(this)\r\n  }\r\n\r\n  return box\r\n}\r\n\r\nexport function bbox () {\r\n  return new Box(getBox.call(this, (node) => node.getBBox(), (el) => {\r\n    try {\r\n      const clone = el.clone().addTo(parser().svg).show()\r\n      const box = clone.node.getBBox()\r\n      clone.remove()\r\n      return box\r\n    } catch (e) {\r\n      throw new Error('Getting bbox of element \"' + el.node.nodeName + '\" is not possible. ' + e.toString())\r\n    }\r\n  }))\r\n}\r\n\r\nexport function rbox (el) {\r\n  const box = new Box(getBox.call(this, (node) => node.getBoundingClientRect(), (el) => {\r\n    throw new Error('Getting rbox of element \"' + el.node.nodeName + '\" is not possible')\r\n  }))\r\n  if (el) return box.transform(el.screenCTM().inverse())\r\n  return box.addOffset()\r\n}\r\n\r\nregisterMethods({\r\n  viewbox: {\r\n    viewbox (x, y, width, height) {\r\n      // act as getter\r\n      if (x == null) return new Box(this.attr('viewBox'))\r\n\r\n      // act as setter\r\n      return this.attr('viewBox', new Box(x, y, width, height))\r\n    },\r\n\r\n    zoom (level, point) {\r\n      let width = this.node.clientWidth\r\n      let height = this.node.clientHeight\r\n      const v = this.viewbox()\r\n\r\n      // Firefox does not support clientHeight and returns 0\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=874811\r\n      if (!width && !height) {\r\n        var style = window.getComputedStyle(this.node)\r\n        width = parseFloat(style.getPropertyValue('width'))\r\n        height = parseFloat(style.getPropertyValue('height'))\r\n      }\r\n\r\n      const zoomX = width / v.width\r\n      const zoomY = height / v.height\r\n      const zoom = Math.min(zoomX, zoomY)\r\n\r\n      if (level == null) {\r\n        return zoom\r\n      }\r\n\r\n      let zoomAmount = zoom / level\r\n      if (zoomAmount === Infinity) zoomAmount = Number.MIN_VALUE\r\n\r\n      point = point || new Point(width / 2 / zoomX + v.x, height / 2 / zoomY + v.y)\r\n\r\n      const box = new Box(v).transform(\r\n        new Matrix({ scale: zoomAmount, origin: point })\r\n      )\r\n\r\n      return this.viewbox(box)\r\n    }\r\n  }\r\n})\r\n\r\nregister(Box, 'Box')\r\n","/* eslint no-new-func: \"off\" */\r\nexport const subClassArray = (function () {\r\n  try {\r\n    // try es6 subclassing\r\n    return Function('name', 'baseClass', '_constructor', [\r\n      'baseClass = baseClass || Array',\r\n      'return {',\r\n      '  [name]: class extends baseClass {',\r\n      '    constructor (...args) {',\r\n      '      super(...args)',\r\n      '      _constructor && _constructor.apply(this, args)',\r\n      '    }',\r\n      '  }',\r\n      '}[name]'\r\n    ].join('\\n'))\r\n  } catch (e) {\r\n    // Use es5 approach\r\n    return (name, baseClass = Array, _constructor) => {\r\n      const Arr = function () {\r\n        baseClass.apply(this, arguments)\r\n        _constructor && _constructor.apply(this, arguments)\r\n      }\r\n\r\n      Arr.prototype = Object.create(baseClass.prototype)\r\n      Arr.prototype.constructor = Arr\r\n\r\n      Arr.prototype.map = function (fn) {\r\n        const arr = new Arr()\r\n        arr.push.apply(arr, Array.prototype.map.call(this, fn))\r\n        return arr\r\n      }\r\n\r\n      return Arr\r\n    }\r\n  }\r\n})()\r\n","import { extend } from '../utils/adopter.js'\r\nimport { subClassArray } from './ArrayPolyfill.js'\r\n\r\nconst List = subClassArray('List', Array, function (arr = []) {\r\n  // This catches the case, that native map tries to create an array with new Array(1)\r\n  if (typeof arr === 'number') return this\r\n  this.length = 0\r\n  this.push(...arr)\r\n})\r\n\r\nexport default List\r\n\r\nextend(List, {\r\n  each (fnOrMethodName, ...args) {\r\n    if (typeof fnOrMethodName === 'function') {\r\n      return this.map((el) => {\r\n        return fnOrMethodName.call(el, el)\r\n      })\r\n    } else {\r\n      return this.map(el => {\r\n        return el[fnOrMethodName](...args)\r\n      })\r\n    }\r\n  },\r\n\r\n  toArray () {\r\n    return Array.prototype.concat.apply([], this)\r\n  }\r\n})\r\n\r\nconst reserved = [ 'toArray', 'constructor', 'each' ]\r\n\r\nList.extend = function (methods) {\r\n  methods = methods.reduce((obj, name) => {\r\n    // Don't overwrite own methods\r\n    if (reserved.includes(name)) return obj\r\n\r\n    // Don't add private methods\r\n    if (name[0] === '_') return obj\r\n\r\n    // Relay every call to each()\r\n    obj[name] = function (...attrs) {\r\n      return this.each(name, ...attrs)\r\n    }\r\n    return obj\r\n  }, {})\r\n\r\n  extend(List, methods)\r\n}\r\n","import { adopt } from '../../utils/adopter.js'\r\nimport { globals } from '../../utils/window.js'\r\nimport { map } from '../../utils/utils.js'\r\nimport List from '../../types/List.js'\r\n\r\nexport default function baseFind (query, parent) {\r\n  return new List(map((parent || globals.document).querySelectorAll(query), function (node) {\r\n    return adopt(node)\r\n  }))\r\n}\r\n\r\n// Scoped find method\r\nexport function find (query) {\r\n  return baseFind(query, this.node)\r\n}\r\n\r\nexport function findOne (query) {\r\n  return adopt(this.node.querySelector(query))\r\n}\r\n","import { dispatch, off, on } from '../modules/core/event.js'\r\nimport { register } from '../utils/adopter.js'\r\nimport Base from './Base.js'\r\n\r\nexport default class EventTarget extends Base {\r\n  constructor ({ events = {} } = {}) {\r\n    super()\r\n    this.events = events\r\n  }\r\n\r\n  addEventListener () {}\r\n\r\n  dispatch (event, data) {\r\n    return dispatch(this, event, data)\r\n  }\r\n\r\n  dispatchEvent (event) {\r\n    const bag = this.getEventHolder().events\r\n    if (!bag) return true\r\n\r\n    const events = bag[event.type]\r\n\r\n    for (const i in events) {\r\n      for (const j in events[i]) {\r\n        events[i][j](event)\r\n      }\r\n    }\r\n\r\n    return !event.defaultPrevented\r\n  }\r\n\r\n  // Fire given event\r\n  fire (event, data) {\r\n    this.dispatch(event, data)\r\n    return this\r\n  }\r\n\r\n  getEventHolder () {\r\n    return this\r\n  }\r\n\r\n  getEventTarget () {\r\n    return this\r\n  }\r\n\r\n  // Unbind event from listener\r\n  off (event, listener) {\r\n    off(this, event, listener)\r\n    return this\r\n  }\r\n\r\n  // Bind given event to listener\r\n  on (event, listener, binding, options) {\r\n    on(this, event, listener, binding, options)\r\n    return this\r\n  }\r\n\r\n  removeEventListener () {}\r\n}\r\n\r\nregister(EventTarget, 'EventTarget')\r\n","\r\nexport function noop () {}\r\n\r\n// Default animation values\r\nexport const timeline = {\r\n  duration: 400,\r\n  ease: '>',\r\n  delay: 0\r\n}\r\n\r\n// Default attribute values\r\nexport const attrs = {\r\n\r\n  // fill and stroke\r\n  'fill-opacity': 1,\r\n  'stroke-opacity': 1,\r\n  'stroke-width': 0,\r\n  'stroke-linejoin': 'miter',\r\n  'stroke-linecap': 'butt',\r\n  fill: '#000000',\r\n  stroke: '#000000',\r\n  opacity: 1,\r\n\r\n  // position\r\n  x: 0,\r\n  y: 0,\r\n  cx: 0,\r\n  cy: 0,\r\n\r\n  // size\r\n  width: 0,\r\n  height: 0,\r\n\r\n  // radius\r\n  r: 0,\r\n  rx: 0,\r\n  ry: 0,\r\n\r\n  // gradient\r\n  offset: 0,\r\n  'stop-opacity': 1,\r\n  'stop-color': '#000000',\r\n\r\n  // text\r\n  'text-anchor': 'start'\r\n}\r\n","import { delimiter } from '../modules/core/regex.js'\r\nimport { extend } from '../utils/adopter.js'\r\nimport { subClassArray } from './ArrayPolyfill.js'\r\n\r\nconst SVGArray = subClassArray('SVGArray', Array, function (arr) {\r\n  this.init(arr)\r\n})\r\n\r\nexport default SVGArray\r\n\r\nextend(SVGArray, {\r\n  init (arr) {\r\n    // This catches the case, that native map tries to create an array with new Array(1)\r\n    if (typeof arr === 'number') return this\r\n    this.length = 0\r\n    this.push(...this.parse(arr))\r\n    return this\r\n  },\r\n\r\n  toArray () {\r\n    return Array.prototype.concat.apply([], this)\r\n  },\r\n\r\n  toString () {\r\n    return this.join(' ')\r\n  },\r\n\r\n  // Flattens the array if needed\r\n  valueOf () {\r\n    const ret = []\r\n    ret.push(...this)\r\n    return ret\r\n  },\r\n\r\n  // Parse whitespace separated string\r\n  parse (array = []) {\r\n    // If already is an array, no need to parse it\r\n    if (array instanceof Array) return array\r\n\r\n    return array.trim().split(delimiter).map(parseFloat)\r\n  },\r\n\r\n  clone () {\r\n    return new this.constructor(this)\r\n  },\r\n\r\n  toSet () {\r\n    return new Set(this)\r\n  }\r\n})\r\n","import { numberAndUnit } from '../modules/core/regex.js'\r\n\r\n// Module for unit convertions\r\nexport default class SVGNumber {\r\n  // Initialize\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (value, unit) {\r\n    unit = Array.isArray(value) ? value[1] : unit\r\n    value = Array.isArray(value) ? value[0] : value\r\n\r\n    // initialize defaults\r\n    this.value = 0\r\n    this.unit = unit || ''\r\n\r\n    // parse value\r\n    if (typeof value === 'number') {\r\n      // ensure a valid numeric value\r\n      this.value = isNaN(value) ? 0 : !isFinite(value) ? (value < 0 ? -3.4e+38 : +3.4e+38) : value\r\n    } else if (typeof value === 'string') {\r\n      unit = value.match(numberAndUnit)\r\n\r\n      if (unit) {\r\n        // make value numeric\r\n        this.value = parseFloat(unit[1])\r\n\r\n        // normalize\r\n        if (unit[5] === '%') {\r\n          this.value /= 100\r\n        } else if (unit[5] === 's') {\r\n          this.value *= 1000\r\n        }\r\n\r\n        // store unit\r\n        this.unit = unit[5]\r\n      }\r\n    } else {\r\n      if (value instanceof SVGNumber) {\r\n        this.value = value.valueOf()\r\n        this.unit = value.unit\r\n      }\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  toString () {\r\n    return (this.unit === '%' ? ~~(this.value * 1e8) / 1e6\r\n      : this.unit === 's' ? this.value / 1e3\r\n      : this.value\r\n    ) + this.unit\r\n  }\r\n\r\n  toJSON () {\r\n    return this.toString()\r\n  }\r\n\r\n  toArray () {\r\n    return [ this.value, this.unit ]\r\n  }\r\n\r\n  valueOf () {\r\n    return this.value\r\n  }\r\n\r\n  // Add number\r\n  plus (number) {\r\n    number = new SVGNumber(number)\r\n    return new SVGNumber(this + number, this.unit || number.unit)\r\n  }\r\n\r\n  // Subtract number\r\n  minus (number) {\r\n    number = new SVGNumber(number)\r\n    return new SVGNumber(this - number, this.unit || number.unit)\r\n  }\r\n\r\n  // Multiply number\r\n  times (number) {\r\n    number = new SVGNumber(number)\r\n    return new SVGNumber(this * number, this.unit || number.unit)\r\n  }\r\n\r\n  // Divide number\r\n  divide (number) {\r\n    number = new SVGNumber(number)\r\n    return new SVGNumber(this / number, this.unit || number.unit)\r\n  }\r\n\r\n  convert (unit) {\r\n    return new SVGNumber(this.value, unit)\r\n  }\r\n}\r\n","import { attrs as defaults } from './defaults.js'\r\nimport { isNumber } from './regex.js'\r\nimport Color from '../../types/Color.js'\r\nimport SVGArray from '../../types/SVGArray.js'\r\nimport SVGNumber from '../../types/SVGNumber.js'\r\n\r\nconst hooks = []\r\nexport function registerAttrHook (fn) {\r\n  hooks.push(fn)\r\n}\r\n\r\n// Set svg element attribute\r\nexport default function attr (attr, val, ns) {\r\n  // act as full getter\r\n  if (attr == null) {\r\n    // get an object of attributes\r\n    attr = {}\r\n    val = this.node.attributes\r\n\r\n    for (const node of val) {\r\n      attr[node.nodeName] = isNumber.test(node.nodeValue)\r\n        ? parseFloat(node.nodeValue)\r\n        : node.nodeValue\r\n    }\r\n\r\n    return attr\r\n  } else if (attr instanceof Array) {\r\n    // loop through array and get all values\r\n    return attr.reduce((last, curr) => {\r\n      last[curr] = this.attr(curr)\r\n      return last\r\n    }, {})\r\n  } else if (typeof attr === 'object' && attr.constructor === Object) {\r\n    // apply every attribute individually if an object is passed\r\n    for (val in attr) this.attr(val, attr[val])\r\n  } else if (val === null) {\r\n    // remove value\r\n    this.node.removeAttribute(attr)\r\n  } else if (val == null) {\r\n    // act as a getter if the first and only argument is not an object\r\n    val = this.node.getAttribute(attr)\r\n    return val == null ? defaults[attr]\r\n      : isNumber.test(val) ? parseFloat(val)\r\n      : val\r\n  } else {\r\n    // Loop through hooks and execute them to convert value\r\n    val = hooks.reduce((_val, hook) => {\r\n      return hook(attr, _val, this)\r\n    }, val)\r\n\r\n    // ensure correct numeric values (also accepts NaN and Infinity)\r\n    if (typeof val === 'number') {\r\n      val = new SVGNumber(val)\r\n    } else if (Color.isColor(val)) {\r\n      // ensure full hex color\r\n      val = new Color(val)\r\n    } else if (val.constructor === Array) {\r\n      // Check for plain arrays and parse array values\r\n      val = new SVGArray(val)\r\n    }\r\n\r\n    // if the passed attribute is leading...\r\n    if (attr === 'leading') {\r\n      // ... call the leading method instead\r\n      if (this.leading) {\r\n        this.leading(val)\r\n      }\r\n    } else {\r\n      // set given attribute on node\r\n      typeof ns === 'string' ? this.node.setAttributeNS(ns, attr, val.toString())\r\n        : this.node.setAttribute(attr, val.toString())\r\n    }\r\n\r\n    // rebuild if required\r\n    if (this.rebuild && (attr === 'font-size' || attr === 'x')) {\r\n      this.rebuild()\r\n    }\r\n  }\r\n\r\n  return this\r\n}\r\n","import {\r\n  adopt,\r\n  assignNewId,\r\n  eid,\r\n  extend,\r\n  makeInstance,\r\n  create,\r\n  register\r\n} from '../utils/adopter.js'\r\nimport { find, findOne } from '../modules/core/selector.js'\r\nimport { globals } from '../utils/window.js'\r\nimport { map } from '../utils/utils.js'\r\nimport { ns } from '../modules/core/namespaces.js'\r\nimport EventTarget from '../types/EventTarget.js'\r\nimport List from '../types/List.js'\r\nimport attr from '../modules/core/attr.js'\r\n\r\nexport default class Dom extends EventTarget {\r\n  constructor (node, attrs) {\r\n    super(node)\r\n    this.node = node\r\n    this.type = node.nodeName\r\n\r\n    if (attrs && node !== attrs) {\r\n      this.attr(attrs)\r\n    }\r\n  }\r\n\r\n  // Add given element at a position\r\n  add (element, i) {\r\n    element = makeInstance(element)\r\n\r\n    if (i == null) {\r\n      this.node.appendChild(element.node)\r\n    } else if (element.node !== this.node.childNodes[i]) {\r\n      this.node.insertBefore(element.node, this.node.childNodes[i])\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Add element to given container and return self\r\n  addTo (parent) {\r\n    return makeInstance(parent).put(this)\r\n  }\r\n\r\n  // Returns all child elements\r\n  children () {\r\n    return new List(map(this.node.children, function (node) {\r\n      return adopt(node)\r\n    }))\r\n  }\r\n\r\n  // Remove all elements in this container\r\n  clear () {\r\n    // remove children\r\n    while (this.node.hasChildNodes()) {\r\n      this.node.removeChild(this.node.lastChild)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Clone element\r\n  clone () {\r\n    // write dom data to the dom so the clone can pickup the data\r\n    this.writeDataToDom()\r\n\r\n    // clone element and assign new id\r\n    return assignNewId(this.node.cloneNode(true))\r\n  }\r\n\r\n  // Iterates over all children and invokes a given block\r\n  each (block, deep) {\r\n    var children = this.children()\r\n    var i, il\r\n\r\n    for (i = 0, il = children.length; i < il; i++) {\r\n      block.apply(children[i], [ i, children ])\r\n\r\n      if (deep) {\r\n        children[i].each(block, deep)\r\n      }\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  element (nodeName) {\r\n    return this.put(new Dom(create(nodeName)))\r\n  }\r\n\r\n  // Get first child\r\n  first () {\r\n    return adopt(this.node.firstChild)\r\n  }\r\n\r\n  // Get a element at the given index\r\n  get (i) {\r\n    return adopt(this.node.childNodes[i])\r\n  }\r\n\r\n  getEventHolder () {\r\n    return this.node\r\n  }\r\n\r\n  getEventTarget () {\r\n    return this.node\r\n  }\r\n\r\n  // Checks if the given element is a child\r\n  has (element) {\r\n    return this.index(element) >= 0\r\n  }\r\n\r\n  // Get / set id\r\n  id (id) {\r\n    // generate new id if no id set\r\n    if (typeof id === 'undefined' && !this.node.id) {\r\n      this.node.id = eid(this.type)\r\n    }\r\n\r\n    // dont't set directly width this.node.id to make `null` work correctly\r\n    return this.attr('id', id)\r\n  }\r\n\r\n  // Gets index of given element\r\n  index (element) {\r\n    return [].slice.call(this.node.childNodes).indexOf(element.node)\r\n  }\r\n\r\n  // Get the last child\r\n  last () {\r\n    return adopt(this.node.lastChild)\r\n  }\r\n\r\n  // matches the element vs a css selector\r\n  matches (selector) {\r\n    const el = this.node\r\n    return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector)\r\n  }\r\n\r\n  // Returns the parent element instance\r\n  parent (type) {\r\n    var parent = this\r\n\r\n    // check for parent\r\n    if (!parent.node.parentNode) return null\r\n\r\n    // get parent element\r\n    parent = adopt(parent.node.parentNode)\r\n\r\n    if (!type) return parent\r\n\r\n    // loop trough ancestors if type is given\r\n    while (parent) {\r\n      if (typeof type === 'string' ? parent.matches(type) : parent instanceof type) return parent\r\n      if (!parent.node.parentNode || parent.node.parentNode.nodeName === '#document' || parent.node.parentNode.nodeName === '#document-fragment') return null // #759, #720\r\n      parent = adopt(parent.node.parentNode)\r\n    }\r\n  }\r\n\r\n  // Basically does the same as `add()` but returns the added element instead\r\n  put (element, i) {\r\n    this.add(element, i)\r\n    return element\r\n  }\r\n\r\n  // Add element to given container and return container\r\n  putIn (parent) {\r\n    return makeInstance(parent).add(this)\r\n  }\r\n\r\n  // Remove element\r\n  remove () {\r\n    if (this.parent()) {\r\n      this.parent().removeElement(this)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Remove a given child\r\n  removeElement (element) {\r\n    this.node.removeChild(element.node)\r\n\r\n    return this\r\n  }\r\n\r\n  // Replace this with element\r\n  replace (element) {\r\n    element = makeInstance(element)\r\n    this.node.parentNode.replaceChild(element.node, this.node)\r\n    return element\r\n  }\r\n\r\n  round (precision = 2, map) {\r\n    const factor = 10 ** precision\r\n    const attrs = this.attr()\r\n\r\n    // If we have no map, build one from attrs\r\n    if (!map) {\r\n      map = Object.keys(attrs)\r\n    }\r\n\r\n    // Holds rounded attributes\r\n    const newAttrs = {}\r\n    map.forEach((key) => {\r\n      newAttrs[key] = Math.round(attrs[key] * factor) / factor\r\n    })\r\n\r\n    this.attr(newAttrs)\r\n    return this\r\n  }\r\n\r\n  // Return id on string conversion\r\n  toString () {\r\n    return this.id()\r\n  }\r\n\r\n  // Import raw svg\r\n  svg (svgOrFn, outerHTML) {\r\n    var well, len, fragment\r\n\r\n    if (svgOrFn === false) {\r\n      outerHTML = false\r\n      svgOrFn = null\r\n    }\r\n\r\n    // act as getter if no svg string is given\r\n    if (svgOrFn == null || typeof svgOrFn === 'function') {\r\n      // The default for exports is, that the outerNode is included\r\n      outerHTML = outerHTML == null ? true : outerHTML\r\n\r\n      // write svgjs data to the dom\r\n      this.writeDataToDom()\r\n      let current = this\r\n\r\n      // An export modifier was passed\r\n      if (svgOrFn != null) {\r\n        current = adopt(current.node.cloneNode(true))\r\n\r\n        // If the user wants outerHTML we need to process this node, too\r\n        if (outerHTML) {\r\n          const result = svgOrFn(current)\r\n          current = result || current\r\n\r\n          // The user does not want this node? Well, then he gets nothing\r\n          if (result === false) return ''\r\n        }\r\n\r\n        // Deep loop through all children and apply modifier\r\n        current.each(function () {\r\n          const result = svgOrFn(this)\r\n          const _this = result || this\r\n\r\n          // If modifier returns false, discard node\r\n          if (result === false) {\r\n            this.remove()\r\n\r\n            // If modifier returns new node, use it\r\n          } else if (result && this !== _this) {\r\n            this.replace(_this)\r\n          }\r\n        }, true)\r\n      }\r\n\r\n      // Return outer or inner content\r\n      return outerHTML\r\n        ? current.node.outerHTML\r\n        : current.node.innerHTML\r\n    }\r\n\r\n    // Act as setter if we got a string\r\n\r\n    // The default for import is, that the current node is not replaced\r\n    outerHTML = outerHTML == null ? false : outerHTML\r\n\r\n    // Create temporary holder\r\n    well = globals.document.createElementNS(ns, 'svg')\r\n    fragment = globals.document.createDocumentFragment()\r\n\r\n    // Dump raw svg\r\n    well.innerHTML = svgOrFn\r\n\r\n    // Transplant nodes into the fragment\r\n    for (len = well.children.length; len--;) {\r\n      fragment.appendChild(well.firstElementChild)\r\n    }\r\n\r\n    const parent = this.parent()\r\n\r\n    // Add the whole fragment at once\r\n    return outerHTML\r\n      ? this.replace(fragment) && parent\r\n      : this.add(fragment)\r\n  }\r\n\r\n  words (text) {\r\n    // This is faster than removing all children and adding a new one\r\n    this.node.textContent = text\r\n    return this\r\n  }\r\n\r\n  // write svgjs data to the dom\r\n  writeDataToDom () {\r\n    // dump variables recursively\r\n    this.each(function () {\r\n      this.writeDataToDom()\r\n    })\r\n\r\n    return this\r\n  }\r\n}\r\n\r\nextend(Dom, { attr, find, findOne })\r\nregister(Dom, 'Dom')\r\n","import { bbox, rbox } from '../types/Box.js'\r\nimport { ctm, screenCTM } from '../types/Matrix.js'\r\nimport {\r\n  extend,\r\n  getClass,\r\n  makeInstance,\r\n  register,\r\n  root\r\n} from '../utils/adopter.js'\r\nimport { globals } from '../utils/window.js'\r\nimport { point } from '../types/Point.js'\r\nimport { proportionalSize } from '../utils/utils.js'\r\nimport { reference } from '../modules/core/regex.js'\r\nimport Dom from './Dom.js'\r\nimport List from '../types/List.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\n\r\nexport default class Element extends Dom {\r\n  constructor (node, attrs) {\r\n    super(node, attrs)\r\n\r\n    // initialize data object\r\n    this.dom = {}\r\n\r\n    // create circular reference\r\n    this.node.instance = this\r\n\r\n    if (node.hasAttribute('svgjs:data')) {\r\n      // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\r\n      this.setData(JSON.parse(node.getAttribute('svgjs:data')) || {})\r\n    }\r\n  }\r\n\r\n  // Move element by its center\r\n  center (x, y) {\r\n    return this.cx(x).cy(y)\r\n  }\r\n\r\n  // Move by center over x-axis\r\n  cx (x) {\r\n    return x == null ? this.x() + this.width() / 2 : this.x(x - this.width() / 2)\r\n  }\r\n\r\n  // Move by center over y-axis\r\n  cy (y) {\r\n    return y == null\r\n      ? this.y() + this.height() / 2\r\n      : this.y(y - this.height() / 2)\r\n  }\r\n\r\n  // Get defs\r\n  defs () {\r\n    return this.root().defs()\r\n  }\r\n\r\n  // Relative move over x and y axes\r\n  dmove (x, y) {\r\n    return this.dx(x).dy(y)\r\n  }\r\n\r\n  // Relative move over x axis\r\n  dx (x = 0) {\r\n    return this.x(new SVGNumber(x).plus(this.x()))\r\n  }\r\n\r\n  // Relative move over y axis\r\n  dy (y = 0) {\r\n    return this.y(new SVGNumber(y).plus(this.y()))\r\n  }\r\n\r\n  // Get parent document\r\n  root () {\r\n    const p = this.parent(getClass(root))\r\n    return p && p.root()\r\n  }\r\n\r\n  getEventHolder () {\r\n    return this\r\n  }\r\n\r\n  // Set height of element\r\n  height (height) {\r\n    return this.attr('height', height)\r\n  }\r\n\r\n  // Checks whether the given point inside the bounding box of the element\r\n  inside (x, y) {\r\n    const box = this.bbox()\r\n\r\n    return x > box.x\r\n      && y > box.y\r\n      && x < box.x + box.width\r\n      && y < box.y + box.height\r\n  }\r\n\r\n  // Move element to given x and y values\r\n  move (x, y) {\r\n    return this.x(x).y(y)\r\n  }\r\n\r\n  // return array of all ancestors of given type up to the root svg\r\n  parents (until = globals.document) {\r\n    until = makeInstance(until)\r\n    const parents = new List()\r\n    let parent = this\r\n\r\n    while (\r\n      (parent = parent.parent())\r\n      && parent.node !== until.node\r\n      && parent.node !== globals.document\r\n    ) {\r\n      parents.push(parent)\r\n    }\r\n\r\n    return parents\r\n  }\r\n\r\n  // Get referenced element form attribute value\r\n  reference (attr) {\r\n    attr = this.attr(attr)\r\n    if (!attr) return null\r\n\r\n    const m = attr.match(reference)\r\n    return m ? makeInstance(m[1]) : null\r\n  }\r\n\r\n  // set given data to the elements data property\r\n  setData (o) {\r\n    this.dom = o\r\n    return this\r\n  }\r\n\r\n  // Set element size to given width and height\r\n  size (width, height) {\r\n    const p = proportionalSize(this, width, height)\r\n\r\n    return this\r\n      .width(new SVGNumber(p.width))\r\n      .height(new SVGNumber(p.height))\r\n  }\r\n\r\n  // Set width of element\r\n  width (width) {\r\n    return this.attr('width', width)\r\n  }\r\n\r\n  // write svgjs data to the dom\r\n  writeDataToDom () {\r\n    // remove previously set data\r\n    this.node.removeAttribute('svgjs:data')\r\n\r\n    if (Object.keys(this.dom).length) {\r\n      this.node.setAttribute('svgjs:data', JSON.stringify(this.dom)) // see #428\r\n    }\r\n\r\n    return super.writeDataToDom()\r\n  }\r\n\r\n  // Move over x-axis\r\n  x (x) {\r\n    return this.attr('x', x)\r\n  }\r\n\r\n  // Move over y-axis\r\n  y (y) {\r\n    return this.attr('y', y)\r\n  }\r\n}\r\n\r\nextend(Element, {\r\n  bbox, rbox, point, ctm, screenCTM\r\n})\r\n\r\nregister(Element, 'Element')\r\n","import { on, off } from '../core/event.js'\r\nimport { registerMethods } from '../../utils/methods.js'\r\nimport Color from '../../types/Color.js'\r\nimport Element from '../../elements/Element.js'\r\nimport Matrix from '../../types/Matrix.js'\r\nimport Point from '../../types/Point.js'\r\nimport SVGNumber from '../../types/SVGNumber.js'\r\n\r\n// Define list of available attributes for stroke and fill\r\nvar sugar = {\r\n  stroke: [ 'color', 'width', 'opacity', 'linecap', 'linejoin', 'miterlimit', 'dasharray', 'dashoffset' ],\r\n  fill: [ 'color', 'opacity', 'rule' ],\r\n  prefix: function (t, a) {\r\n    return a === 'color' ? t : t + '-' + a\r\n  }\r\n}\r\n\r\n// Add sugar for fill and stroke\r\n;[ 'fill', 'stroke' ].forEach(function (m) {\r\n  var extension = {}\r\n  var i\r\n\r\n  extension[m] = function (o) {\r\n    if (typeof o === 'undefined') {\r\n      return this.attr(m)\r\n    }\r\n    if (typeof o === 'string' || o instanceof Color || Color.isRgb(o) || (o instanceof Element)) {\r\n      this.attr(m, o)\r\n    } else {\r\n      // set all attributes from sugar.fill and sugar.stroke list\r\n      for (i = sugar[m].length - 1; i >= 0; i--) {\r\n        if (o[sugar[m][i]] != null) {\r\n          this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]])\r\n        }\r\n      }\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  registerMethods([ 'Element', 'Runner' ], extension)\r\n})\r\n\r\nregisterMethods([ 'Element', 'Runner' ], {\r\n  // Let the user set the matrix directly\r\n  matrix: function (mat, b, c, d, e, f) {\r\n    // Act as a getter\r\n    if (mat == null) {\r\n      return new Matrix(this)\r\n    }\r\n\r\n    // Act as a setter, the user can pass a matrix or a set of numbers\r\n    return this.attr('transform', new Matrix(mat, b, c, d, e, f))\r\n  },\r\n\r\n  // Map rotation to transform\r\n  rotate: function (angle, cx, cy) {\r\n    return this.transform({ rotate: angle, ox: cx, oy: cy }, true)\r\n  },\r\n\r\n  // Map skew to transform\r\n  skew: function (x, y, cx, cy) {\r\n    return arguments.length === 1 || arguments.length === 3\r\n      ? this.transform({ skew: x, ox: y, oy: cx }, true)\r\n      : this.transform({ skew: [ x, y ], ox: cx, oy: cy }, true)\r\n  },\r\n\r\n  shear: function (lam, cx, cy) {\r\n    return this.transform({ shear: lam, ox: cx, oy: cy }, true)\r\n  },\r\n\r\n  // Map scale to transform\r\n  scale: function (x, y, cx, cy) {\r\n    return arguments.length === 1 || arguments.length === 3\r\n      ? this.transform({ scale: x, ox: y, oy: cx }, true)\r\n      : this.transform({ scale: [ x, y ], ox: cx, oy: cy }, true)\r\n  },\r\n\r\n  // Map translate to transform\r\n  translate: function (x, y) {\r\n    return this.transform({ translate: [ x, y ] }, true)\r\n  },\r\n\r\n  // Map relative translations to transform\r\n  relative: function (x, y) {\r\n    return this.transform({ relative: [ x, y ] }, true)\r\n  },\r\n\r\n  // Map flip to transform\r\n  flip: function (direction, around) {\r\n    var directionString = typeof direction === 'string' ? direction\r\n      : isFinite(direction) ? 'both'\r\n      : 'both'\r\n    var origin = (direction === 'both' && isFinite(around)) ? [ around, around ]\r\n      : (direction === 'x') ? [ around, 0 ]\r\n      : (direction === 'y') ? [ 0, around ]\r\n      : isFinite(direction) ? [ direction, direction ]\r\n      : [ 0, 0 ]\r\n    return this.transform({ flip: directionString, origin: origin }, true)\r\n  },\r\n\r\n  // Opacity\r\n  opacity: function (value) {\r\n    return this.attr('opacity', value)\r\n  }\r\n})\r\n\r\nregisterMethods('radius', {\r\n  // Add x and y radius\r\n  radius: function (x, y) {\r\n    var type = (this._element || this).type\r\n    return type === 'radialGradient' || type === 'radialGradient'\r\n      ? this.attr('r', new SVGNumber(x))\r\n      : this.rx(x).ry(y == null ? x : y)\r\n  }\r\n})\r\n\r\nregisterMethods('Path', {\r\n  // Get path length\r\n  length: function () {\r\n    return this.node.getTotalLength()\r\n  },\r\n  // Get point at length\r\n  pointAt: function (length) {\r\n    return new Point(this.node.getPointAtLength(length))\r\n  }\r\n})\r\n\r\nregisterMethods([ 'Element', 'Runner' ], {\r\n  // Set font\r\n  font: function (a, v) {\r\n    if (typeof a === 'object') {\r\n      for (v in a) this.font(v, a[v])\r\n      return this\r\n    }\r\n\r\n    return a === 'leading'\r\n      ? this.leading(v)\r\n      : a === 'anchor'\r\n        ? this.attr('text-anchor', v)\r\n        : a === 'size' || a === 'family' || a === 'weight' || a === 'stretch' || a === 'variant' || a === 'style'\r\n          ? this.attr('font-' + a, v)\r\n          : this.attr(a, v)\r\n  }\r\n})\r\n\r\nregisterMethods('Text', {\r\n  ax (x) {\r\n    return this.attr('x', x)\r\n  },\r\n  ay (y) {\r\n    return this.attr('y', y)\r\n  },\r\n  amove (x, y) {\r\n    return this.ax(x).ay(y)\r\n  }\r\n})\r\n\r\n// Add events to elements\r\nconst methods = [ 'click',\r\n  'dblclick',\r\n  'mousedown',\r\n  'mouseup',\r\n  'mouseover',\r\n  'mouseout',\r\n  'mousemove',\r\n  'mouseenter',\r\n  'mouseleave',\r\n  'touchstart',\r\n  'touchmove',\r\n  'touchleave',\r\n  'touchend',\r\n  'touchcancel' ].reduce(function (last, event) {\r\n  // add event to Element\r\n  const fn = function (f) {\r\n    if (f === null) {\r\n      off(this, event)\r\n    } else {\r\n      on(this, event, f)\r\n    }\r\n    return this\r\n  }\r\n\r\n  last[event] = fn\r\n  return last\r\n}, {})\r\n\r\nregisterMethods('Element', methods)\r\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import SVGNumber from '../../types/SVGNumber.js'\r\n\r\n// Radius x value\r\nexport function rx (rx) {\r\n  return this.attr('rx', rx)\r\n}\r\n\r\n// Radius y value\r\nexport function ry (ry) {\r\n  return this.attr('ry', ry)\r\n}\r\n\r\n// Move over x-axis\r\nexport function x (x) {\r\n  return x == null\r\n    ? this.cx() - this.rx()\r\n    : this.cx(x + this.rx())\r\n}\r\n\r\n// Move over y-axis\r\nexport function y (y) {\r\n  return y == null\r\n    ? this.cy() - this.ry()\r\n    : this.cy(y + this.ry())\r\n}\r\n\r\n// Move by center over x-axis\r\nexport function cx (x) {\r\n  return x == null\r\n    ? this.attr('cx')\r\n    : this.attr('cx', x)\r\n}\r\n\r\n// Move by center over y-axis\r\nexport function cy (y) {\r\n  return y == null\r\n    ? this.attr('cy')\r\n    : this.attr('cy', y)\r\n}\r\n\r\n// Set width of element\r\nexport function width (width) {\r\n  return width == null\r\n    ? this.rx() * 2\r\n    : this.rx(new SVGNumber(width).divide(2))\r\n}\r\n\r\n// Set height of element\r\nexport function height (height) {\r\n  return height == null\r\n    ? this.ry() * 2\r\n    : this.ry(new SVGNumber(height).divide(2))\r\n}\r\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","import { getOrigin } from '../../utils/utils.js'\r\nimport { delimiter, transforms } from '../core/regex.js'\r\nimport { registerMethods } from '../../utils/methods.js'\r\nimport Matrix from '../../types/Matrix.js'\r\n\r\n// Reset all transformations\r\nexport function untransform () {\r\n  return this.attr('transform', null)\r\n}\r\n\r\n// merge the whole transformation chain into one matrix and returns it\r\nexport function matrixify () {\r\n  var matrix = (this.attr('transform') || '')\r\n    // split transformations\r\n    .split(transforms).slice(0, -1).map(function (str) {\r\n      // generate key => value pairs\r\n      var kv = str.trim().split('(')\r\n      return [ kv[0],\r\n        kv[1].split(delimiter)\r\n          .map(function (str) {\r\n            return parseFloat(str)\r\n          })\r\n      ]\r\n    })\r\n    .reverse()\r\n    // merge every transformation into one matrix\r\n    .reduce(function (matrix, transform) {\r\n      if (transform[0] === 'matrix') {\r\n        return matrix.lmultiply(Matrix.fromArray(transform[1]))\r\n      }\r\n      return matrix[transform[0]].apply(matrix, transform[1])\r\n    }, new Matrix())\r\n\r\n  return matrix\r\n}\r\n\r\n// add an element to another parent without changing the visual representation on the screen\r\nexport function toParent (parent) {\r\n  if (this === parent) return this\r\n  var ctm = this.screenCTM()\r\n  var pCtm = parent.screenCTM().inverse()\r\n\r\n  this.addTo(parent).untransform().transform(pCtm.multiply(ctm))\r\n\r\n  return this\r\n}\r\n\r\n// same as above with parent equals root-svg\r\nexport function toRoot () {\r\n  return this.toParent(this.root())\r\n}\r\n\r\n// Add transformations\r\nexport function transform (o, relative) {\r\n  // Act as a getter if no object was passed\r\n  if (o == null || typeof o === 'string') {\r\n    var decomposed = new Matrix(this).decompose()\r\n    return o == null ? decomposed : decomposed[o]\r\n  }\r\n\r\n  if (!Matrix.isMatrixLike(o)) {\r\n    // Set the origin according to the defined transform\r\n    o = { ...o, origin: getOrigin(o, this) }\r\n  }\r\n\r\n  // The user can pass a boolean, an Element or an Matrix or nothing\r\n  var cleanRelative = relative === true ? this : (relative || false)\r\n  var result = new Matrix(cleanRelative).transform(o)\r\n  return this.attr('transform', result)\r\n}\r\n\r\nregisterMethods('Element', {\r\n  untransform, matrixify, toParent, toRoot, transform\r\n})\r\n","import { register } from '../utils/adopter.js'\r\nimport Element from './Element.js'\r\n\r\nexport default class Shape extends Element {}\r\n\r\nregister(Shape, 'Shape')\r\n","import { cx, cy, height, width, x, y } from '../modules/core/circled.js'\r\nimport {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\nimport Shape from './Shape.js'\r\n\r\nexport default class Circle extends Shape {\r\n  constructor (node) {\r\n    super(nodeOrNew('circle', node), node)\r\n  }\r\n\r\n  radius (r) {\r\n    return this.attr('r', r)\r\n  }\r\n\r\n  // Radius x value\r\n  rx (rx) {\r\n    return this.attr('r', rx)\r\n  }\r\n\r\n  // Alias radius x value\r\n  ry (ry) {\r\n    return this.rx(ry)\r\n  }\r\n\r\n  size (size) {\r\n    return this.radius(new SVGNumber(size).divide(2))\r\n  }\r\n}\r\n\r\nextend(Circle, { x, y, cx, cy, width, height })\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create circle element\r\n    circle: wrapWithAttrCheck(function (size) {\r\n      return this.put(new Circle())\r\n        .size(size)\r\n        .move(0, 0)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Circle, 'Circle')\r\n","import { register } from '../utils/adopter.js'\r\nimport Element from './Element.js'\r\n\r\nexport default class Container extends Element {\r\n  flatten (parent) {\r\n    this.each(function () {\r\n      if (this instanceof Container) return this.flatten(parent).ungroup(parent)\r\n      return this.toParent(parent)\r\n    })\r\n\r\n    // we need this so that the root does not get removed\r\n    this.node.firstElementChild || this.remove()\r\n\r\n    return this\r\n  }\r\n\r\n  ungroup (parent) {\r\n    parent = parent || this.parent()\r\n\r\n    this.each(function () {\r\n      return this.toParent(parent)\r\n    })\r\n\r\n    this.remove()\r\n\r\n    return this\r\n  }\r\n}\r\n\r\nregister(Container, 'Container')\r\n","import { nodeOrNew, register } from '../utils/adopter.js'\r\nimport Container from './Container.js'\r\n\r\nexport default class Defs extends Container {\r\n  constructor (node) {\r\n    super(nodeOrNew('defs', node), node)\r\n  }\r\n\r\n  flatten () {\r\n    return this\r\n  }\n\r\n  ungroup () {\r\n    return this\r\n  }\r\n}\r\n\r\nregister(Defs, 'Defs')\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { proportionalSize } from '../utils/utils.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\nimport Shape from './Shape.js'\r\nimport * as circled from '../modules/core/circled.js'\r\n\r\nexport default class Ellipse extends Shape {\r\n  constructor (node) {\r\n    super(nodeOrNew('ellipse', node), node)\r\n  }\r\n\r\n  size (width, height) {\r\n    var p = proportionalSize(this, width, height)\r\n\r\n    return this\r\n      .rx(new SVGNumber(p.width).divide(2))\r\n      .ry(new SVGNumber(p.height).divide(2))\r\n  }\r\n}\r\n\r\nextend(Ellipse, circled)\r\n\r\nregisterMethods('Container', {\r\n  // Create an ellipse\r\n  ellipse: wrapWithAttrCheck(function (width = 0, height = width) {\r\n    return this.put(new Ellipse()).size(width, height).move(0, 0)\r\n  })\r\n})\r\n\r\nregister(Ellipse, 'Ellipse')\r\n","import { nodeOrNew, register } from '../utils/adopter.js'\r\nimport Element from './Element.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\n\r\nexport default class Stop extends Element {\r\n  constructor (node) {\r\n    super(nodeOrNew('stop', node), node)\r\n  }\r\n\r\n  // add color stops\r\n  update (o) {\r\n    if (typeof o === 'number' || o instanceof SVGNumber) {\r\n      o = {\r\n        offset: arguments[0],\r\n        color: arguments[1],\r\n        opacity: arguments[2]\r\n      }\r\n    }\r\n\r\n    // set attributes\r\n    if (o.opacity != null) this.attr('stop-opacity', o.opacity)\r\n    if (o.color != null) this.attr('stop-color', o.color)\r\n    if (o.offset != null) this.attr('offset', new SVGNumber(o.offset))\r\n\r\n    return this\r\n  }\r\n}\r\n\r\nregister(Stop, 'Stop')\r\n","import SVGNumber from '../../types/SVGNumber.js'\r\n\r\nexport function from (x, y) {\r\n  return (this._element || this).type === 'radialGradient'\r\n    ? this.attr({ fx: new SVGNumber(x), fy: new SVGNumber(y) })\r\n    : this.attr({ x1: new SVGNumber(x), y1: new SVGNumber(y) })\r\n}\r\n\r\nexport function to (x, y) {\r\n  return (this._element || this).type === 'radialGradient'\r\n    ? this.attr({ cx: new SVGNumber(x), cy: new SVGNumber(y) })\r\n    : this.attr({ x2: new SVGNumber(x), y2: new SVGNumber(y) })\r\n}\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Box from '../types/Box.js'\r\nimport Container from './Container.js'\r\nimport Stop from './Stop.js'\r\nimport baseFind from '../modules/core/selector.js'\r\nimport * as gradiented from '../modules/core/gradiented.js'\r\n\r\nexport default class Gradient extends Container {\r\n  constructor (type, attrs) {\r\n    super(\r\n      nodeOrNew(type + 'Gradient', typeof type === 'string' ? null : type),\r\n      attrs\r\n    )\r\n  }\r\n\r\n  // Add a color stop\r\n  stop (offset, color, opacity) {\r\n    return this.put(new Stop()).update(offset, color, opacity)\r\n  }\r\n\r\n  // Update gradient\r\n  update (block) {\r\n    // remove all stops\r\n    this.clear()\r\n\r\n    // invoke passed block\r\n    if (typeof block === 'function') {\r\n      block.call(this, this)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Return the fill id\r\n  url () {\r\n    return 'url(#' + this.id() + ')'\r\n  }\r\n\r\n  // Alias string convertion to fill\r\n  toString () {\r\n    return this.url()\r\n  }\r\n\r\n  // custom attr to handle transform\r\n  attr (a, b, c) {\r\n    if (a === 'transform') a = 'gradientTransform'\r\n    return super.attr(a, b, c)\r\n  }\r\n\r\n  targets () {\r\n    return baseFind('svg [fill*=\"' + this.id() + '\"]')\r\n  }\r\n\r\n  bbox () {\r\n    return new Box()\r\n  }\r\n}\r\n\r\nextend(Gradient, gradiented)\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create gradient element in defs\r\n    gradient: wrapWithAttrCheck(function (type, block) {\r\n      return this.defs().gradient(type, block)\r\n    })\r\n  },\r\n  // define gradient\r\n  Defs: {\r\n    gradient: wrapWithAttrCheck(function (type, block) {\r\n      return this.put(new Gradient(type)).update(block)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Gradient, 'Gradient')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Box from '../types/Box.js'\r\nimport Container from './Container.js'\r\nimport baseFind from '../modules/core/selector.js'\r\n\r\nexport default class Pattern extends Container {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('pattern', node), node)\r\n  }\r\n\r\n  // Return the fill id\r\n  url () {\r\n    return 'url(#' + this.id() + ')'\r\n  }\r\n\r\n  // Update pattern by rebuilding\r\n  update (block) {\r\n    // remove content\r\n    this.clear()\r\n\r\n    // invoke passed block\r\n    if (typeof block === 'function') {\r\n      block.call(this, this)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Alias string convertion to fill\r\n  toString () {\r\n    return this.url()\r\n  }\r\n\r\n  // custom attr to handle transform\r\n  attr (a, b, c) {\r\n    if (a === 'transform') a = 'patternTransform'\r\n    return super.attr(a, b, c)\r\n  }\r\n\r\n  targets () {\r\n    return baseFind('svg [fill*=\"' + this.id() + '\"]')\r\n  }\r\n\r\n  bbox () {\r\n    return new Box()\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create pattern element in defs\r\n    pattern (...args) {\r\n      return this.defs().pattern(...args)\r\n    }\r\n  },\r\n  Defs: {\r\n    pattern: wrapWithAttrCheck(function (width, height, block) {\r\n      return this.put(new Pattern()).update(block).attr({\r\n        x: 0,\r\n        y: 0,\r\n        width: width,\r\n        height: height,\r\n        patternUnits: 'userSpaceOnUse'\r\n      })\r\n    })\r\n  }\r\n})\r\n\r\nregister(Pattern, 'Pattern')\r\n","import { isImage } from '../modules/core/regex.js'\r\nimport { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { off, on } from '../modules/core/event.js'\r\nimport { registerAttrHook } from '../modules/core/attr.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { xlink } from '../modules/core/namespaces.js'\r\nimport Pattern from './Pattern.js'\r\nimport Shape from './Shape.js'\r\nimport { globals } from '../utils/window.js'\r\n\r\nexport default class Image extends Shape {\r\n  constructor (node) {\r\n    super(nodeOrNew('image', node), node)\r\n  }\r\n\r\n  // (re)load image\r\n  load (url, callback) {\r\n    if (!url) return this\r\n\r\n    var img = new globals.window.Image()\r\n\r\n    on(img, 'load', function (e) {\r\n      var p = this.parent(Pattern)\r\n\r\n      // ensure image size\r\n      if (this.width() === 0 && this.height() === 0) {\r\n        this.size(img.width, img.height)\r\n      }\r\n\r\n      if (p instanceof Pattern) {\r\n        // ensure pattern size if not set\r\n        if (p.width() === 0 && p.height() === 0) {\r\n          p.size(this.width(), this.height())\r\n        }\r\n      }\r\n\r\n      if (typeof callback === 'function') {\r\n        callback.call(this, e)\r\n      }\r\n    }, this)\r\n\r\n    on(img, 'load error', function () {\r\n      // dont forget to unbind memory leaking events\r\n      off(img)\r\n    })\r\n\r\n    return this.attr('href', (img.src = url), xlink)\r\n  }\r\n}\r\n\r\nregisterAttrHook(function (attr, val, _this) {\r\n  // convert image fill and stroke to patterns\r\n  if (attr === 'fill' || attr === 'stroke') {\r\n    if (isImage.test(val)) {\r\n      val = _this.root().defs().image(val)\r\n    }\r\n  }\r\n\r\n  if (val instanceof Image) {\r\n    val = _this.root().defs().pattern(0, 0, (pattern) => {\r\n      pattern.add(val)\r\n    })\r\n  }\r\n\r\n  return val\r\n})\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // create image element, load image and set its size\r\n    image: wrapWithAttrCheck(function (source, callback) {\r\n      return this.put(new Image()).size(0, 0).load(source, callback)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Image, 'Image')\r\n","import { delimiter } from '../modules/core/regex.js'\r\nimport { extend } from '../utils/adopter.js'\r\nimport { subClassArray } from './ArrayPolyfill.js'\r\nimport SVGArray from './SVGArray.js'\r\n\r\nconst PointArray = subClassArray('PointArray', SVGArray)\r\n\r\nexport default PointArray\r\n\r\nextend(PointArray, {\r\n  // Convert array to string\r\n  toString () {\r\n    // convert to a poly point string\r\n    for (var i = 0, il = this.length, array = []; i < il; i++) {\r\n      array.push(this[i].join(','))\r\n    }\r\n\r\n    return array.join(' ')\r\n  },\r\n\r\n  // Convert array to line object\r\n  toLine () {\r\n    return {\r\n      x1: this[0][0],\r\n      y1: this[0][1],\r\n      x2: this[1][0],\r\n      y2: this[1][1]\r\n    }\r\n  },\r\n\r\n  // Get morphed array at given position\r\n  at (pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    // generate morphed point string\r\n    for (var i = 0, il = this.length, array = []; i < il; i++) {\r\n      array.push([\r\n        this[i][0] + (this.destination[i][0] - this[i][0]) * pos,\r\n        this[i][1] + (this.destination[i][1] - this[i][1]) * pos\r\n      ])\r\n    }\r\n\r\n    return new PointArray(array)\r\n  },\r\n\r\n  // Parse point string and flat array\r\n  parse (array = [ [ 0, 0 ] ]) {\r\n    var points = []\r\n\r\n    // if it is an array\r\n    if (array instanceof Array) {\r\n      // and it is not flat, there is no need to parse it\r\n      if (array[0] instanceof Array) {\r\n        return array\r\n      }\r\n    } else { // Else, it is considered as a string\r\n      // parse points\r\n      array = array.trim().split(delimiter).map(parseFloat)\r\n    }\r\n\r\n    // validate points - https://svgwg.org/svg2-draft/shapes.html#DataTypePoints\r\n    // Odd number of coordinates is an error. In such cases, drop the last odd coordinate.\r\n    if (array.length % 2 !== 0) array.pop()\r\n\r\n    // wrap points in two-tuples\r\n    for (var i = 0, len = array.length; i < len; i = i + 2) {\r\n      points.push([ array[i], array[i + 1] ])\r\n    }\r\n\r\n    return points\r\n  },\r\n\r\n  // transform points with matrix (similar to Point.transform)\r\n  transform (m) {\r\n    const points = []\r\n\r\n    for (let i = 0; i < this.length; i++) {\r\n      const point = this[i]\r\n      // Perform the matrix multiplication\r\n      points.push([\r\n        m.a * point[0] + m.c * point[1] + m.e,\r\n        m.b * point[0] + m.d * point[1] + m.f\r\n      ])\r\n    }\r\n\r\n    // Return the required point\r\n    return new PointArray(points)\r\n  },\r\n\r\n  // Move point string\r\n  move (x, y) {\r\n    var box = this.bbox()\r\n\r\n    // get relative offset\r\n    x -= box.x\r\n    y -= box.y\r\n\r\n    // move every point\r\n    if (!isNaN(x) && !isNaN(y)) {\r\n      for (var i = this.length - 1; i >= 0; i--) {\r\n        this[i] = [ this[i][0] + x, this[i][1] + y ]\r\n      }\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n  // Resize poly string\r\n  size (width, height) {\r\n    var i\r\n    var box = this.bbox()\r\n\r\n    // recalculate position of all points according to new size\r\n    for (i = this.length - 1; i >= 0; i--) {\r\n      if (box.width) this[i][0] = ((this[i][0] - box.x) * width) / box.width + box.x\r\n      if (box.height) this[i][1] = ((this[i][1] - box.y) * height) / box.height + box.y\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n  // Get bounding box of points\r\n  bbox () {\r\n    var maxX = -Infinity\r\n    var maxY = -Infinity\r\n    var minX = Infinity\r\n    var minY = Infinity\r\n    this.forEach(function (el) {\r\n      maxX = Math.max(el[0], maxX)\r\n      maxY = Math.max(el[1], maxY)\r\n      minX = Math.min(el[0], minX)\r\n      minY = Math.min(el[1], minY)\r\n    })\r\n    return { x: minX, y: minY, width: maxX - minX, height: maxY - minY }\r\n  }\r\n})\r\n","import PointArray from '../../types/PointArray.js'\r\n\r\nexport const MorphArray = PointArray\r\n\r\n// Move by left top corner over x-axis\r\nexport function x (x) {\r\n  return x == null ? this.bbox().x : this.move(x, this.bbox().y)\r\n}\r\n\r\n// Move by left top corner over y-axis\r\nexport function y (y) {\r\n  return y == null ? this.bbox().y : this.move(this.bbox().x, y)\r\n}\r\n\r\n// Set width of element\r\nexport function width (width) {\r\n  const b = this.bbox()\r\n  return width == null ? b.width : this.size(width, b.height)\r\n}\r\n\r\n// Set height of element\r\nexport function height (height) {\r\n  const b = this.bbox()\r\n  return height == null ? b.height : this.size(b.width, height)\r\n}\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { proportionalSize } from '../utils/utils.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport PointArray from '../types/PointArray.js'\r\nimport Shape from './Shape.js'\r\nimport * as pointed from '../modules/core/pointed.js'\r\n\r\nexport default class Line extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('line', node), node)\r\n  }\r\n\r\n  // Get array\r\n  array () {\r\n    return new PointArray([\r\n      [ this.attr('x1'), this.attr('y1') ],\r\n      [ this.attr('x2'), this.attr('y2') ]\r\n    ])\r\n  }\r\n\r\n  // Overwrite native plot() method\r\n  plot (x1, y1, x2, y2) {\r\n    if (x1 == null) {\r\n      return this.array()\r\n    } else if (typeof y1 !== 'undefined') {\r\n      x1 = { x1: x1, y1: y1, x2: x2, y2: y2 }\r\n    } else {\r\n      x1 = new PointArray(x1).toLine()\r\n    }\r\n\r\n    return this.attr(x1)\r\n  }\r\n\r\n  // Move by left top corner\r\n  move (x, y) {\r\n    return this.attr(this.array().move(x, y).toLine())\r\n  }\r\n\r\n  // Set element size to given width and height\r\n  size (width, height) {\r\n    var p = proportionalSize(this, width, height)\r\n    return this.attr(this.array().size(p.width, p.height).toLine())\r\n  }\r\n}\r\n\r\nextend(Line, pointed)\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a line element\r\n    line: wrapWithAttrCheck(function (...args) {\r\n      // make sure plot is called as a setter\r\n      // x1 is not necessarily a number, it can also be an array, a string and a PointArray\r\n      return Line.prototype.plot.apply(\r\n        this.put(new Line())\r\n        , args[0] != null ? args : [ 0, 0, 0, 0 ]\r\n      )\r\n    })\r\n  }\r\n})\r\n\r\nregister(Line, 'Line')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\n\r\nexport default class Marker extends Container {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('marker', node), node)\r\n  }\r\n\r\n  // Set width of element\r\n  width (width) {\r\n    return this.attr('markerWidth', width)\r\n  }\r\n\r\n  // Set height of element\r\n  height (height) {\r\n    return this.attr('markerHeight', height)\r\n  }\r\n\r\n  // Set marker refX and refY\r\n  ref (x, y) {\r\n    return this.attr('refX', x).attr('refY', y)\r\n  }\r\n\r\n  // Update marker\r\n  update (block) {\r\n    // remove all content\r\n    this.clear()\r\n\r\n    // invoke passed block\r\n    if (typeof block === 'function') {\r\n      block.call(this, this)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Return the fill id\r\n  toString () {\r\n    return 'url(#' + this.id() + ')'\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    marker (...args) {\r\n      // Create marker element in defs\r\n      return this.defs().marker(...args)\r\n    }\r\n  },\r\n  Defs: {\r\n    // Create marker\r\n    marker: wrapWithAttrCheck(function (width, height, block) {\r\n      // Set default viewbox to match the width and height, set ref to cx and cy and set orient to auto\r\n      return this.put(new Marker())\r\n        .size(width, height)\r\n        .ref(width / 2, height / 2)\r\n        .viewbox(0, 0, width, height)\r\n        .attr('orient', 'auto')\r\n        .update(block)\r\n    })\r\n  },\r\n  marker: {\r\n    // Create and attach markers\r\n    marker (marker, width, height, block) {\r\n      var attr = [ 'marker' ]\r\n\r\n      // Build attribute name\r\n      if (marker !== 'all') attr.push(marker)\r\n      attr = attr.join('-')\r\n\r\n      // Set marker attribute\r\n      marker = arguments[1] instanceof Marker\r\n        ? arguments[1]\r\n        : this.defs().marker(width, height, block)\r\n\r\n      return this.attr(attr, marker)\r\n    }\r\n  }\r\n})\r\n\r\nregister(Marker, 'Marker')\r\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeSort = [].sort;\nvar test = [1, 2, 3];\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar SLOPPY_METHOD = sloppyArrayMethod('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || SLOPPY_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import { timeline } from '../modules/core/defaults.js'\r\nimport { extend } from '../utils/adopter.js'\r\n\r\n/***\r\nBase Class\r\n==========\r\nThe base stepper class that will be\r\n***/\r\n\r\nfunction makeSetterGetter (k, f) {\r\n  return function (v) {\r\n    if (v == null) return this[v]\r\n    this[k] = v\r\n    if (f) f.call(this)\r\n    return this\r\n  }\r\n}\r\n\r\nexport const easing = {\r\n  '-': function (pos) {\r\n    return pos\r\n  },\r\n  '<>': function (pos) {\r\n    return -Math.cos(pos * Math.PI) / 2 + 0.5\r\n  },\r\n  '>': function (pos) {\r\n    return Math.sin(pos * Math.PI / 2)\r\n  },\r\n  '<': function (pos) {\r\n    return -Math.cos(pos * Math.PI / 2) + 1\r\n  },\r\n  bezier: function (x1, y1, x2, y2) {\r\n    // see https://www.w3.org/TR/css-easing-1/#cubic-bezier-algo\r\n    return function (t) {\r\n      if (t < 0) {\r\n        if (x1 > 0) {\r\n          return y1 / x1 * t\r\n        } else if (x2 > 0) {\r\n          return y2 / x2 * t\r\n        } else {\r\n          return 0\r\n        }\r\n      } else if (t > 1) {\r\n        if (x2 < 1) {\r\n          return (1 - y2) / (1 - x2) * t + (y2 - x2) / (1 - x2)\r\n        } else if (x1 < 1) {\r\n          return (1 - y1) / (1 - x1) * t + (y1 - x1) / (1 - x1)\r\n        } else {\r\n          return 1\r\n        }\r\n      } else {\r\n        return 3 * t * (1 - t) ** 2 * y1 + 3 * t ** 2 * (1 - t) * y2 + t ** 3\r\n      }\r\n    }\r\n  },\r\n  // see https://www.w3.org/TR/css-easing-1/#step-timing-function-algo\r\n  steps: function (steps, stepPosition = 'end') {\r\n    // deal with \"jump-\" prefix\r\n    stepPosition = stepPosition.split('-').reverse()[0]\r\n\r\n    let jumps = steps\r\n    if (stepPosition === 'none') {\r\n      --jumps\r\n    } else if (stepPosition === 'both') {\r\n      ++jumps\r\n    }\r\n\r\n    // The beforeFlag is essentially useless\r\n    return (t, beforeFlag = false) => {\r\n      // Step is called currentStep in referenced url\r\n      let step = Math.floor(t * steps)\r\n      const jumping = (t * step) % 1 === 0\r\n\r\n      if (stepPosition === 'start' || stepPosition === 'both') {\r\n        ++step\r\n      }\r\n\r\n      if (beforeFlag && jumping) {\r\n        --step\r\n      }\r\n\r\n      if (t >= 0 && step < 0) {\r\n        step = 0\r\n      }\r\n\r\n      if (t <= 1 && step > jumps) {\r\n        step = jumps\r\n      }\r\n\r\n      return step / jumps\r\n    }\r\n  }\r\n}\r\n\r\nexport class Stepper {\r\n  done () {\r\n    return false\r\n  }\r\n}\r\n\r\n/***\r\nEasing Functions\r\n================\r\n***/\r\n\r\nexport class Ease extends Stepper {\r\n  constructor (fn) {\r\n    super()\r\n    this.ease = easing[fn || timeline.ease] || fn\r\n  }\r\n\r\n  step (from, to, pos) {\r\n    if (typeof from !== 'number') {\r\n      return pos < 1 ? from : to\r\n    }\r\n    return from + (to - from) * this.ease(pos)\r\n  }\r\n}\r\n\r\n/***\r\nController Types\r\n================\r\n***/\r\n\r\nexport class Controller extends Stepper {\r\n  constructor (fn) {\r\n    super()\r\n    this.stepper = fn\r\n  }\r\n\r\n  step (current, target, dt, c) {\r\n    return this.stepper(current, target, dt, c)\r\n  }\r\n\r\n  done (c) {\r\n    return c.done\r\n  }\r\n}\r\n\r\nfunction recalculate () {\r\n  // Apply the default parameters\r\n  var duration = (this._duration || 500) / 1000\r\n  var overshoot = this._overshoot || 0\r\n\r\n  // Calculate the PID natural response\r\n  var eps = 1e-10\r\n  var pi = Math.PI\r\n  var os = Math.log(overshoot / 100 + eps)\r\n  var zeta = -os / Math.sqrt(pi * pi + os * os)\r\n  var wn = 3.9 / (zeta * duration)\r\n\r\n  // Calculate the Spring values\r\n  this.d = 2 * zeta * wn\r\n  this.k = wn * wn\r\n}\r\n\r\nexport class Spring extends Controller {\r\n  constructor (duration, overshoot) {\r\n    super()\r\n    this.duration(duration || 500)\r\n      .overshoot(overshoot || 0)\r\n  }\r\n\r\n  step (current, target, dt, c) {\r\n    if (typeof current === 'string') return current\r\n    c.done = dt === Infinity\r\n    if (dt === Infinity) return target\r\n    if (dt === 0) return current\r\n\r\n    if (dt > 100) dt = 16\r\n\r\n    dt /= 1000\r\n\r\n    // Get the previous velocity\r\n    var velocity = c.velocity || 0\r\n\r\n    // Apply the control to get the new position and store it\r\n    var acceleration = -this.d * velocity - this.k * (current - target)\r\n    var newPosition = current\r\n      + velocity * dt\r\n      + acceleration * dt * dt / 2\r\n\r\n    // Store the velocity\r\n    c.velocity = velocity + acceleration * dt\r\n\r\n    // Figure out if we have converged, and if so, pass the value\r\n    c.done = Math.abs(target - newPosition) + Math.abs(velocity) < 0.002\r\n    return c.done ? target : newPosition\r\n  }\r\n}\r\n\r\nextend(Spring, {\r\n  duration: makeSetterGetter('_duration', recalculate),\r\n  overshoot: makeSetterGetter('_overshoot', recalculate)\r\n})\r\n\r\nexport class PID extends Controller {\r\n  constructor (p, i, d, windup) {\r\n    super()\r\n\r\n    p = p == null ? 0.1 : p\r\n    i = i == null ? 0.01 : i\r\n    d = d == null ? 0 : d\r\n    windup = windup == null ? 1000 : windup\r\n    this.p(p).i(i).d(d).windup(windup)\r\n  }\r\n\r\n  step (current, target, dt, c) {\r\n    if (typeof current === 'string') return current\r\n    c.done = dt === Infinity\r\n\r\n    if (dt === Infinity) return target\r\n    if (dt === 0) return current\r\n\r\n    var p = target - current\r\n    var i = (c.integral || 0) + p * dt\r\n    var d = (p - (c.error || 0)) / dt\r\n    var windup = this.windup\r\n\r\n    // antiwindup\r\n    if (windup !== false) {\r\n      i = Math.max(-windup, Math.min(i, windup))\r\n    }\r\n\r\n    c.error = p\r\n    c.integral = i\r\n\r\n    c.done = Math.abs(p) < 0.001\r\n\r\n    return c.done ? target : current + (this.P * p + this.I * i + this.D * d)\r\n  }\r\n}\r\n\r\nextend(PID, {\r\n  windup: makeSetterGetter('windup'),\r\n  p: makeSetterGetter('P'),\r\n  i: makeSetterGetter('I'),\r\n  d: makeSetterGetter('D')\r\n})\r\n","import {\r\n  delimiter,\r\n  dots,\r\n  hyphen,\r\n  isPathLetter,\r\n  numbersWithDots,\r\n  pathLetters\r\n} from '../modules/core/regex.js'\r\nimport { extend } from '../utils/adopter.js'\r\nimport { subClassArray } from './ArrayPolyfill.js'\r\nimport Point from './Point.js'\r\nimport SVGArray from './SVGArray.js'\r\nimport parser from '../modules/core/parser.js'\r\n\r\nconst PathArray = subClassArray('PathArray', SVGArray)\r\n\r\nexport default PathArray\r\n\r\nexport function pathRegReplace (a, b, c, d) {\r\n  return c + d.replace(dots, ' .')\r\n}\r\n\r\nfunction arrayToString (a) {\r\n  for (var i = 0, il = a.length, s = ''; i < il; i++) {\r\n    s += a[i][0]\r\n\r\n    if (a[i][1] != null) {\r\n      s += a[i][1]\r\n\r\n      if (a[i][2] != null) {\r\n        s += ' '\r\n        s += a[i][2]\r\n\r\n        if (a[i][3] != null) {\r\n          s += ' '\r\n          s += a[i][3]\r\n          s += ' '\r\n          s += a[i][4]\r\n\r\n          if (a[i][5] != null) {\r\n            s += ' '\r\n            s += a[i][5]\r\n            s += ' '\r\n            s += a[i][6]\r\n\r\n            if (a[i][7] != null) {\r\n              s += ' '\r\n              s += a[i][7]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return s + ' '\r\n}\r\n\r\nconst pathHandlers = {\r\n  M: function (c, p, p0) {\r\n    p.x = p0.x = c[0]\r\n    p.y = p0.y = c[1]\r\n\r\n    return [ 'M', p.x, p.y ]\r\n  },\r\n  L: function (c, p) {\r\n    p.x = c[0]\r\n    p.y = c[1]\r\n    return [ 'L', c[0], c[1] ]\r\n  },\r\n  H: function (c, p) {\r\n    p.x = c[0]\r\n    return [ 'H', c[0] ]\r\n  },\r\n  V: function (c, p) {\r\n    p.y = c[0]\r\n    return [ 'V', c[0] ]\r\n  },\r\n  C: function (c, p) {\r\n    p.x = c[4]\r\n    p.y = c[5]\r\n    return [ 'C', c[0], c[1], c[2], c[3], c[4], c[5] ]\r\n  },\r\n  S: function (c, p) {\r\n    p.x = c[2]\r\n    p.y = c[3]\r\n    return [ 'S', c[0], c[1], c[2], c[3] ]\r\n  },\r\n  Q: function (c, p) {\r\n    p.x = c[2]\r\n    p.y = c[3]\r\n    return [ 'Q', c[0], c[1], c[2], c[3] ]\r\n  },\r\n  T: function (c, p) {\r\n    p.x = c[0]\r\n    p.y = c[1]\r\n    return [ 'T', c[0], c[1] ]\r\n  },\r\n  Z: function (c, p, p0) {\r\n    p.x = p0.x\r\n    p.y = p0.y\r\n    return [ 'Z' ]\r\n  },\r\n  A: function (c, p) {\r\n    p.x = c[5]\r\n    p.y = c[6]\r\n    return [ 'A', c[0], c[1], c[2], c[3], c[4], c[5], c[6] ]\r\n  }\r\n}\r\n\r\nconst mlhvqtcsaz = 'mlhvqtcsaz'.split('')\r\n\r\nfor (var i = 0, il = mlhvqtcsaz.length; i < il; ++i) {\r\n  pathHandlers[mlhvqtcsaz[i]] = (function (i) {\r\n    return function (c, p, p0) {\r\n      if (i === 'H') c[0] = c[0] + p.x\r\n      else if (i === 'V') c[0] = c[0] + p.y\r\n      else if (i === 'A') {\r\n        c[5] = c[5] + p.x\r\n        c[6] = c[6] + p.y\r\n      } else {\r\n        for (var j = 0, jl = c.length; j < jl; ++j) {\r\n          c[j] = c[j] + (j % 2 ? p.y : p.x)\r\n        }\r\n      }\r\n\r\n      return pathHandlers[i](c, p, p0)\r\n    }\r\n  })(mlhvqtcsaz[i].toUpperCase())\r\n}\r\n\r\nextend(PathArray, {\r\n  // Convert array to string\r\n  toString () {\r\n    return arrayToString(this)\r\n  },\r\n\r\n  // Move path string\r\n  move (x, y) {\r\n    // get bounding box of current situation\r\n    var box = this.bbox()\r\n\r\n    // get relative offset\r\n    x -= box.x\r\n    y -= box.y\r\n\r\n    if (!isNaN(x) && !isNaN(y)) {\r\n      // move every point\r\n      for (var l, i = this.length - 1; i >= 0; i--) {\r\n        l = this[i][0]\r\n\r\n        if (l === 'M' || l === 'L' || l === 'T') {\r\n          this[i][1] += x\r\n          this[i][2] += y\r\n        } else if (l === 'H') {\r\n          this[i][1] += x\r\n        } else if (l === 'V') {\r\n          this[i][1] += y\r\n        } else if (l === 'C' || l === 'S' || l === 'Q') {\r\n          this[i][1] += x\r\n          this[i][2] += y\r\n          this[i][3] += x\r\n          this[i][4] += y\r\n\r\n          if (l === 'C') {\r\n            this[i][5] += x\r\n            this[i][6] += y\r\n          }\r\n        } else if (l === 'A') {\r\n          this[i][6] += x\r\n          this[i][7] += y\r\n        }\r\n      }\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n  // Resize path string\r\n  size (width, height) {\r\n    // get bounding box of current situation\r\n    var box = this.bbox()\r\n    var i, l\r\n\r\n    // If the box width or height is 0 then we ignore\r\n    // transformations on the respective axis\r\n    box.width = box.width === 0 ? 1 : box.width\r\n    box.height = box.height === 0 ? 1 : box.height\r\n\r\n    // recalculate position of all points according to new size\r\n    for (i = this.length - 1; i >= 0; i--) {\r\n      l = this[i][0]\r\n\r\n      if (l === 'M' || l === 'L' || l === 'T') {\r\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\r\n        this[i][2] = ((this[i][2] - box.y) * height) / box.height + box.y\r\n      } else if (l === 'H') {\r\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\r\n      } else if (l === 'V') {\r\n        this[i][1] = ((this[i][1] - box.y) * height) / box.height + box.y\r\n      } else if (l === 'C' || l === 'S' || l === 'Q') {\r\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\r\n        this[i][2] = ((this[i][2] - box.y) * height) / box.height + box.y\r\n        this[i][3] = ((this[i][3] - box.x) * width) / box.width + box.x\r\n        this[i][4] = ((this[i][4] - box.y) * height) / box.height + box.y\r\n\r\n        if (l === 'C') {\r\n          this[i][5] = ((this[i][5] - box.x) * width) / box.width + box.x\r\n          this[i][6] = ((this[i][6] - box.y) * height) / box.height + box.y\r\n        }\r\n      } else if (l === 'A') {\r\n        // resize radii\r\n        this[i][1] = (this[i][1] * width) / box.width\r\n        this[i][2] = (this[i][2] * height) / box.height\r\n\r\n        // move position values\r\n        this[i][6] = ((this[i][6] - box.x) * width) / box.width + box.x\r\n        this[i][7] = ((this[i][7] - box.y) * height) / box.height + box.y\r\n      }\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n  // Test if the passed path array use the same path data commands as this path array\r\n  equalCommands (pathArray) {\r\n    var i, il, equalCommands\r\n\r\n    pathArray = new PathArray(pathArray)\r\n\r\n    equalCommands = this.length === pathArray.length\r\n    for (i = 0, il = this.length; equalCommands && i < il; i++) {\r\n      equalCommands = this[i][0] === pathArray[i][0]\r\n    }\r\n\r\n    return equalCommands\r\n  },\r\n\r\n  // Make path array morphable\r\n  morph (pathArray) {\r\n    pathArray = new PathArray(pathArray)\r\n\r\n    if (this.equalCommands(pathArray)) {\r\n      this.destination = pathArray\r\n    } else {\r\n      this.destination = null\r\n    }\r\n\r\n    return this\r\n  },\r\n\r\n  // Get morphed path array at given position\r\n  at (pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    var sourceArray = this\r\n    var destinationArray = this.destination.value\r\n    var array = []\r\n    var pathArray = new PathArray()\r\n    var i, il, j, jl\r\n\r\n    // Animate has specified in the SVG spec\r\n    // See: https://www.w3.org/TR/SVG11/paths.html#PathElement\r\n    for (i = 0, il = sourceArray.length; i < il; i++) {\r\n      array[i] = [ sourceArray[i][0] ]\r\n      for (j = 1, jl = sourceArray[i].length; j < jl; j++) {\r\n        array[i][j] = sourceArray[i][j] + (destinationArray[i][j] - sourceArray[i][j]) * pos\r\n      }\r\n      // For the two flags of the elliptical arc command, the SVG spec say:\r\n      // Flags and booleans are interpolated as fractions between zero and one, with any non-zero value considered to be a value of one/true\r\n      // Elliptical arc command as an array followed by corresponding indexes:\r\n      // ['A', rx, ry, x-axis-rotation, large-arc-flag, sweep-flag, x, y]\r\n      //   0    1   2        3                 4             5      6  7\r\n      if (array[i][0] === 'A') {\r\n        array[i][4] = +(array[i][4] !== 0)\r\n        array[i][5] = +(array[i][5] !== 0)\r\n      }\r\n    }\r\n\r\n    // Directly modify the value of a path array, this is done this way for performance\r\n    pathArray.value = array\r\n    return pathArray\r\n  },\r\n\r\n  // Absolutize and parse path to array\r\n  parse (array = [ [ 'M', 0, 0 ] ]) {\r\n    // if it's already a patharray, no need to parse it\r\n    if (array instanceof PathArray) return array\r\n\r\n    // prepare for parsing\r\n    var s\r\n    var paramCnt = { M: 2, L: 2, H: 1, V: 1, C: 6, S: 4, Q: 4, T: 2, A: 7, Z: 0 }\r\n\r\n    if (typeof array === 'string') {\r\n      array = array\r\n        .replace(numbersWithDots, pathRegReplace) // convert 45.123.123 to 45.123 .123\r\n        .replace(pathLetters, ' $& ') // put some room between letters and numbers\r\n        .replace(hyphen, '$1 -') // add space before hyphen\r\n        .trim() // trim\r\n        .split(delimiter) // split into array\r\n    } else {\r\n      array = array.reduce(function (prev, curr) {\r\n        return [].concat.call(prev, curr)\r\n      }, [])\r\n    }\r\n\r\n    // array now is an array containing all parts of a path e.g. ['M', '0', '0', 'L', '30', '30' ...]\r\n    var result = []\r\n    var p = new Point()\r\n    var p0 = new Point()\r\n    var index = 0\r\n    var len = array.length\r\n\r\n    do {\r\n      // Test if we have a path letter\r\n      if (isPathLetter.test(array[index])) {\r\n        s = array[index]\r\n        ++index\r\n        // If last letter was a move command and we got no new, it defaults to [L]ine\r\n      } else if (s === 'M') {\r\n        s = 'L'\r\n      } else if (s === 'm') {\r\n        s = 'l'\r\n      }\r\n\r\n      result.push(pathHandlers[s].call(null,\r\n        array.slice(index, (index = index + paramCnt[s.toUpperCase()])).map(parseFloat),\r\n        p, p0\r\n      )\r\n      )\r\n    } while (len > index)\r\n\r\n    return result\r\n  },\r\n\r\n  // Get bounding box of path\r\n  bbox () {\r\n    parser().path.setAttribute('d', this.toString())\r\n    return parser.nodes.path.getBBox()\r\n  }\r\n})\r\n","import { Ease } from './Controller.js'\r\nimport {\r\n  delimiter,\r\n  numberAndUnit,\r\n  pathLetters\r\n} from '../modules/core/regex.js'\r\nimport { extend } from '../utils/adopter.js'\r\nimport Color from '../types/Color.js'\r\nimport PathArray from '../types/PathArray.js'\r\nimport SVGArray from '../types/SVGArray.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\n\r\nexport default class Morphable {\r\n  constructor (stepper) {\r\n    this._stepper = stepper || new Ease('-')\r\n\r\n    this._from = null\r\n    this._to = null\r\n    this._type = null\r\n    this._context = null\r\n    this._morphObj = null\r\n  }\r\n\r\n  from (val) {\r\n    if (val == null) {\r\n      return this._from\r\n    }\r\n\r\n    this._from = this._set(val)\r\n    return this\r\n  }\r\n\r\n  to (val) {\r\n    if (val == null) {\r\n      return this._to\r\n    }\r\n\r\n    this._to = this._set(val)\r\n    return this\r\n  }\r\n\r\n  type (type) {\r\n    // getter\r\n    if (type == null) {\r\n      return this._type\r\n    }\r\n\r\n    // setter\r\n    this._type = type\r\n    return this\r\n  }\r\n\r\n  _set (value) {\r\n    if (!this._type) {\r\n      var type = typeof value\r\n\r\n      if (type === 'number') {\r\n        this.type(SVGNumber)\r\n      } else if (type === 'string') {\r\n        if (Color.isColor(value)) {\r\n          this.type(Color)\r\n        } else if (delimiter.test(value)) {\r\n          this.type(pathLetters.test(value)\r\n            ? PathArray\r\n            : SVGArray\r\n          )\r\n        } else if (numberAndUnit.test(value)) {\r\n          this.type(SVGNumber)\r\n        } else {\r\n          this.type(NonMorphable)\r\n        }\r\n      } else if (morphableTypes.indexOf(value.constructor) > -1) {\r\n        this.type(value.constructor)\r\n      } else if (Array.isArray(value)) {\r\n        this.type(SVGArray)\r\n      } else if (type === 'object') {\r\n        this.type(ObjectBag)\r\n      } else {\r\n        this.type(NonMorphable)\r\n      }\r\n    }\r\n\r\n    var result = (new this._type(value))\r\n    if (this._type === Color) {\r\n      result = this._to ? result[this._to[4]]()\r\n        : this._from ? result[this._from[4]]()\r\n        : result\r\n    }\r\n    result = result.toArray()\r\n\r\n    this._morphObj = this._morphObj || new this._type()\r\n    this._context = this._context\r\n      || Array.apply(null, Array(result.length))\r\n        .map(Object)\r\n        .map(function (o) {\r\n          o.done = true\r\n          return o\r\n        })\r\n    return result\r\n  }\r\n\r\n  stepper (stepper) {\r\n    if (stepper == null) return this._stepper\r\n    this._stepper = stepper\r\n    return this\r\n  }\r\n\r\n  done () {\r\n    var complete = this._context\r\n      .map(this._stepper.done)\r\n      .reduce(function (last, curr) {\r\n        return last && curr\r\n      }, true)\r\n    return complete\r\n  }\r\n\r\n  at (pos) {\r\n    var _this = this\r\n\r\n    return this._morphObj.fromArray(\r\n      this._from.map(function (i, index) {\r\n        return _this._stepper.step(i, _this._to[index], pos, _this._context[index], _this._context)\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\nexport class NonMorphable {\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (val) {\r\n    val = Array.isArray(val) ? val[0] : val\r\n    this.value = val\r\n    return this\r\n  }\r\n\r\n  valueOf () {\r\n    return this.value\r\n  }\r\n\r\n  toArray () {\r\n    return [ this.value ]\r\n  }\r\n}\r\n\r\nexport class TransformBag {\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (obj) {\r\n    if (Array.isArray(obj)) {\r\n      obj = {\r\n        scaleX: obj[0],\r\n        scaleY: obj[1],\r\n        shear: obj[2],\r\n        rotate: obj[3],\r\n        translateX: obj[4],\r\n        translateY: obj[5],\r\n        originX: obj[6],\r\n        originY: obj[7]\r\n      }\r\n    }\r\n\r\n    Object.assign(this, TransformBag.defaults, obj)\r\n    return this\r\n  }\r\n\r\n  toArray () {\r\n    var v = this\r\n\r\n    return [\r\n      v.scaleX,\r\n      v.scaleY,\r\n      v.shear,\r\n      v.rotate,\r\n      v.translateX,\r\n      v.translateY,\r\n      v.originX,\r\n      v.originY\r\n    ]\r\n  }\r\n}\r\n\r\nTransformBag.defaults = {\r\n  scaleX: 1,\r\n  scaleY: 1,\r\n  shear: 0,\r\n  rotate: 0,\r\n  translateX: 0,\r\n  translateY: 0,\r\n  originX: 0,\r\n  originY: 0\r\n}\r\n\r\nexport class ObjectBag {\r\n  constructor (...args) {\r\n    this.init(...args)\r\n  }\r\n\r\n  init (objOrArr) {\r\n    this.values = []\r\n\r\n    if (Array.isArray(objOrArr)) {\r\n      this.values = objOrArr\r\n      return\r\n    }\r\n\r\n    objOrArr = objOrArr || {}\r\n    var entries = []\r\n\r\n    for (const i in objOrArr) {\r\n      entries.push([ i, objOrArr[i] ])\r\n    }\r\n\r\n    entries.sort((a, b) => {\r\n      return a[0] - b[0]\r\n    })\r\n\r\n    this.values = entries.reduce((last, curr) => last.concat(curr), [])\r\n    return this\r\n  }\r\n\r\n  valueOf () {\r\n    var obj = {}\r\n    var arr = this.values\r\n\r\n    for (var i = 0, len = arr.length; i < len; i += 2) {\r\n      obj[arr[i]] = arr[i + 1]\r\n    }\r\n\r\n    return obj\r\n  }\r\n\r\n  toArray () {\r\n    return this.values\r\n  }\r\n}\r\n\r\nconst morphableTypes = [\r\n  NonMorphable,\r\n  TransformBag,\r\n  ObjectBag\r\n]\r\n\r\nexport function registerMorphableType (type = []) {\r\n  morphableTypes.push(...[].concat(type))\r\n}\r\n\r\nexport function makeMorphable () {\r\n  extend(morphableTypes, {\r\n    to (val) {\r\n      return new Morphable()\r\n        .type(this.constructor)\r\n        .from(this.valueOf())\r\n        .to(val)\r\n    },\r\n    fromArray (arr) {\r\n      this.init(arr)\r\n      return this\r\n    }\r\n  })\r\n}\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { proportionalSize } from '../utils/utils.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport PathArray from '../types/PathArray.js'\r\nimport Shape from './Shape.js'\r\nimport baseFind from '../modules/core/selector.js'\r\n\r\nexport default class Path extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('path', node), node)\r\n  }\r\n\r\n  // Get array\r\n  array () {\r\n    return this._array || (this._array = new PathArray(this.attr('d')))\r\n  }\r\n\r\n  // Plot new path\r\n  plot (d) {\r\n    return (d == null) ? this.array()\r\n      : this.clear().attr('d', typeof d === 'string' ? d : (this._array = new PathArray(d)))\r\n  }\r\n\r\n  // Clear array cache\r\n  clear () {\r\n    delete this._array\r\n    return this\r\n  }\r\n\r\n  // Move by left top corner\r\n  move (x, y) {\r\n    return this.attr('d', this.array().move(x, y))\r\n  }\r\n\r\n  // Move by left top corner over x-axis\r\n  x (x) {\r\n    return x == null ? this.bbox().x : this.move(x, this.bbox().y)\r\n  }\r\n\r\n  // Move by left top corner over y-axis\r\n  y (y) {\r\n    return y == null ? this.bbox().y : this.move(this.bbox().x, y)\r\n  }\r\n\r\n  // Set element size to given width and height\r\n  size (width, height) {\r\n    var p = proportionalSize(this, width, height)\r\n    return this.attr('d', this.array().size(p.width, p.height))\r\n  }\r\n\r\n  // Set width of element\r\n  width (width) {\r\n    return width == null ? this.bbox().width : this.size(width, this.bbox().height)\r\n  }\r\n\r\n  // Set height of element\r\n  height (height) {\r\n    return height == null ? this.bbox().height : this.size(this.bbox().width, height)\r\n  }\r\n\r\n  targets () {\r\n    return baseFind('svg textpath [href*=\"' + this.id() + '\"]')\r\n  }\r\n}\r\n\r\n// Define morphable array\r\nPath.prototype.MorphArray = PathArray\r\n\r\n// Add parent method\r\nregisterMethods({\r\n  Container: {\r\n    // Create a wrapped path element\r\n    path: wrapWithAttrCheck(function (d) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new Path()).plot(d || new PathArray())\r\n    })\r\n  }\r\n})\r\n\r\nregister(Path, 'Path')\r\n","import { proportionalSize } from '../../utils/utils.js'\r\nimport PointArray from '../../types/PointArray.js'\r\n\r\n// Get array\r\nexport function array () {\r\n  return this._array || (this._array = new PointArray(this.attr('points')))\r\n}\r\n\r\n// Plot new path\r\nexport function plot (p) {\r\n  return (p == null) ? this.array()\r\n    : this.clear().attr('points', typeof p === 'string' ? p\r\n    : (this._array = new PointArray(p)))\r\n}\r\n\r\n// Clear array cache\r\nexport function clear () {\r\n  delete this._array\r\n  return this\r\n}\r\n\r\n// Move by left top corner\r\nexport function move (x, y) {\r\n  return this.attr('points', this.array().move(x, y))\r\n}\r\n\r\n// Set element size to given width and height\r\nexport function size (width, height) {\r\n  const p = proportionalSize(this, width, height)\r\n  return this.attr('points', this.array().size(p.width, p.height))\r\n}\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport PointArray from '../types/PointArray.js'\r\nimport Shape from './Shape.js'\r\nimport * as pointed from '../modules/core/pointed.js'\r\nimport * as poly from '../modules/core/poly.js'\r\n\r\nexport default class Polygon extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('polygon', node), node)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a wrapped polygon element\r\n    polygon: wrapWithAttrCheck(function (p) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new Polygon()).plot(p || new PointArray())\r\n    })\r\n  }\r\n})\r\n\r\nextend(Polygon, pointed)\r\nextend(Polygon, poly)\r\nregister(Polygon, 'Polygon')\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport PointArray from '../types/PointArray.js'\r\nimport Shape from './Shape.js'\r\nimport * as pointed from '../modules/core/pointed.js'\r\nimport * as poly from '../modules/core/poly.js'\r\n\r\nexport default class Polyline extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('polyline', node), node)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a wrapped polygon element\r\n    polyline: wrapWithAttrCheck(function (p) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new Polyline()).plot(p || new PointArray())\r\n    })\r\n  }\r\n})\r\n\r\nextend(Polyline, pointed)\r\nextend(Polyline, poly)\r\nregister(Polyline, 'Polyline')\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { rx, ry } from '../modules/core/circled.js'\r\nimport Shape from './Shape.js'\r\n\r\nexport default class Rect extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('rect', node), node)\r\n  }\r\n}\r\n\r\nextend(Rect, { rx, ry })\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a rect element\r\n    rect: wrapWithAttrCheck(function (width, height) {\r\n      return this.put(new Rect()).size(width, height)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Rect, 'Rect')\r\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('splice') }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","export default class Queue {\r\n  constructor () {\r\n    this._first = null\r\n    this._last = null\r\n  }\r\n\r\n  push (value) {\r\n    // An item stores an id and the provided value\r\n    var item = value.next ? value : { value: value, next: null, prev: null }\r\n\r\n    // Deal with the queue being empty or populated\r\n    if (this._last) {\r\n      item.prev = this._last\r\n      this._last.next = item\r\n      this._last = item\r\n    } else {\r\n      this._last = item\r\n      this._first = item\r\n    }\r\n\r\n    // Return the current item\r\n    return item\r\n  }\r\n\r\n  shift () {\r\n    // Check if we have a value\r\n    var remove = this._first\r\n    if (!remove) return null\r\n\r\n    // If we do, remove it and relink things\r\n    this._first = remove.next\r\n    if (this._first) this._first.prev = null\r\n    this._last = this._first ? this._last : null\r\n    return remove.value\r\n  }\r\n\r\n  // Shows us the first item in the list\r\n  first () {\r\n    return this._first && this._first.value\r\n  }\r\n\r\n  // Shows us the last item in the list\r\n  last () {\r\n    return this._last && this._last.value\r\n  }\r\n\r\n  // Removes the item that was returned from the push\r\n  remove (item) {\r\n    // Relink the previous item\r\n    if (item.prev) item.prev.next = item.next\r\n    if (item.next) item.next.prev = item.prev\r\n    if (item === this._last) this._last = item.prev\r\n    if (item === this._first) this._first = item.next\r\n\r\n    // Invalidate item\r\n    item.prev = null\r\n    item.next = null\r\n  }\r\n}\r\n","import { globals } from '../utils/window.js'\r\nimport Queue from './Queue.js'\r\n\r\nconst Animator = {\r\n  nextDraw: null,\r\n  frames: new Queue(),\r\n  timeouts: new Queue(),\r\n  immediates: new Queue(),\r\n  timer: () => globals.window.performance || globals.window.Date,\r\n  transforms: [],\r\n\r\n  frame (fn) {\r\n    // Store the node\r\n    var node = Animator.frames.push({ run: fn })\r\n\r\n    // Request an animation frame if we don't have one\r\n    if (Animator.nextDraw === null) {\r\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\r\n    }\r\n\r\n    // Return the node so we can remove it easily\r\n    return node\r\n  },\r\n\r\n  timeout (fn, delay) {\r\n    delay = delay || 0\r\n\r\n    // Work out when the event should fire\r\n    var time = Animator.timer().now() + delay\r\n\r\n    // Add the timeout to the end of the queue\r\n    var node = Animator.timeouts.push({ run: fn, time: time })\r\n\r\n    // Request another animation frame if we need one\r\n    if (Animator.nextDraw === null) {\r\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\r\n    }\r\n\r\n    return node\r\n  },\r\n\r\n  immediate (fn) {\r\n    // Add the immediate fn to the end of the queue\r\n    var node = Animator.immediates.push(fn)\r\n    // Request another animation frame if we need one\r\n    if (Animator.nextDraw === null) {\r\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\r\n    }\r\n\r\n    return node\r\n  },\r\n\r\n  cancelFrame (node) {\r\n    node != null && Animator.frames.remove(node)\r\n  },\r\n\r\n  clearTimeout (node) {\r\n    node != null && Animator.timeouts.remove(node)\r\n  },\r\n\r\n  cancelImmediate (node) {\r\n    node != null && Animator.immediates.remove(node)\r\n  },\r\n\r\n  _draw (now) {\r\n    // Run all the timeouts we can run, if they are not ready yet, add them\r\n    // to the end of the queue immediately! (bad timeouts!!! [sarcasm])\r\n    var nextTimeout = null\r\n    var lastTimeout = Animator.timeouts.last()\r\n    while ((nextTimeout = Animator.timeouts.shift())) {\r\n      // Run the timeout if its time, or push it to the end\r\n      if (now >= nextTimeout.time) {\r\n        nextTimeout.run()\r\n      } else {\r\n        Animator.timeouts.push(nextTimeout)\r\n      }\r\n\r\n      // If we hit the last item, we should stop shifting out more items\r\n      if (nextTimeout === lastTimeout) break\r\n    }\r\n\r\n    // Run all of the animation frames\r\n    var nextFrame = null\r\n    var lastFrame = Animator.frames.last()\r\n    while ((nextFrame !== lastFrame) && (nextFrame = Animator.frames.shift())) {\r\n      nextFrame.run(now)\r\n    }\r\n\r\n    var nextImmediate = null\r\n    while ((nextImmediate = Animator.immediates.shift())) {\r\n      nextImmediate()\r\n    }\r\n\r\n    // If we have remaining timeouts or frames, draw until we don't anymore\r\n    Animator.nextDraw = Animator.timeouts.first() || Animator.frames.first()\r\n      ? globals.window.requestAnimationFrame(Animator._draw)\r\n      : null\r\n  }\r\n}\r\n\r\nexport default Animator\r\n","import { globals } from '../utils/window.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Animator from './Animator.js'\r\nimport EventTarget from '../types/EventTarget.js'\r\n\r\nvar makeSchedule = function (runnerInfo) {\r\n  var start = runnerInfo.start\r\n  var duration = runnerInfo.runner.duration()\r\n  var end = start + duration\r\n  return { start: start, duration: duration, end: end, runner: runnerInfo.runner }\r\n}\r\n\r\nconst defaultSource = function () {\r\n  const w = globals.window\r\n  return (w.performance || w.Date).now()\r\n}\r\n\r\nexport default class Timeline extends EventTarget {\r\n  // Construct a new timeline on the given element\r\n  constructor (timeSource = defaultSource) {\r\n    super()\r\n\r\n    this._timeSource = timeSource\r\n\r\n    // Store the timing variables\r\n    this._startTime = 0\r\n    this._speed = 1.0\r\n\r\n    // Determines how long a runner is hold in memory. Can be a dt or true/false\r\n    this._persist = 0\r\n\r\n    // Keep track of the running animations and their starting parameters\r\n    this._nextFrame = null\r\n    this._paused = true\r\n    this._runners = []\r\n    this._runnerIds = []\r\n    this._lastRunnerId = -1\r\n    this._time = 0\r\n    this._lastSourceTime = 0\r\n    this._lastStepTime = 0\r\n\r\n    // Make sure that step is always called in class context\r\n    this._step = this._stepFn.bind(this, false)\r\n    this._stepImmediate = this._stepFn.bind(this, true)\r\n  }\r\n\r\n  // schedules a runner on the timeline\r\n  schedule (runner, delay, when) {\r\n    if (runner == null) {\r\n      return this._runners.map(makeSchedule)\r\n    }\r\n\r\n    // The start time for the next animation can either be given explicitly,\r\n    // derived from the current timeline time or it can be relative to the\r\n    // last start time to chain animations direclty\r\n\r\n    var absoluteStartTime = 0\r\n    var endTime = this.getEndTime()\r\n    delay = delay || 0\r\n\r\n    // Work out when to start the animation\r\n    if (when == null || when === 'last' || when === 'after') {\r\n      // Take the last time and increment\r\n      absoluteStartTime = endTime\r\n    } else if (when === 'absolute' || when === 'start') {\r\n      absoluteStartTime = delay\r\n      delay = 0\r\n    } else if (when === 'now') {\r\n      absoluteStartTime = this._time\r\n    } else if (when === 'relative') {\r\n      const runnerInfo = this._runners[runner.id]\r\n      if (runnerInfo) {\r\n        absoluteStartTime = runnerInfo.start + delay\r\n        delay = 0\r\n      }\r\n    } else {\r\n      throw new Error('Invalid value for the \"when\" parameter')\r\n    }\r\n\r\n    // Manage runner\r\n    runner.unschedule()\r\n    runner.timeline(this)\r\n\r\n    const persist = runner.persist()\r\n    const runnerInfo = {\r\n      persist: persist === null ? this._persist : persist,\r\n      start: absoluteStartTime + delay,\r\n      runner\r\n    }\r\n\r\n    this._lastRunnerId = runner.id\r\n\r\n    this._runners.push(runnerInfo)\r\n    this._runners.sort((a, b) => a.start - b.start)\r\n    this._runnerIds = this._runners.map(info => info.runner.id)\r\n\r\n    this.updateTime()._continue()\r\n    return this\r\n  }\r\n\r\n  // Remove the runner from this timeline\r\n  unschedule (runner) {\r\n    var index = this._runnerIds.indexOf(runner.id)\r\n    if (index < 0) return this\r\n\r\n    this._runners.splice(index, 1)\r\n    this._runnerIds.splice(index, 1)\r\n\r\n    runner.timeline(null)\r\n    return this\r\n  }\r\n\r\n  // Calculates the end of the timeline\r\n  getEndTime () {\r\n    var lastRunnerInfo = this._runners[this._runnerIds.indexOf(this._lastRunnerId)]\r\n    var lastDuration = lastRunnerInfo ? lastRunnerInfo.runner.duration() : 0\r\n    var lastStartTime = lastRunnerInfo ? lastRunnerInfo.start : 0\r\n    return lastStartTime + lastDuration\r\n  }\r\n\r\n  getEndTimeOfTimeline () {\r\n    let lastEndTime = 0\r\n    for (var i = 0; i < this._runners.length; i++) {\r\n      const runnerInfo = this._runners[i]\r\n      var duration = runnerInfo ? runnerInfo.runner.duration() : 0\r\n      var startTime = runnerInfo ? runnerInfo.start : 0\r\n      const endTime = startTime + duration\r\n      if (endTime > lastEndTime) {\r\n        lastEndTime = endTime\r\n      }\r\n    }\r\n    return lastEndTime\r\n  }\r\n\r\n  // Makes sure, that after pausing the time doesn't jump\r\n  updateTime () {\r\n    if (!this.active()) {\r\n      this._lastSourceTime = this._timeSource()\r\n    }\r\n    return this\r\n  }\r\n\r\n  play () {\r\n    // Now make sure we are not paused and continue the animation\r\n    this._paused = false\r\n    return this.updateTime()._continue()\r\n  }\r\n\r\n  pause () {\r\n    this._paused = true\r\n    return this._continue()\r\n  }\r\n\r\n  stop () {\r\n    // Go to start and pause\r\n    this.time(0)\r\n    return this.pause()\r\n  }\r\n\r\n  finish () {\r\n    // Go to end and pause\r\n    this.time(this.getEndTimeOfTimeline() + 1)\r\n    return this.pause()\r\n  }\r\n\r\n  speed (speed) {\r\n    if (speed == null) return this._speed\r\n    this._speed = speed\r\n    return this\r\n  }\r\n\r\n  reverse (yes) {\r\n    var currentSpeed = this.speed()\r\n    if (yes == null) return this.speed(-currentSpeed)\r\n\r\n    var positive = Math.abs(currentSpeed)\r\n    return this.speed(yes ? positive : -positive)\r\n  }\r\n\r\n  seek (dt) {\r\n    return this.time(this._time + dt)\r\n  }\r\n\r\n  time (time) {\r\n    if (time == null) return this._time\r\n    this._time = time\r\n    return this._continue(true)\r\n  }\r\n\r\n  persist (dtOrForever) {\r\n    if (dtOrForever == null) return this._persist\r\n    this._persist = dtOrForever\r\n    return this\r\n  }\r\n\r\n  source (fn) {\r\n    if (fn == null) return this._timeSource\r\n    this._timeSource = fn\r\n    return this\r\n  }\r\n\r\n  _stepFn (immediateStep = false) {\r\n    // Get the time delta from the last time and update the time\r\n    var time = this._timeSource()\r\n    var dtSource = time - this._lastSourceTime\r\n\r\n    if (immediateStep) dtSource = 0\r\n\r\n    var dtTime = this._speed * dtSource + (this._time - this._lastStepTime)\r\n    this._lastSourceTime = time\r\n\r\n    // Only update the time if we use the timeSource.\r\n    // Otherwise use the current time\r\n    if (!immediateStep) {\r\n      // Update the time\r\n      this._time += dtTime\r\n      this._time = this._time < 0 ? 0 : this._time\r\n    }\r\n    this._lastStepTime = this._time\r\n    this.fire('time', this._time)\r\n\r\n    // This is for the case that the timeline was seeked so that the time\r\n    // is now before the startTime of the runner. Thats why we need to set\r\n    // the runner to position 0\r\n\r\n    // FIXME:\r\n    // However, reseting in insertion order leads to bugs. Considering the case,\r\n    // where 2 runners change the same attriute but in different times,\r\n    // reseting both of them will lead to the case where the later defined\r\n    // runner always wins the reset even if the other runner started earlier\r\n    // and therefore should win the attribute battle\r\n    // this can be solved by reseting them backwards\r\n    for (var k = this._runners.length; k--;) {\r\n      // Get and run the current runner and ignore it if its inactive\r\n      const runnerInfo = this._runners[k]\r\n      const runner = runnerInfo.runner\r\n\r\n      // Make sure that we give the actual difference\r\n      // between runner start time and now\r\n      const dtToStart = this._time - runnerInfo.start\r\n\r\n      // Dont run runner if not started yet\r\n      // and try to reset it\r\n      if (dtToStart <= 0) {\r\n        runner.reset()\r\n      }\r\n    }\r\n\r\n    // Run all of the runners directly\r\n    var runnersLeft = false\r\n    for (var i = 0, len = this._runners.length; i < len; i++) {\r\n      // Get and run the current runner and ignore it if its inactive\r\n      const runnerInfo = this._runners[i]\r\n      const runner = runnerInfo.runner\r\n      let dt = dtTime\r\n\r\n      // Make sure that we give the actual difference\r\n      // between runner start time and now\r\n      const dtToStart = this._time - runnerInfo.start\r\n\r\n      // Dont run runner if not started yet\r\n      if (dtToStart <= 0) {\r\n        runnersLeft = true\r\n        continue\r\n      } else if (dtToStart < dt) {\r\n        // Adjust dt to make sure that animation is on point\r\n        dt = dtToStart\r\n      }\r\n\r\n      if (!runner.active()) continue\r\n\r\n      // If this runner is still going, signal that we need another animation\r\n      // frame, otherwise, remove the completed runner\r\n      var finished = runner.step(dt).done\r\n      if (!finished) {\r\n        runnersLeft = true\r\n        // continue\r\n      } else if (runnerInfo.persist !== true) {\r\n        // runner is finished. And runner might get removed\r\n        var endTime = runner.duration() - runner.time() + this._time\r\n\r\n        if (endTime + runnerInfo.persist < this._time) {\r\n          // Delete runner and correct index\r\n          runner.unschedule()\r\n          --i\r\n          --len\r\n        }\r\n      }\r\n    }\r\n\r\n    // Basically: we continue when there are runners right from us in time\r\n    // when -->, and when runners are left from us when <--\r\n    if ((runnersLeft && !(this._speed < 0 && this._time === 0)) || (this._runnerIds.length && this._speed < 0 && this._time > 0)) {\r\n      this._continue()\r\n    } else {\r\n      this.pause()\r\n      this.fire('finished')\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Checks if we are running and continues the animation\r\n  _continue (immediateStep = false) {\r\n    Animator.cancelFrame(this._nextFrame)\r\n    this._nextFrame = null\r\n\r\n    if (immediateStep) return this._stepImmediate()\r\n    if (this._paused) return this\r\n\r\n    this._nextFrame = Animator.frame(this._step)\r\n    return this\r\n  }\r\n\r\n  active () {\r\n    return !!this._nextFrame\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Element: {\r\n    timeline: function (timeline) {\r\n      if (timeline == null) {\r\n        this._timeline = (this._timeline || new Timeline())\r\n        return this._timeline\r\n      } else {\r\n        this._timeline = timeline\r\n        return this\r\n      }\r\n    }\r\n  }\r\n})\r\n","import { Controller, Ease, Stepper } from './Controller.js'\r\nimport { extend, register } from '../utils/adopter.js'\r\nimport { from, to } from '../modules/core/gradiented.js'\r\nimport { getOrigin } from '../utils/utils.js'\r\nimport { noop, timeline } from '../modules/core/defaults.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { rx, ry } from '../modules/core/circled.js'\r\nimport Animator from './Animator.js'\r\nimport Box from '../types/Box.js'\r\nimport EventTarget from '../types/EventTarget.js'\r\nimport Matrix from '../types/Matrix.js'\r\nimport Morphable, { TransformBag } from './Morphable.js'\r\nimport Point from '../types/Point.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\nimport Timeline from './Timeline.js'\r\n\r\nexport default class Runner extends EventTarget {\r\n  constructor (options) {\r\n    super()\r\n\r\n    // Store a unique id on the runner, so that we can identify it later\r\n    this.id = Runner.id++\r\n\r\n    // Ensure a default value\r\n    options = options == null\r\n      ? timeline.duration\r\n      : options\r\n\r\n    // Ensure that we get a controller\r\n    options = typeof options === 'function'\r\n      ? new Controller(options)\r\n      : options\r\n\r\n    // Declare all of the variables\r\n    this._element = null\r\n    this._timeline = null\r\n    this.done = false\r\n    this._queue = []\r\n\r\n    // Work out the stepper and the duration\r\n    this._duration = typeof options === 'number' && options\r\n    this._isDeclarative = options instanceof Controller\r\n    this._stepper = this._isDeclarative ? options : new Ease()\r\n\r\n    // We copy the current values from the timeline because they can change\r\n    this._history = {}\r\n\r\n    // Store the state of the runner\r\n    this.enabled = true\r\n    this._time = 0\r\n    this._lastTime = 0\r\n\r\n    // At creation, the runner is in reseted state\r\n    this._reseted = true\r\n\r\n    // Save transforms applied to this runner\r\n    this.transforms = new Matrix()\r\n    this.transformId = 1\r\n\r\n    // Looping variables\r\n    this._haveReversed = false\r\n    this._reverse = false\r\n    this._loopsDone = 0\r\n    this._swing = false\r\n    this._wait = 0\r\n    this._times = 1\r\n\r\n    this._frameId = null\r\n\r\n    // Stores how long a runner is stored after beeing done\r\n    this._persist = this._isDeclarative ? true : null\r\n  }\r\n\r\n  /*\r\n  Runner Definitions\r\n  ==================\r\n  These methods help us define the runtime behaviour of the Runner or they\r\n  help us make new runners from the current runner\r\n  */\r\n\r\n  element (element) {\r\n    if (element == null) return this._element\r\n    this._element = element\r\n    element._prepareRunner()\r\n    return this\r\n  }\r\n\r\n  timeline (timeline) {\r\n    // check explicitly for undefined so we can set the timeline to null\r\n    if (typeof timeline === 'undefined') return this._timeline\r\n    this._timeline = timeline\r\n    return this\r\n  }\r\n\r\n  animate (duration, delay, when) {\r\n    var o = Runner.sanitise(duration, delay, when)\r\n    var runner = new Runner(o.duration)\r\n    if (this._timeline) runner.timeline(this._timeline)\r\n    if (this._element) runner.element(this._element)\r\n    return runner.loop(o).schedule(o.delay, o.when)\r\n  }\r\n\r\n  schedule (timeline, delay, when) {\r\n    // The user doesn't need to pass a timeline if we already have one\r\n    if (!(timeline instanceof Timeline)) {\r\n      when = delay\r\n      delay = timeline\r\n      timeline = this.timeline()\r\n    }\r\n\r\n    // If there is no timeline, yell at the user...\r\n    if (!timeline) {\r\n      throw Error('Runner cannot be scheduled without timeline')\r\n    }\r\n\r\n    // Schedule the runner on the timeline provided\r\n    timeline.schedule(this, delay, when)\r\n    return this\r\n  }\r\n\r\n  unschedule () {\r\n    var timeline = this.timeline()\r\n    timeline && timeline.unschedule(this)\r\n    return this\r\n  }\r\n\r\n  loop (times, swing, wait) {\r\n    // Deal with the user passing in an object\r\n    if (typeof times === 'object') {\r\n      swing = times.swing\r\n      wait = times.wait\r\n      times = times.times\r\n    }\r\n\r\n    // Sanitise the values and store them\r\n    this._times = times || Infinity\r\n    this._swing = swing || false\r\n    this._wait = wait || 0\r\n\r\n    // Allow true to be passed\r\n    if (this._times === true) { this._times = Infinity }\r\n\r\n    return this\r\n  }\r\n\r\n  delay (delay) {\r\n    return this.animate(0, delay)\r\n  }\r\n\r\n  /*\r\n  Basic Functionality\r\n  ===================\r\n  These methods allow us to attach basic functions to the runner directly\r\n  */\r\n\r\n  queue (initFn, runFn, retargetFn, isTransform) {\r\n    this._queue.push({\r\n      initialiser: initFn || noop,\r\n      runner: runFn || noop,\r\n      retarget: retargetFn,\r\n      isTransform: isTransform,\r\n      initialised: false,\r\n      finished: false\r\n    })\r\n    var timeline = this.timeline()\r\n    timeline && this.timeline()._continue()\r\n    return this\r\n  }\r\n\r\n  during (fn) {\r\n    return this.queue(null, fn)\r\n  }\r\n\r\n  after (fn) {\r\n    return this.on('finished', fn)\r\n  }\r\n\r\n  /*\r\n  Runner animation methods\r\n  ========================\r\n  Control how the animation plays\r\n  */\r\n\r\n  time (time) {\r\n    if (time == null) {\r\n      return this._time\r\n    }\r\n    const dt = time - this._time\r\n    this.step(dt)\r\n    return this\r\n  }\r\n\r\n  duration () {\r\n    return this._times * (this._wait + this._duration) - this._wait\r\n  }\r\n\r\n  loops (p) {\r\n    var loopDuration = this._duration + this._wait\r\n    if (p == null) {\r\n      var loopsDone = Math.floor(this._time / loopDuration)\r\n      var relativeTime = (this._time - loopsDone * loopDuration)\r\n      var position = relativeTime / this._duration\r\n      return Math.min(loopsDone + position, this._times)\r\n    }\r\n    var whole = Math.floor(p)\r\n    var partial = p % 1\r\n    var time = loopDuration * whole + this._duration * partial\r\n    return this.time(time)\r\n  }\r\n\r\n  persist (dtOrForever) {\r\n    if (dtOrForever == null) return this._persist\r\n    this._persist = dtOrForever\r\n    return this\r\n  }\r\n\r\n  position (p) {\r\n    // Get all of the variables we need\r\n    var x = this._time\r\n    var d = this._duration\r\n    var w = this._wait\r\n    var t = this._times\r\n    var s = this._swing\r\n    var r = this._reverse\r\n    var position\r\n\r\n    if (p == null) {\r\n      /*\r\n      This function converts a time to a position in the range [0, 1]\r\n      The full explanation can be found in this desmos demonstration\r\n        https://www.desmos.com/calculator/u4fbavgche\r\n      The logic is slightly simplified here because we can use booleans\r\n      */\r\n\r\n      // Figure out the value without thinking about the start or end time\r\n      const f = function (x) {\r\n        var swinging = s * Math.floor(x % (2 * (w + d)) / (w + d))\r\n        var backwards = (swinging && !r) || (!swinging && r)\r\n        var uncliped = Math.pow(-1, backwards) * (x % (w + d)) / d + backwards\r\n        var clipped = Math.max(Math.min(uncliped, 1), 0)\r\n        return clipped\r\n      }\r\n\r\n      // Figure out the value by incorporating the start time\r\n      var endTime = t * (w + d) - w\r\n      position = x <= 0 ? Math.round(f(1e-5))\r\n        : x < endTime ? f(x)\r\n        : Math.round(f(endTime - 1e-5))\r\n      return position\r\n    }\r\n\r\n    // Work out the loops done and add the position to the loops done\r\n    var loopsDone = Math.floor(this.loops())\r\n    var swingForward = s && (loopsDone % 2 === 0)\r\n    var forwards = (swingForward && !r) || (r && swingForward)\r\n    position = loopsDone + (forwards ? p : 1 - p)\r\n    return this.loops(position)\r\n  }\r\n\r\n  progress (p) {\r\n    if (p == null) {\r\n      return Math.min(1, this._time / this.duration())\r\n    }\r\n    return this.time(p * this.duration())\r\n  }\r\n\r\n  step (dt) {\r\n    // If we are inactive, this stepper just gets skipped\r\n    if (!this.enabled) return this\r\n\r\n    // Update the time and get the new position\r\n    dt = dt == null ? 16 : dt\r\n    this._time += dt\r\n    var position = this.position()\r\n\r\n    // Figure out if we need to run the stepper in this frame\r\n    var running = this._lastPosition !== position && this._time >= 0\r\n    this._lastPosition = position\r\n\r\n    // Figure out if we just started\r\n    var duration = this.duration()\r\n    var justStarted = this._lastTime <= 0 && this._time > 0\r\n    var justFinished = this._lastTime < duration && this._time >= duration\r\n\r\n    this._lastTime = this._time\r\n    if (justStarted) {\r\n      this.fire('start', this)\r\n    }\r\n\r\n    // Work out if the runner is finished set the done flag here so animations\r\n    // know, that they are running in the last step (this is good for\r\n    // transformations which can be merged)\r\n    var declarative = this._isDeclarative\r\n    this.done = !declarative && !justFinished && this._time >= duration\r\n\r\n    // Runner is running. So its not in reseted state anymore\r\n    this._reseted = false\r\n\r\n    // Call initialise and the run function\r\n    if (running || declarative) {\r\n      this._initialise(running)\r\n\r\n      // clear the transforms on this runner so they dont get added again and again\r\n      this.transforms = new Matrix()\r\n      var converged = this._run(declarative ? dt : position)\r\n\r\n      this.fire('step', this)\r\n    }\r\n    // correct the done flag here\r\n    // declaritive animations itself know when they converged\r\n    this.done = this.done || (converged && declarative)\r\n    if (justFinished) {\r\n      this.fire('finished', this)\r\n    }\r\n    return this\r\n  }\r\n\r\n  reset () {\r\n    if (this._reseted) return this\r\n    this.time(0)\r\n    this._reseted = true\r\n    return this\r\n  }\r\n\r\n  finish () {\r\n    return this.step(Infinity)\r\n  }\r\n\r\n  reverse (reverse) {\r\n    this._reverse = reverse == null ? !this._reverse : reverse\r\n    return this\r\n  }\r\n\r\n  ease (fn) {\r\n    this._stepper = new Ease(fn)\r\n    return this\r\n  }\r\n\r\n  active (enabled) {\r\n    if (enabled == null) return this.enabled\r\n    this.enabled = enabled\r\n    return this\r\n  }\r\n\r\n  /*\r\n  Private Methods\r\n  ===============\r\n  Methods that shouldn't be used externally\r\n  */\r\n\r\n  // Save a morpher to the morpher list so that we can retarget it later\r\n  _rememberMorpher (method, morpher) {\r\n    this._history[method] = {\r\n      morpher: morpher,\r\n      caller: this._queue[this._queue.length - 1]\r\n    }\r\n\r\n    // We have to resume the timeline in case a controller\r\n    // is already done without beeing ever run\r\n    // This can happen when e.g. this is done:\r\n    //    anim = el.animate(new SVG.Spring)\r\n    // and later\r\n    //    anim.move(...)\r\n    if (this._isDeclarative) {\r\n      var timeline = this.timeline()\r\n      timeline && timeline.play()\r\n    }\r\n  }\r\n\r\n  // Try to set the target for a morpher if the morpher exists, otherwise\r\n  // do nothing and return false\r\n  _tryRetarget (method, target, extra) {\r\n    if (this._history[method]) {\r\n      // if the last method wasnt even initialised, throw it away\r\n      if (!this._history[method].caller.initialised) {\r\n        const index = this._queue.indexOf(this._history[method].caller)\r\n        this._queue.splice(index, 1)\r\n        return false\r\n      }\r\n\r\n      // for the case of transformations, we use the special retarget function\r\n      // which has access to the outer scope\r\n      if (this._history[method].caller.retarget) {\r\n        this._history[method].caller.retarget(target, extra)\r\n        // for everything else a simple morpher change is sufficient\r\n      } else {\r\n        this._history[method].morpher.to(target)\r\n      }\r\n\r\n      this._history[method].caller.finished = false\r\n      var timeline = this.timeline()\r\n      timeline && timeline.play()\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  // Run each initialise function in the runner if required\r\n  _initialise (running) {\r\n    // If we aren't running, we shouldn't initialise when not declarative\r\n    if (!running && !this._isDeclarative) return\r\n\r\n    // Loop through all of the initialisers\r\n    for (var i = 0, len = this._queue.length; i < len; ++i) {\r\n      // Get the current initialiser\r\n      var current = this._queue[i]\r\n\r\n      // Determine whether we need to initialise\r\n      var needsIt = this._isDeclarative || (!current.initialised && running)\r\n      running = !current.finished\r\n\r\n      // Call the initialiser if we need to\r\n      if (needsIt && running) {\r\n        current.initialiser.call(this)\r\n        current.initialised = true\r\n      }\r\n    }\r\n  }\r\n\r\n  // Run each run function for the position or dt given\r\n  _run (positionOrDt) {\r\n    // Run all of the _queue directly\r\n    var allfinished = true\r\n    for (var i = 0, len = this._queue.length; i < len; ++i) {\r\n      // Get the current function to run\r\n      var current = this._queue[i]\r\n\r\n      // Run the function if its not finished, we keep track of the finished\r\n      // flag for the sake of declarative _queue\r\n      var converged = current.runner.call(this, positionOrDt)\r\n      current.finished = current.finished || (converged === true)\r\n      allfinished = allfinished && current.finished\r\n    }\r\n\r\n    // We report when all of the constructors are finished\r\n    return allfinished\r\n  }\r\n\r\n  addTransform (transform, index) {\r\n    this.transforms.lmultiplyO(transform)\r\n    return this\r\n  }\r\n\r\n  clearTransform () {\r\n    this.transforms = new Matrix()\r\n    return this\r\n  }\r\n\r\n  // TODO: Keep track of all transformations so that deletion is faster\r\n  clearTransformsFromQueue () {\r\n    if (!this.done || !this._timeline || !this._timeline._runnerIds.includes(this.id)) {\r\n      this._queue = this._queue.filter((item) => {\r\n        return !item.isTransform\r\n      })\r\n    }\r\n  }\r\n\r\n  static sanitise (duration, delay, when) {\r\n    // Initialise the default parameters\r\n    var times = 1\r\n    var swing = false\r\n    var wait = 0\r\n    duration = duration || timeline.duration\r\n    delay = delay || timeline.delay\r\n    when = when || 'last'\r\n\r\n    // If we have an object, unpack the values\r\n    if (typeof duration === 'object' && !(duration instanceof Stepper)) {\r\n      delay = duration.delay || delay\r\n      when = duration.when || when\r\n      swing = duration.swing || swing\r\n      times = duration.times || times\r\n      wait = duration.wait || wait\r\n      duration = duration.duration || timeline.duration\r\n    }\r\n\r\n    return {\r\n      duration: duration,\r\n      delay: delay,\r\n      swing: swing,\r\n      times: times,\r\n      wait: wait,\r\n      when: when\r\n    }\r\n  }\r\n}\r\n\r\nRunner.id = 0\r\n\r\nclass FakeRunner {\r\n  constructor (transforms = new Matrix(), id = -1, done = true) {\r\n    this.transforms = transforms\r\n    this.id = id\r\n    this.done = done\r\n  }\r\n\r\n  clearTransformsFromQueue () { }\r\n}\r\n\r\nextend([ Runner, FakeRunner ], {\r\n  mergeWith (runner) {\r\n    return new FakeRunner(\r\n      runner.transforms.lmultiply(this.transforms),\r\n      runner.id\r\n    )\r\n  }\r\n})\r\n\r\n// FakeRunner.emptyRunner = new FakeRunner()\r\n\r\nconst lmultiply = (last, curr) => last.lmultiplyO(curr)\r\nconst getRunnerTransform = (runner) => runner.transforms\r\n\r\nfunction mergeTransforms () {\r\n  // Find the matrix to apply to the element and apply it\r\n  const runners = this._transformationRunners.runners\r\n  const netTransform = runners\r\n    .map(getRunnerTransform)\r\n    .reduce(lmultiply, new Matrix())\r\n\r\n  this.transform(netTransform)\r\n\r\n  this._transformationRunners.merge()\r\n\r\n  if (this._transformationRunners.length() === 1) {\r\n    this._frameId = null\r\n  }\r\n}\r\n\r\nclass RunnerArray {\r\n  constructor () {\r\n    this.runners = []\r\n    this.ids = []\r\n  }\r\n\r\n  add (runner) {\r\n    if (this.runners.includes(runner)) return\r\n    const id = runner.id + 1\r\n\r\n    this.runners.push(runner)\r\n    this.ids.push(id)\r\n\r\n    return this\r\n  }\r\n\r\n  getByID (id) {\r\n    return this.runners[this.ids.indexOf(id + 1)]\r\n  }\r\n\r\n  remove (id) {\r\n    const index = this.ids.indexOf(id + 1)\r\n    this.ids.splice(index, 1)\r\n    this.runners.splice(index, 1)\r\n    return this\r\n  }\r\n\r\n  merge () {\r\n    let lastRunner = null\r\n    this.runners.forEach((runner, i) => {\r\n\r\n      const condition = lastRunner\r\n        && runner.done && lastRunner.done\r\n        // don't merge runner when persisted on timeline\r\n        && (!runner._timeline || !runner._timeline._runnerIds.includes(runner.id))\r\n        && (!lastRunner._timeline || !lastRunner._timeline._runnerIds.includes(lastRunner.id))\r\n\r\n      if (condition) {\r\n        // the +1 happens in the function\r\n        this.remove(runner.id)\r\n        this.edit(lastRunner.id, runner.mergeWith(lastRunner))\r\n      }\r\n\r\n      lastRunner = runner\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  edit (id, newRunner) {\r\n    const index = this.ids.indexOf(id + 1)\r\n    this.ids.splice(index, 1, id + 1)\r\n    this.runners.splice(index, 1, newRunner)\r\n    return this\r\n  }\r\n\r\n  length () {\r\n    return this.ids.length\r\n  }\r\n\r\n  clearBefore (id) {\r\n    const deleteCnt = this.ids.indexOf(id + 1) || 1\r\n    this.ids.splice(0, deleteCnt, 0)\r\n    this.runners.splice(0, deleteCnt, new FakeRunner())\r\n      .forEach((r) => r.clearTransformsFromQueue())\r\n    return this\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Element: {\r\n    animate (duration, delay, when) {\r\n      var o = Runner.sanitise(duration, delay, when)\r\n      var timeline = this.timeline()\r\n      return new Runner(o.duration)\r\n        .loop(o)\r\n        .element(this)\r\n        .timeline(timeline.play())\r\n        .schedule(o.delay, o.when)\r\n    },\r\n\r\n    delay (by, when) {\r\n      return this.animate(0, by, when)\r\n    },\r\n\r\n    // this function searches for all runners on the element and deletes the ones\r\n    // which run before the current one. This is because absolute transformations\r\n    // overwfrite anything anyway so there is no need to waste time computing\r\n    // other runners\r\n    _clearTransformRunnersBefore (currentRunner) {\r\n      this._transformationRunners.clearBefore(currentRunner.id)\r\n    },\r\n\r\n    _currentTransform (current) {\r\n      return this._transformationRunners.runners\r\n        // we need the equal sign here to make sure, that also transformations\r\n        // on the same runner which execute before the current transformation are\r\n        // taken into account\r\n        .filter((runner) => runner.id <= current.id)\r\n        .map(getRunnerTransform)\r\n        .reduce(lmultiply, new Matrix())\r\n    },\r\n\r\n    _addRunner (runner) {\r\n      this._transformationRunners.add(runner)\r\n\r\n      // Make sure that the runner merge is executed at the very end of\r\n      // all Animator functions. Thats why we use immediate here to execute\r\n      // the merge right after all frames are run\r\n      Animator.cancelImmediate(this._frameId)\r\n      this._frameId = Animator.immediate(mergeTransforms.bind(this))\r\n    },\r\n\r\n    _prepareRunner () {\r\n      if (this._frameId == null) {\r\n        this._transformationRunners = new RunnerArray()\r\n          .add(new FakeRunner(new Matrix(this)))\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nextend(Runner, {\r\n  attr (a, v) {\r\n    return this.styleAttr('attr', a, v)\r\n  },\r\n\r\n  // Add animatable styles\r\n  css (s, v) {\r\n    return this.styleAttr('css', s, v)\r\n  },\r\n\r\n  styleAttr (type, name, val) {\r\n    // apply attributes individually\r\n    if (typeof name === 'object') {\r\n      for (var key in name) {\r\n        this.styleAttr(type, key, name[key])\r\n      }\r\n      return this\r\n    }\r\n\r\n    var morpher = new Morphable(this._stepper).to(val)\r\n\r\n    this.queue(function () {\r\n      morpher = morpher.from(this.element()[type](name))\r\n    }, function (pos) {\r\n      this.element()[type](name, morpher.at(pos))\r\n      return morpher.done()\r\n    })\r\n\r\n    return this\r\n  },\r\n\r\n  zoom (level, point) {\r\n    if (this._tryRetarget('zoom', to, point)) return this\r\n\r\n    var morpher = new Morphable(this._stepper).to(new SVGNumber(level))\r\n\r\n    this.queue(function () {\r\n      morpher = morpher.from(this.element().zoom())\r\n    }, function (pos) {\r\n      this.element().zoom(morpher.at(pos), point)\r\n      return morpher.done()\r\n    }, function (newLevel, newPoint) {\r\n      point = newPoint\r\n      morpher.to(newLevel)\r\n    })\r\n\r\n    this._rememberMorpher('zoom', morpher)\r\n    return this\r\n  },\r\n\r\n  /**\r\n   ** absolute transformations\r\n   **/\r\n\r\n  //\r\n  // M v -----|-----(D M v = F v)------|----->  T v\r\n  //\r\n  // 1. define the final state (T) and decompose it (once)\r\n  //    t = [tx, ty, the, lam, sy, sx]\r\n  // 2. on every frame: pull the current state of all previous transforms\r\n  //    (M - m can change)\r\n  //   and then write this as m = [tx0, ty0, the0, lam0, sy0, sx0]\r\n  // 3. Find the interpolated matrix F(pos) = m + pos * (t - m)\r\n  //   - Note F(0) = M\r\n  //   - Note F(1) = T\r\n  // 4. Now you get the delta matrix as a result: D = F * inv(M)\r\n\r\n  transform (transforms, relative, affine) {\r\n    // If we have a declarative function, we should retarget it if possible\r\n    relative = transforms.relative || relative\r\n    if (this._isDeclarative && !relative && this._tryRetarget('transform', transforms)) {\r\n      return this\r\n    }\r\n\r\n    // Parse the parameters\r\n    var isMatrix = Matrix.isMatrixLike(transforms)\r\n    affine = transforms.affine != null\r\n      ? transforms.affine\r\n      : (affine != null ? affine : !isMatrix)\r\n\r\n    // Create a morepher and set its type\r\n    const morpher = new Morphable(this._stepper)\r\n      .type(affine ? TransformBag : Matrix)\r\n\r\n    let origin\r\n    let element\r\n    let current\r\n    let currentAngle\r\n    let startTransform\r\n\r\n    function setup () {\r\n      // make sure element and origin is defined\r\n      element = element || this.element()\r\n      origin = origin || getOrigin(transforms, element)\r\n\r\n      startTransform = new Matrix(relative ? undefined : element)\r\n\r\n      // add the runner to the element so it can merge transformations\r\n      element._addRunner(this)\r\n\r\n      // Deactivate all transforms that have run so far if we are absolute\r\n      if (!relative) {\r\n        element._clearTransformRunnersBefore(this)\r\n      }\r\n    }\r\n\r\n    function run (pos) {\r\n      // clear all other transforms before this in case something is saved\r\n      // on this runner. We are absolute. We dont need these!\r\n      if (!relative) this.clearTransform()\r\n\r\n      const { x, y } = new Point(origin).transform(element._currentTransform(this))\r\n\r\n      let target = new Matrix({ ...transforms, origin: [ x, y ] })\r\n      let start = this._isDeclarative && current\r\n        ? current\r\n        : startTransform\r\n\r\n      if (affine) {\r\n        target = target.decompose(x, y)\r\n        start = start.decompose(x, y)\r\n\r\n        // Get the current and target angle as it was set\r\n        const rTarget = target.rotate\r\n        const rCurrent = start.rotate\r\n\r\n        // Figure out the shortest path to rotate directly\r\n        const possibilities = [ rTarget - 360, rTarget, rTarget + 360 ]\r\n        const distances = possibilities.map(a => Math.abs(a - rCurrent))\r\n        const shortest = Math.min(...distances)\r\n        const index = distances.indexOf(shortest)\r\n        target.rotate = possibilities[index]\r\n      }\r\n\r\n      if (relative) {\r\n        // we have to be careful here not to overwrite the rotation\r\n        // with the rotate method of Matrix\r\n        if (!isMatrix) {\r\n          target.rotate = transforms.rotate || 0\r\n        }\r\n        if (this._isDeclarative && currentAngle) {\r\n          start.rotate = currentAngle\r\n        }\r\n      }\r\n\r\n      morpher.from(start)\r\n      morpher.to(target)\r\n\r\n      const affineParameters = morpher.at(pos)\r\n      currentAngle = affineParameters.rotate\r\n      current = new Matrix(affineParameters)\r\n\r\n      this.addTransform(current)\r\n      element._addRunner(this)\r\n      return morpher.done()\r\n    }\r\n\r\n    function retarget (newTransforms) {\r\n      // only get a new origin if it changed since the last call\r\n      if (\r\n        (newTransforms.origin || 'center').toString()\r\n        !== (transforms.origin || 'center').toString()\r\n      ) {\r\n        origin = getOrigin(transforms, element)\r\n      }\r\n\r\n      // overwrite the old transformations with the new ones\r\n      transforms = { ...newTransforms, origin }\r\n    }\r\n\r\n    this.queue(setup, run, retarget, true)\r\n    this._isDeclarative && this._rememberMorpher('transform', morpher)\r\n    return this\r\n  },\r\n\r\n  // Animatable x-axis\r\n  x (x, relative) {\r\n    return this._queueNumber('x', x)\r\n  },\r\n\r\n  // Animatable y-axis\r\n  y (y) {\r\n    return this._queueNumber('y', y)\r\n  },\r\n\r\n  dx (x = 0) {\r\n    return this._queueNumberDelta('x', x)\r\n  },\r\n\r\n  dy (y = 0) {\r\n    return this._queueNumberDelta('y', y)\r\n  },\r\n\r\n  dmove (x, y) {\r\n    return this.dx(x).dy(y)\r\n  },\r\n\r\n  _queueNumberDelta (method, to) {\r\n    to = new SVGNumber(to)\r\n\r\n    // Try to change the target if we have this method already registerd\r\n    if (this._tryRetarget(method, to)) return this\r\n\r\n    // Make a morpher and queue the animation\r\n    var morpher = new Morphable(this._stepper).to(to)\r\n    var from = null\r\n    this.queue(function () {\r\n      from = this.element()[method]()\r\n      morpher.from(from)\r\n      morpher.to(from + to)\r\n    }, function (pos) {\r\n      this.element()[method](morpher.at(pos))\r\n      return morpher.done()\r\n    }, function (newTo) {\r\n      morpher.to(from + new SVGNumber(newTo))\r\n    })\r\n\r\n    // Register the morpher so that if it is changed again, we can retarget it\r\n    this._rememberMorpher(method, morpher)\r\n    return this\r\n  },\r\n\r\n  _queueObject (method, to) {\r\n    // Try to change the target if we have this method already registerd\r\n    if (this._tryRetarget(method, to)) return this\r\n\r\n    // Make a morpher and queue the animation\r\n    var morpher = new Morphable(this._stepper).to(to)\r\n    this.queue(function () {\r\n      morpher.from(this.element()[method]())\r\n    }, function (pos) {\r\n      this.element()[method](morpher.at(pos))\r\n      return morpher.done()\r\n    })\r\n\r\n    // Register the morpher so that if it is changed again, we can retarget it\r\n    this._rememberMorpher(method, morpher)\r\n    return this\r\n  },\r\n\r\n  _queueNumber (method, value) {\r\n    return this._queueObject(method, new SVGNumber(value))\r\n  },\r\n\r\n  // Animatable center x-axis\r\n  cx (x) {\r\n    return this._queueNumber('cx', x)\r\n  },\r\n\r\n  // Animatable center y-axis\r\n  cy (y) {\r\n    return this._queueNumber('cy', y)\r\n  },\r\n\r\n  // Add animatable move\r\n  move (x, y) {\r\n    return this.x(x).y(y)\r\n  },\r\n\r\n  // Add animatable center\r\n  center (x, y) {\r\n    return this.cx(x).cy(y)\r\n  },\r\n\r\n  // Add animatable size\r\n  size (width, height) {\r\n    // animate bbox based size for all other elements\r\n    var box\r\n\r\n    if (!width || !height) {\r\n      box = this._element.bbox()\r\n    }\r\n\r\n    if (!width) {\r\n      width = box.width / box.height * height\r\n    }\r\n\r\n    if (!height) {\r\n      height = box.height / box.width * width\r\n    }\r\n\r\n    return this\r\n      .width(width)\r\n      .height(height)\r\n  },\r\n\r\n  // Add animatable width\r\n  width (width) {\r\n    return this._queueNumber('width', width)\r\n  },\r\n\r\n  // Add animatable height\r\n  height (height) {\r\n    return this._queueNumber('height', height)\r\n  },\r\n\r\n  // Add animatable plot\r\n  plot (a, b, c, d) {\r\n    // Lines can be plotted with 4 arguments\r\n    if (arguments.length === 4) {\r\n      return this.plot([ a, b, c, d ])\r\n    }\r\n\r\n    if (this._tryRetarget('plot', a)) return this\r\n\r\n    var morpher = new Morphable(this._stepper)\r\n      .type(this._element.MorphArray).to(a)\r\n\r\n    this.queue(function () {\r\n      morpher.from(this._element.array())\r\n    }, function (pos) {\r\n      this._element.plot(morpher.at(pos))\r\n      return morpher.done()\r\n    })\r\n\r\n    this._rememberMorpher('plot', morpher)\r\n    return this\r\n  },\r\n\r\n  // Add leading method\r\n  leading (value) {\r\n    return this._queueNumber('leading', value)\r\n  },\r\n\r\n  // Add animatable viewbox\r\n  viewbox (x, y, width, height) {\r\n    return this._queueObject('viewbox', new Box(x, y, width, height))\r\n  },\r\n\r\n  update (o) {\r\n    if (typeof o !== 'object') {\r\n      return this.update({\r\n        offset: arguments[0],\r\n        color: arguments[1],\r\n        opacity: arguments[2]\r\n      })\r\n    }\r\n\r\n    if (o.opacity != null) this.attr('stop-opacity', o.opacity)\r\n    if (o.color != null) this.attr('stop-color', o.color)\r\n    if (o.offset != null) this.attr('offset', o.offset)\r\n\r\n    return this\r\n  }\r\n})\r\n\r\nextend(Runner, { rx, ry, from, to })\r\nregister(Runner, 'Runner')\r\n","import {\r\n  adopt,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { ns, svgjs, xlink, xmlns } from '../modules/core/namespaces.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\nimport Defs from './Defs.js'\r\nimport { globals } from '../utils/window.js'\r\n\r\nexport default class Svg extends Container {\r\n  constructor (node) {\r\n    super(nodeOrNew('svg', node), node)\r\n    this.namespace()\r\n  }\r\n\r\n  isRoot () {\r\n    return !this.node.parentNode\r\n      || !(this.node.parentNode instanceof globals.window.SVGElement)\r\n      || this.node.parentNode.nodeName === '#document'\r\n  }\r\n\r\n  // Check if this is a root svg\r\n  // If not, call docs from this element\r\n  root () {\r\n    if (this.isRoot()) return this\r\n    return super.root()\r\n  }\r\n\r\n  // Add namespaces\r\n  namespace () {\r\n    if (!this.isRoot()) return this.root().namespace()\r\n    return this\r\n      .attr({ xmlns: ns, version: '1.1' })\r\n      .attr('xmlns:xlink', xlink, xmlns)\r\n      .attr('xmlns:svgjs', svgjs, xmlns)\r\n  }\r\n\r\n  // Creates and returns defs element\r\n  defs () {\r\n    if (!this.isRoot()) return this.root().defs()\r\n\r\n    return adopt(this.node.querySelector('defs'))\r\n      || this.put(new Defs())\r\n  }\r\n\r\n  // custom parent method\r\n  parent (type) {\r\n    if (this.isRoot()) {\r\n      return this.node.parentNode.nodeName === '#document'\r\n        ? null\r\n        : adopt(this.node.parentNode)\r\n    }\r\n\r\n    return super.parent(type)\r\n  }\r\n\r\n  clear () {\r\n    // remove children\r\n    while (this.node.hasChildNodes()) {\r\n      this.node.removeChild(this.node.lastChild)\r\n    }\r\n\r\n    // remove defs reference\r\n    delete this._defs\r\n\r\n    return this\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create nested svg document\r\n    nested: wrapWithAttrCheck(function () {\r\n      return this.put(new Svg())\r\n    })\r\n  }\r\n})\r\n\r\nregister(Svg, 'Svg', true)\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\n\r\nexport default class Symbol extends Container {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('symbol', node), node)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    symbol: wrapWithAttrCheck(function () {\r\n      return this.put(new Symbol())\r\n    })\r\n  }\r\n})\r\n\r\nregister(Symbol, 'Symbol')\r\n","import { globals } from '../../utils/window.js'\r\n\r\n// Create plain text node\r\nexport function plain (text) {\r\n  // clear if build mode is disabled\r\n  if (this._build === false) {\r\n    this.clear()\r\n  }\r\n\r\n  // create text node\r\n  this.node.appendChild(globals.document.createTextNode(text))\r\n\r\n  return this\r\n}\r\n\r\n// Get length of text element\r\nexport function length () {\r\n  return this.node.getComputedTextLength()\r\n}\r\n","import {\r\n  adopt,\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\nimport Shape from './Shape.js'\r\nimport { globals } from '../utils/window.js'\r\nimport * as textable from '../modules/core/textable.js'\r\n\r\nexport default class Text extends Shape {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('text', node), node)\r\n\r\n    this.dom.leading = new SVGNumber(1.3) // store leading value for rebuilding\r\n    this._rebuild = true // enable automatic updating of dy values\r\n    this._build = false // disable build mode for adding multiple lines\r\n  }\r\n\r\n  // Move over x-axis\r\n  // Text is moved its bounding box\r\n  // text-anchor does NOT matter\r\n  x (x, box = this.bbox()) {\r\n    if (x == null) {\r\n      return box.x\r\n    }\r\n\r\n    return this.attr('x', this.attr('x') + x - box.x)\r\n  }\r\n\r\n  // Move over y-axis\r\n  y (y, box = this.bbox()) {\r\n    if (y == null) {\r\n      return box.y\r\n    }\r\n\r\n    return this.attr('y', this.attr('y') + y - box.y)\r\n  }\r\n\r\n  move (x, y, box = this.bbox()) {\r\n    return this.x(x, box).y(y, box)\r\n  }\r\n\r\n  // Move center over x-axis\r\n  cx (x, box = this.bbox()) {\r\n    if (x == null) {\r\n      return box.cx\r\n    }\r\n\r\n    return this.attr('x', this.attr('x') + x - box.cx)\r\n  }\r\n\r\n  // Move center over y-axis\r\n  cy (y, box = this.bbox()) {\r\n    if (y == null) {\r\n      return box.cy\r\n    }\r\n\r\n    return this.attr('y', this.attr('y') + y - box.cy)\r\n  }\r\n\r\n  center (x, y, box = this.bbox()) {\r\n    return this.cx(x, box).cy(y, box)\r\n  }\r\n\r\n  // Set the text content\r\n  text (text) {\r\n    // act as getter\r\n    if (text === undefined) {\r\n      var children = this.node.childNodes\r\n      var firstLine = 0\r\n      text = ''\r\n\r\n      for (var i = 0, len = children.length; i < len; ++i) {\r\n        // skip textPaths - they are no lines\r\n        if (children[i].nodeName === 'textPath') {\r\n          if (i === 0) firstLine = 1\r\n          continue\r\n        }\r\n\r\n        // add newline if its not the first child and newLined is set to true\r\n        if (i !== firstLine && children[i].nodeType !== 3 && adopt(children[i]).dom.newLined === true) {\r\n          text += '\\n'\r\n        }\r\n\r\n        // add content of this node\r\n        text += children[i].textContent\r\n      }\r\n\r\n      return text\r\n    }\r\n\r\n    // remove existing content\r\n    this.clear().build(true)\r\n\r\n    if (typeof text === 'function') {\r\n      // call block\r\n      text.call(this, this)\r\n    } else {\r\n      // store text and make sure text is not blank\r\n      text = text.split('\\n')\r\n\r\n      // build new lines\r\n      for (var j = 0, jl = text.length; j < jl; j++) {\r\n        this.tspan(text[j]).newLine()\r\n      }\r\n    }\r\n\r\n    // disable build mode and rebuild lines\r\n    return this.build(false).rebuild()\r\n  }\r\n\r\n  // Set / get leading\r\n  leading (value) {\r\n    // act as getter\r\n    if (value == null) {\r\n      return this.dom.leading\r\n    }\r\n\r\n    // act as setter\r\n    this.dom.leading = new SVGNumber(value)\r\n\r\n    return this.rebuild()\r\n  }\r\n\r\n  // Rebuild appearance type\r\n  rebuild (rebuild) {\r\n    // store new rebuild flag if given\r\n    if (typeof rebuild === 'boolean') {\r\n      this._rebuild = rebuild\r\n    }\r\n\r\n    // define position of all lines\r\n    if (this._rebuild) {\r\n      var self = this\r\n      var blankLineOffset = 0\r\n      var leading = this.dom.leading\r\n\r\n      this.each(function () {\r\n        var fontSize = globals.window.getComputedStyle(this.node)\r\n          .getPropertyValue('font-size')\r\n        var dy = leading * new SVGNumber(fontSize)\r\n\r\n        if (this.dom.newLined) {\r\n          this.attr('x', self.attr('x'))\r\n\r\n          if (this.text() === '\\n') {\r\n            blankLineOffset += dy\r\n          } else {\r\n            this.attr('dy', dy + blankLineOffset)\r\n            blankLineOffset = 0\r\n          }\r\n        }\r\n      })\r\n\r\n      this.fire('rebuild')\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  // Enable / disable build mode\r\n  build (build) {\r\n    this._build = !!build\r\n    return this\r\n  }\r\n\r\n  // overwrite method from parent to set data properly\r\n  setData (o) {\r\n    this.dom = o\r\n    this.dom.leading = new SVGNumber(o.leading || 1.3)\r\n    return this\r\n  }\r\n}\r\n\r\nextend(Text, textable)\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create text element\r\n    text: wrapWithAttrCheck(function (text) {\r\n      return this.put(new Text()).text(text)\r\n    }),\r\n\r\n    // Create plain text element\r\n    plain: wrapWithAttrCheck(function (text) {\r\n      return this.put(new Text()).plain(text)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Text, 'Text')\r\n","import {\r\n  extend,\r\n  nodeOrNew,\r\n  register,\r\n  wrapWithAttrCheck\r\n} from '../utils/adopter.js'\r\nimport { globals } from '../utils/window.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport SVGNumber from '../types/SVGNumber.js'\r\nimport Text from './Text.js'\r\nimport * as textable from '../modules/core/textable.js'\r\n\r\nexport default class Tspan extends Text {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('tspan', node), node)\r\n  }\r\n\r\n  // Set text content\r\n  text (text) {\r\n    if (text == null) return this.node.textContent + (this.dom.newLined ? '\\n' : '')\r\n\r\n    typeof text === 'function' ? text.call(this, this) : this.plain(text)\r\n\r\n    return this\r\n  }\r\n\r\n  // Shortcut dx\r\n  dx (dx) {\r\n    return this.attr('dx', dx)\r\n  }\r\n\r\n  // Shortcut dy\r\n  dy (dy) {\r\n    return this.attr('dy', dy)\r\n  }\r\n\r\n  x (x) {\r\n    return this.attr('x', x)\r\n  }\r\n\r\n  y (y) {\r\n    return this.attr('x', y)\r\n  }\r\n\r\n  move (x, y) {\r\n    return this.x(x).y(y)\r\n  }\r\n\r\n  // Create new line\r\n  newLine () {\r\n    // fetch text parent\r\n    var t = this.parent(Text)\r\n\r\n    // mark new line\r\n    this.dom.newLined = true\r\n\r\n    var fontSize = globals.window.getComputedStyle(this.node)\r\n      .getPropertyValue('font-size')\r\n    var dy = t.dom.leading * new SVGNumber(fontSize)\r\n\r\n    // apply new position\r\n    return this.dy(dy).attr('x', t.x())\r\n  }\r\n}\r\n\r\nextend(Tspan, textable)\r\n\r\nregisterMethods({\r\n  Tspan: {\r\n    tspan: wrapWithAttrCheck(function (text) {\r\n      var tspan = new Tspan()\r\n\r\n      // clear if build mode is disabled\r\n      if (!this._build) {\r\n        this.clear()\r\n      }\r\n\r\n      // add new tspan\r\n      this.node.appendChild(tspan.node)\r\n\r\n      return tspan.text(text)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Tspan, 'Tspan')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\nimport baseFind from '../modules/core/selector.js'\r\n\r\nexport default class ClipPath extends Container {\r\n  constructor (node) {\r\n    super(nodeOrNew('clipPath', node), node)\r\n  }\r\n\r\n  // Unclip all clipped elements and remove itself\r\n  remove () {\r\n    // unclip all targets\r\n    this.targets().forEach(function (el) {\r\n      el.unclip()\r\n    })\r\n\r\n    // remove clipPath from parent\r\n    return super.remove()\r\n  }\r\n\r\n  targets () {\r\n    return baseFind('svg [clip-path*=\"' + this.id() + '\"]')\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create clipping element\r\n    clip: wrapWithAttrCheck(function () {\r\n      return this.defs().put(new ClipPath())\r\n    })\r\n  },\r\n  Element: {\r\n    // Distribute clipPath to svg element\r\n    clipWith (element) {\r\n      // use given clip or create a new one\r\n      const clipper = element instanceof ClipPath\r\n        ? element\r\n        : this.parent().clip().add(element)\r\n\r\n      // apply mask\r\n      return this.attr('clip-path', 'url(\"#' + clipper.id() + '\")')\r\n    },\r\n\r\n    // Unclip element\r\n    unclip () {\r\n      return this.attr('clip-path', null)\r\n    },\r\n\r\n    clipper () {\r\n      return this.reference('clip-path')\r\n    }\r\n  }\r\n})\r\n\r\nregister(ClipPath, 'ClipPath')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Element from './Element.js'\r\n\r\nexport default class ForeignObject extends Element {\r\n  constructor (node) {\r\n    super(nodeOrNew('foreignObject', node), node)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    foreignObject: wrapWithAttrCheck(function (width, height) {\r\n      return this.put(new ForeignObject()).size(width, height)\r\n    })\r\n  }\r\n})\r\n\r\nregister(ForeignObject, 'ForeignObject')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { proportionalSize } from '../utils/utils.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\nimport Matrix from '../types/Matrix.js'\r\nimport Point from '../types/Point.js'\r\n\r\nexport default class G extends Container {\r\n  constructor (node) {\r\n    super(nodeOrNew('g', node), node)\r\n  }\r\n\r\n  x (x, box = this.bbox()) {\r\n    if (x == null) return box.x\r\n    return this.move(x, box.y, box)\r\n  }\r\n\r\n  y (y, box = this.bbox()) {\r\n    if (y == null) return box.y\r\n    return this.move(box.x, y, box)\r\n  }\r\n\r\n  move (x = 0, y = 0, box = this.bbox()) {\r\n    const dx = x - box.x\r\n    const dy = y - box.y\r\n\r\n    return this.dmove(dx, dy)\r\n  }\r\n\r\n  dx (dx) {\r\n    return this.dmove(dx, 0)\r\n  }\r\n\r\n  dy (dy) {\r\n    return this.dmove(0, dy)\r\n  }\r\n\r\n  dmove (dx, dy) {\r\n    this.children().forEach((child, i) => {\r\n      // Get the childs bbox\r\n      const bbox = child.bbox()\r\n      // Get childs matrix\r\n      const m = new Matrix(child)\r\n      // Translate childs matrix by amount and\r\n      // transform it back into parents space\r\n      const matrix = m.translate(dx, dy).transform(m.inverse())\r\n      // Calculate new x and y from old box\r\n      const p = new Point(bbox.x, bbox.y).transform(matrix)\r\n      // Move element\r\n      child.move(p.x, p.y)\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  width (width, box = this.bbox()) {\r\n    if (width == null) return box.width\r\n    return this.size(width, box.height, box)\r\n  }\r\n\r\n  height (height, box = this.bbox()) {\r\n    if (height == null) return box.height\r\n    return this.size(box.width, height, box)\r\n  }\r\n\r\n  size (width, height, box = this.bbox()) {\r\n    const p = proportionalSize(this, width, height, box)\r\n    const scaleX = p.width / box.width\r\n    const scaleY = p.height / box.height\r\n\r\n    this.children().forEach((child, i) => {\r\n      const o = new Point(box).transform(new Matrix(child).inverse())\r\n      child.scale(scaleX, scaleY, o.x, o.y)\r\n    })\r\n\r\n    return this\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a group element\r\n    group: wrapWithAttrCheck(function () {\r\n      return this.put(new G())\r\n    })\r\n  }\r\n})\r\n\r\nregister(G, 'G')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { xlink } from '../modules/core/namespaces.js'\r\nimport Container from './Container.js'\r\n\r\nexport default class A extends Container {\r\n  constructor (node) {\r\n    super(nodeOrNew('a', node), node)\r\n  }\r\n\r\n  // Link url\r\n  to (url) {\r\n    return this.attr('href', url, xlink)\r\n  }\r\n\r\n  // Link target attribute\r\n  target (target) {\r\n    return this.attr('target', target)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a hyperlink element\r\n    link: wrapWithAttrCheck(function (url) {\r\n      return this.put(new A()).to(url)\r\n    })\r\n  },\r\n  Element: {\r\n    // Create a hyperlink element\r\n    linkTo: function (url) {\r\n      var link = new A()\r\n\r\n      if (typeof url === 'function') {\r\n        url.call(link, link)\r\n      } else {\r\n        link.to(url)\r\n      }\r\n\r\n      return this.parent().put(link).put(this)\r\n    }\r\n  }\r\n})\r\n\r\nregister(A, 'A')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport Container from './Container.js'\r\nimport baseFind from '../modules/core/selector.js'\r\n\r\nexport default class Mask extends Container {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('mask', node), node)\r\n  }\r\n\r\n  // Unmask all masked elements and remove itself\r\n  remove () {\r\n    // unmask all targets\r\n    this.targets().forEach(function (el) {\r\n      el.unmask()\r\n    })\r\n\r\n    // remove mask from parent\r\n    return super.remove()\r\n  }\r\n\r\n  targets () {\r\n    return baseFind('svg [mask*=\"' + this.id() + '\"]')\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    mask: wrapWithAttrCheck(function () {\r\n      return this.defs().put(new Mask())\r\n    })\r\n  },\r\n  Element: {\r\n    // Distribute mask to svg element\r\n    maskWith (element) {\r\n      // use given mask or create a new one\r\n      var masker = element instanceof Mask\r\n        ? element\r\n        : this.parent().mask().add(element)\r\n\r\n      // apply mask\r\n      return this.attr('mask', 'url(\"#' + masker.id() + '\")')\r\n    },\r\n\r\n    // Unmask element\r\n    unmask () {\r\n      return this.attr('mask', null)\r\n    },\r\n\r\n    masker () {\r\n      return this.reference('mask')\r\n    }\r\n  }\r\n})\r\n\r\nregister(Mask, 'Mask')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { unCamelCase } from '../utils/utils.js'\r\nimport Element from './Element.js'\r\n\r\nfunction cssRule (selector, rule) {\r\n  if (!selector) return ''\r\n  if (!rule) return selector\r\n\r\n  var ret = selector + '{'\r\n\r\n  for (var i in rule) {\r\n    ret += unCamelCase(i) + ':' + rule[i] + ';'\r\n  }\r\n\r\n  ret += '}'\r\n\r\n  return ret\r\n}\r\n\r\nexport default class Style extends Element {\r\n  constructor (node) {\r\n    super(nodeOrNew('style', node), node)\r\n  }\r\n\r\n  addText (w = '') {\r\n    this.node.textContent += w\r\n    return this\r\n  }\r\n\r\n  font (name, src, params = {}) {\r\n    return this.rule('@font-face', {\r\n      fontFamily: name,\r\n      src: src,\r\n      ...params\r\n    })\r\n  }\r\n\r\n  rule (selector, obj) {\r\n    return this.addText(cssRule(selector, obj))\r\n  }\r\n}\r\n\r\nregisterMethods('Dom', {\r\n  style: wrapWithAttrCheck(function (selector, obj) {\r\n    return this.put(new Style()).rule(selector, obj)\r\n  }),\r\n  fontface: wrapWithAttrCheck(function (name, src, params) {\r\n    return this.put(new Style()).font(name, src, params)\r\n  })\r\n})\r\n\r\nregister(Style, 'Style')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { xlink } from '../modules/core/namespaces.js'\r\nimport Path from './Path.js'\r\nimport PathArray from '../types/PathArray.js'\r\nimport Text from './Text.js'\r\nimport baseFind from '../modules/core/selector.js'\r\n\r\nexport default class TextPath extends Text {\r\n  // Initialize node\r\n  constructor (node) {\r\n    super(nodeOrNew('textPath', node), node)\r\n  }\r\n\r\n  // return the array of the path track element\r\n  array () {\r\n    var track = this.track()\r\n\r\n    return track ? track.array() : null\r\n  }\r\n\r\n  // Plot path if any\r\n  plot (d) {\r\n    var track = this.track()\r\n    var pathArray = null\r\n\r\n    if (track) {\r\n      pathArray = track.plot(d)\r\n    }\r\n\r\n    return (d == null) ? pathArray : this\r\n  }\r\n\r\n  // Get the path element\r\n  track () {\r\n    return this.reference('href')\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    textPath: wrapWithAttrCheck(function (text, path) {\r\n      // Convert text to instance if needed\r\n      if (!(text instanceof Text)) {\r\n        text = this.text(text)\r\n      }\r\n\r\n      return text.path(path)\r\n    })\r\n  },\r\n  Text: {\r\n    // Create path for text to run on\r\n    path: wrapWithAttrCheck(function (track, importNodes = true) {\r\n      var textPath = new TextPath()\r\n\r\n      // if track is a path, reuse it\r\n      if (!(track instanceof Path)) {\r\n        // create path element\r\n        track = this.defs().path(track)\r\n      }\r\n\r\n      // link textPath to path and add content\r\n      textPath.attr('href', '#' + track, xlink)\r\n\r\n      // Transplant all nodes from text to textPath\r\n      let node\r\n      if (importNodes) {\r\n        while ((node = this.node.firstChild)) {\r\n          textPath.node.appendChild(node)\r\n        }\r\n      }\r\n\r\n      // add textPath element as child node and return textPath\r\n      return this.put(textPath)\r\n    }),\r\n\r\n    // Get the textPath children\r\n    textPath () {\r\n      return this.findOne('textPath')\r\n    }\r\n  },\r\n  Path: {\r\n    // creates a textPath from this path\r\n    text: wrapWithAttrCheck(function (text) {\r\n      // Convert text to instance if needed\r\n      if (!(text instanceof Text)) {\r\n        text = new Text().addTo(this.parent()).text(text)\r\n      }\r\n\r\n      // Create textPath from text and path and return\r\n      return text.path(this)\r\n    }),\r\n\r\n    targets () {\r\n      return baseFind('svg [href*=\"' + this.id() + '\"]')\r\n    }\r\n  }\r\n})\r\n\r\nTextPath.prototype.MorphArray = PathArray\r\nregister(TextPath, 'TextPath')\r\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\r\nimport { registerMethods } from '../utils/methods.js'\r\nimport { xlink } from '../modules/core/namespaces.js'\r\nimport Shape from './Shape.js'\r\n\r\nexport default class Use extends Shape {\r\n  constructor (node) {\r\n    super(nodeOrNew('use', node), node)\r\n  }\r\n\r\n  // Use element as a reference\r\n  element (element, file) {\r\n    // Set lined element\r\n    return this.attr('href', (file || '') + '#' + element, xlink)\r\n  }\r\n}\r\n\r\nregisterMethods({\r\n  Container: {\r\n    // Create a use element\r\n    use: wrapWithAttrCheck(function (element, file) {\r\n      return this.put(new Use()).element(element, file)\r\n    })\r\n  }\r\n})\r\n\r\nregister(Use, 'Use')\r\n","/* Optional Modules */\r\nimport './modules/optional/arrange.js'\r\nimport './modules/optional/class.js'\r\nimport './modules/optional/css.js'\r\nimport './modules/optional/data.js'\r\nimport './modules/optional/memory.js'\r\nimport './modules/optional/sugar.js'\r\nimport './modules/optional/transform.js'\r\n\r\nimport { extend, makeInstance } from './utils/adopter.js'\r\nimport { getMethodNames, getMethodsFor } from './utils/methods.js'\r\nimport Box from './types/Box.js'\r\nimport Circle from './elements/Circle.js'\r\nimport Color from './types/Color.js'\r\nimport Container from './elements/Container.js'\r\nimport Defs from './elements/Defs.js'\r\nimport Dom from './elements/Dom.js'\r\nimport Element from './elements/Element.js'\r\nimport Ellipse from './elements/Ellipse.js'\r\nimport EventTarget from './types/EventTarget.js'\r\nimport Gradient from './elements/Gradient.js'\r\nimport Image from './elements/Image.js'\r\nimport Line from './elements/Line.js'\r\nimport List from './types/List.js'\r\nimport Marker from './elements/Marker.js'\r\nimport Matrix from './types/Matrix.js'\r\nimport Morphable, {\r\n  NonMorphable,\r\n  ObjectBag,\r\n  TransformBag,\r\n  makeMorphable,\r\n  registerMorphableType\r\n} from './animation/Morphable.js'\r\nimport Path from './elements/Path.js'\r\nimport PathArray from './types/PathArray.js'\r\nimport Pattern from './elements/Pattern.js'\r\nimport PointArray from './types/PointArray.js'\r\nimport Polygon from './elements/Polygon.js'\r\nimport Polyline from './elements/Polyline.js'\r\nimport Rect from './elements/Rect.js'\r\nimport Runner from './animation/Runner.js'\r\nimport SVGArray from './types/SVGArray.js'\r\nimport SVGNumber from './types/SVGNumber.js'\r\nimport Shape from './elements/Shape.js'\r\nimport Svg from './elements/Svg.js'\r\nimport Symbol from './elements/Symbol.js'\r\nimport Text from './elements/Text.js'\r\nimport Tspan from './elements/Tspan.js'\r\nimport * as defaults from './modules/core/defaults.js'\r\nimport * as utils from './utils/utils.js'\r\nimport * as namespaces from './modules/core/namespaces.js'\r\nimport * as regex from './modules/core/regex.js'\r\n\r\nexport {\r\n  Morphable,\r\n  registerMorphableType,\r\n  makeMorphable,\r\n  TransformBag,\r\n  ObjectBag,\r\n  NonMorphable\r\n}\r\n\r\nexport { defaults, utils, namespaces, regex }\r\nexport const SVG = makeInstance\r\nexport { default as parser } from './modules/core/parser.js'\r\nexport { default as find } from './modules/core/selector.js'\r\nexport * from './modules/core/event.js'\r\nexport * from './utils/adopter.js'\r\nexport { registerWindow } from './utils/window.js'\r\n\r\n/* Animation Modules */\r\nexport { default as Animator } from './animation/Animator.js'\r\nexport { Controller, Ease, PID, Spring, easing } from './animation/Controller.js'\r\nexport { default as Queue } from './animation/Queue.js'\r\nexport { default as Runner } from './animation/Runner.js'\r\nexport { default as Timeline } from './animation/Timeline.js'\r\n\r\n/* Types */\r\nexport { default as Array } from './types/SVGArray.js'\r\nexport { default as Box } from './types/Box.js'\r\nexport { default as Color } from './types/Color.js'\r\nexport { default as EventTarget } from './types/EventTarget.js'\r\nexport { default as Matrix } from './types/Matrix.js'\r\nexport { default as Number } from './types/SVGNumber.js'\r\nexport { default as PathArray } from './types/PathArray.js'\r\nexport { default as Point } from './types/Point.js'\r\nexport { default as PointArray } from './types/PointArray.js'\r\nexport { default as List } from './types/List.js'\r\n\r\n/* Elements */\r\nexport { default as Circle } from './elements/Circle.js'\r\nexport { default as ClipPath } from './elements/ClipPath.js'\r\nexport { default as Container } from './elements/Container.js'\r\nexport { default as Defs } from './elements/Defs.js'\r\nexport { default as Dom } from './elements/Dom.js'\r\nexport { default as Element } from './elements/Element.js'\r\nexport { default as Ellipse } from './elements/Ellipse.js'\r\nexport { default as ForeignObject } from './elements/ForeignObject.js'\r\nexport { default as Gradient } from './elements/Gradient.js'\r\nexport { default as G } from './elements/G.js'\r\nexport { default as A } from './elements/A.js'\r\nexport { default as Image } from './elements/Image.js'\r\nexport { default as Line } from './elements/Line.js'\r\nexport { default as Marker } from './elements/Marker.js'\r\nexport { default as Mask } from './elements/Mask.js'\r\nexport { default as Path } from './elements/Path.js'\r\nexport { default as Pattern } from './elements/Pattern.js'\r\nexport { default as Polygon } from './elements/Polygon.js'\r\nexport { default as Polyline } from './elements/Polyline.js'\r\nexport { default as Rect } from './elements/Rect.js'\r\nexport { default as Shape } from './elements/Shape.js'\r\nexport { default as Stop } from './elements/Stop.js'\r\nexport { default as Style } from './elements/Style.js'\r\nexport { default as Svg } from './elements/Svg.js'\r\nexport { default as Symbol } from './elements/Symbol.js'\r\nexport { default as Text } from './elements/Text.js'\r\nexport { default as TextPath } from './elements/TextPath.js'\r\nexport { default as Tspan } from './elements/Tspan.js'\r\nexport { default as Use } from './elements/Use.js'\r\n\r\nextend([\r\n  Svg,\r\n  Symbol,\r\n  Image,\r\n  Pattern,\r\n  Marker\r\n], getMethodsFor('viewbox'))\r\n\r\nextend([\r\n  Line,\r\n  Polyline,\r\n  Polygon,\r\n  Path\r\n], getMethodsFor('marker'))\r\n\r\nextend(Text, getMethodsFor('Text'))\r\nextend(Path, getMethodsFor('Path'))\r\n\r\nextend(Defs, getMethodsFor('Defs'))\r\n\r\nextend([\r\n  Text,\r\n  Tspan\r\n], getMethodsFor('Tspan'))\r\n\r\nextend([\r\n  Rect,\r\n  Ellipse,\r\n  Circle,\r\n  Gradient\r\n], getMethodsFor('radius'))\r\n\r\nextend(EventTarget, getMethodsFor('EventTarget'))\r\nextend(Dom, getMethodsFor('Dom'))\r\nextend(Element, getMethodsFor('Element'))\r\nextend(Shape, getMethodsFor('Shape'))\r\n// extend(Element, getConstructor('Memory'))\r\nextend(Container, getMethodsFor('Container'))\r\n\r\nextend(Runner, getMethodsFor('Runner'))\r\n\r\nList.extend(getMethodNames())\r\n\r\nregisterMorphableType([\r\n  SVGNumber,\r\n  Color,\r\n  Box,\r\n  Matrix,\r\n  SVGArray,\r\n  PointArray,\r\n  PathArray\r\n])\r\n\r\nmakeMorphable()\r\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nvar ExpansionPanelContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  ExpansionPanelContext.displayName = 'ExpansionPanelContext';\n}\n\nexport default ExpansionPanelContext;","import React from 'react';\nimport {useDropzone} from 'react-dropzone';\nimport {DropzoneContainer} from '../styled';\n\nexport function StyledDropzone(props: any) {\n    const {getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject} = useDropzone({\n        accept: 'image/*',\n        onDrop: (acceptedFiles) => {\n            props.onDrop(acceptedFiles[0]);\n        }\n    });\n\n    return (\n        <div className=\"container\">\n            <DropzoneContainer {...getRootProps({isDragActive, isDragAccept, isDragReject})}>\n                <input {...getInputProps()} />\n                <p>Drag 'n' drop some files here, or click to select files</p>\n            </DropzoneContainer>\n        </div>\n    );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","import {CardActionArea} from '@material-ui/core';\nimport CardContent from '@material-ui/core/CardContent';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport * as React from 'react';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\nimport {MutationTuple} from '@apollo/react-hooks';\nimport {CardHeaderWithMenu} from '../../../shared/components/menus/CardHeaderWithMenu';\nimport {StyledCard, StyledCardMedia} from '../../../shared/components/styled';\n\ninterface PreviewComponentProps {\n    uuid: string;\n    imageUuid: string;\n    title?: string;\n    mode: ImageType;\n    deleteMutation: MutationTuple<any, any>;\n    url: string;\n    children: (setOpen: (a: boolean) => void, open: boolean, params: any) => React.ReactNode;\n}\n\nexport function ImagePreview(props: PreviewComponentProps) {\n    const [open, setOpen] = React.useState(false);\n    const [deleteImage] = props.deleteMutation;\n\n    const handleRemove = async () => {\n        await deleteImage({\n            variables: {\n                mode: props.mode,\n                imageId: props.imageUuid,\n                uuid: props.uuid\n            }\n        });\n    };\n\n    return (\n        <StyledCard>\n            <CardHeaderWithMenu title={props.title}>\n                <MenuItem onClick={handleRemove}>Удалить</MenuItem>\n            </CardHeaderWithMenu>\n            <CardActionArea\n                onClick={() => {\n                    setOpen(true);\n                }}\n            >\n                <StyledCardMedia image={props.url} />\n                <CardContent>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" />\n                </CardContent>\n            </CardActionArea>\n            {props.children(setOpen, open, {uuid: props.uuid, mode: props.mode})}\n        </StyledCard>\n    );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectableGroup_1 = require(\"./SelectableGroup\");\nexports.SelectableGroup = SelectableGroup_1.SelectableGroup;\nvar CreateSelectable_1 = require(\"./CreateSelectable\");\nexports.createSelectable = CreateSelectable_1.createSelectable;\nvar SelectAll_1 = require(\"./SelectAll\");\nexports.SelectAll = SelectAll_1.SelectAll;\nvar DeselectAll_1 = require(\"./DeselectAll\");\nexports.DeselectAll = DeselectAll_1.DeselectAll;\nif (process.env.NODE_ENV === 'development') {\n    if (typeof Map !== 'function' ||\n        typeof Set !== 'function' ||\n        typeof Array.from !== 'function' ||\n        typeof Array.isArray !== 'function' ||\n        typeof Object.assign !== 'function') {\n        throw new Error(\"\\n      React-Selectable-Fast requires Map, Set, Array.from,\\n      Array.isArray, and Object.assign to exist.\\n      Use a polyfill to provide these for older browsers.\\n    \");\n    }\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nexports.SelectableGroupContext = react_1.default.createContext({\n    selectable: {\n        register: function (_) { },\n        unregister: function (_) { },\n        selectAll: utils_1.noop,\n        clearSelection: utils_1.noop,\n        getScrolledContainer: function () { return null; },\n    },\n});\n//# sourceMappingURL=SelectableGroup.context.js.map","import Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n// @ts-ignore\nimport React, {Fragment, useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport {StyledDropzone} from '../../../shared/components/dropzone/Dropzone';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\nimport {MutationTuple} from '@apollo/react-hooks/lib/types';\n\nconst EditorContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nexport interface ImageDialogProps {\n    setOpen: (state: boolean) => void;\n    open: boolean;\n    downloadLink?: string;\n    params: {\n        uuid: string;\n        mode: ImageType;\n    };\n    mutation: MutationTuple<any, any>;\n}\n\nconst ImageContainer = styled.div`\n    max-width: 720px;\n    align-self: center;\n`;\nconst StyledImage = styled.img`\n    max-width: 100%;\n`;\n\nexport function PhotoDialog({setOpen, open, params, downloadLink, mutation}: ImageDialogProps) {\n    const [image, setImage] = useState<any>();\n    const [name, setName] = useState<any>();\n    const [previewUrl, setPreviewUrl] = useState(downloadLink);\n\n    useEffect(() => {\n        if (open) {\n            setPreviewUrl(downloadLink);\n        }\n        // eslint-disable-next-line\n    }, [open]);\n    const {uuid, mode} = params;\n\n    const [uploadFile, {loading}] = mutation;\n\n    const handleClose = () => {\n        setTimeout(() => {\n            setImage(undefined);\n            setPreviewUrl(undefined);\n        }, 200);\n        setOpen(false);\n    };\n\n    const handleDrop = (dropped: any) => {\n        setImage(dropped);\n        const reader = new FileReader();\n        reader.readAsDataURL(dropped);\n\n        reader.onloadend = (e) => {\n            setPreviewUrl(reader.result as string);\n        };\n    };\n\n    const onSave = async () => {\n        await uploadFile({\n            variables: {\n                file: image,\n                uuid,\n                mode,\n                name\n            }\n        });\n        handleClose();\n    };\n    return (\n        <Dialog open={open} aria-labelledby=\"form-dialog-title\" fullWidth={true} maxWidth={'md'}>\n            <DialogTitle id=\"form-dialog-title\">Добавить изображение</DialogTitle>\n            <DialogContent>\n                {!previewUrl && <StyledDropzone onDrop={handleDrop} />}\n                {previewUrl && (\n                    <Fragment>\n                        <EditorContainer>\n                            <ImageContainer>\n                                <StyledImage src={previewUrl} />\n                            </ImageContainer>\n                            <div>\n                                <TextField\n                                    label=\"Название\"\n                                    margin=\"normal\"\n                                    value={name}\n                                    onChange={(e) => {\n                                        setName(e.target.value);\n                                    }}\n                                    fullWidth={true}\n                                    variant=\"outlined\"\n                                />\n                            </div>\n                        </EditorContainer>\n                    </Fragment>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Отмена\n                </Button>\n                <Button variant=\"contained\" disabled={!image || loading || !name} onClick={onSave} color=\"primary\">\n                    {loading && <CircularProgress size={30} thickness={5} />}\n                    Сохранить\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import {MutationTuple} from '@apollo/react-hooks/lib/types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n// @ts-ignore\nimport {Pannellum} from 'pannellum-react';\nimport React, {Fragment, useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport {StyledDropzone} from '../../../shared/components/dropzone/Dropzone';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\n\nconst EditorContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nexport interface ImageDialogProps {\n    setOpen: (state: boolean) => void;\n    open: boolean;\n    downloadLink?: string;\n    params: {\n        uuid: string;\n        mode: ImageType;\n    };\n    mutation: MutationTuple<any, any>;\n}\n\nconst panoramaProps = {\n    haov: 180,\n    minYaw: -90,\n    maxYaw: 90\n};\n\nexport function VRDialog({setOpen, open, params, downloadLink, mutation}: ImageDialogProps) {\n    const [image, setImage] = useState<any>();\n    const [name, setName] = useState<any>();\n    const [previewUrl, setPreviewUrl] = useState(downloadLink);\n    const {uuid, mode} = params;\n\n    useEffect(() => {\n        if (open) {\n            setPreviewUrl(downloadLink);\n        }\n        // eslint-disable-next-line\n    }, [open]);\n\n    const [uploadFile, {loading}] = mutation;\n\n    const handleClose = () => {\n        setTimeout(() => {\n            setImage(undefined);\n            setPreviewUrl(undefined);\n            setName(undefined);\n        }, 200);\n        setOpen(false);\n    };\n\n    const handleDrop = (dropped: any) => {\n        setImage(dropped);\n        const reader = new FileReader();\n        reader.readAsDataURL(dropped);\n\n        reader.onloadend = (e) => {\n            setPreviewUrl(reader.result as string);\n        };\n    };\n\n    const onSave = async () => {\n        await uploadFile({\n            variables: {\n                file: image,\n                uuid,\n                mode,\n                name\n            }\n        });\n        handleClose();\n    };\n    const additionalProps = mode === ImageType.HALF_VR ? panoramaProps : {};\n    return (\n        <Dialog open={open} aria-labelledby=\"form-dialog-title\" fullWidth={true} maxWidth={'md'}>\n            <DialogTitle id=\"form-dialog-title\">Добавить изображение</DialogTitle>\n            <DialogContent>\n                {!previewUrl && <StyledDropzone onDrop={handleDrop} />}\n                {previewUrl && (\n                    <Fragment>\n                        <EditorContainer>\n                            <div>\n                                <Pannellum\n                                    width=\"100%\"\n                                    height=\"500px\"\n                                    image={previewUrl}\n                                    pitch={10}\n                                    yaw={180}\n                                    hfov={110}\n                                    autoLoad={true}\n                                    {...additionalProps}\n                                />\n                            </div>\n                            <div>\n                                <TextField\n                                    label=\"Название\"\n                                    margin=\"normal\"\n                                    value={name}\n                                    onChange={(e) => {\n                                        setName(e.target.value);\n                                    }}\n                                    fullWidth={true}\n                                    variant=\"outlined\"\n                                />\n                            </div>\n                        </EditorContainer>\n                    </Fragment>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Отмена\n                </Button>\n                <Button variant=\"contained\" disabled={!image || loading || !name} onClick={onSave} color=\"primary\">\n                    {loading && <CircularProgress size={30} thickness={5} />}\n                    Сохранить\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Typography from '@material-ui/core/Typography';\nimport EditIcon from '@material-ui/icons/Edit';\nimport React, {Fragment} from 'react';\nimport styled from 'styled-components';\nimport {StyledLink} from '../styled';\n\nconst TitleContainer = styled.div`\n    display: inline-flex;\n    align-items: center;\n\n    ${StyledLink} {\n        display: inline-flex;\n        margin-left: 4px;\n    }\n`;\n\ninterface TitleWithEditIconProps {\n    editUrl: string;\n    title: string;\n    children?: any;\n}\n\nexport function TitleWithEditIcon({editUrl, title, children}: TitleWithEditIconProps) {\n    return (\n        <Fragment>\n            <Typography variant=\"h5\" gutterBottom={true}>\n                <TitleContainer>\n                    <div>{title}</div>\n                    <StyledLink to={editUrl}>\n                        <EditIcon color=\"primary\" />\n                    </StyledLink>\n                </TitleContainer>\n            </Typography>\n            {children}\n        </Fragment>\n    );\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.noop = function () { };\n__export(require(\"./castTouchToMouseEvent\"));\n__export(require(\"./detectMouseButton\"));\n__export(require(\"./doObjectsCollide\"));\n__export(require(\"./getBoundsForNode\"));\n__export(require(\"./nodeInRoot\"));\n//# sourceMappingURL=index.js.map","import {MutationTuple} from '@apollo/react-hooks/lib/types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport 'cropperjs/dist/cropper.css';\nimport React, {Fragment, useState} from 'react';\nimport Cropper from 'react-cropper';\nimport styled from 'styled-components';\nimport {StyledDropzone} from '../../../shared/components/dropzone/Dropzone';\nimport {ImageType} from '../../../shared/types/apartmentComplex.types';\n\nconst EditorContainer = styled.div`\n    display: flex;\n    justify-content: center;\n`;\nconst blobToFile = (theBlob: Blob, fileName: string): File => {\n    return new File([theBlob], fileName);\n};\n\nexport interface ImageDialogProps {\n    setOpen: (state: boolean) => void;\n    open: boolean;\n    params: {\n        uuid: string;\n        mode: ImageType;\n    };\n    mutation: MutationTuple<any, any>;\n}\n\nexport function ImageDialog({setOpen, open, params, mutation}: ImageDialogProps) {\n    const [image, setImage] = useState<any>();\n\n    const {uuid, mode} = params;\n\n    const [uploadFile, {loading}] = mutation;\n    const editor = React.createRef<any>();\n\n    const handleClose = () => {\n        setImage(undefined);\n        setOpen(false);\n    };\n\n    const handleDrop = (dropped: any) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            setImage(reader.result);\n        };\n        reader.readAsDataURL(dropped);\n    };\n\n    const onSave = async () => {\n        if (editor) {\n            const canvasScaled = editor.current.getCroppedCanvas();\n            const blob = await fetch(canvasScaled.toDataURL()).then((res) => res.blob());\n            const file = blobToFile(blob, image?.name);\n            await uploadFile({\n                variables: {\n                    file,\n                    uuid,\n                    mode\n                }\n            });\n            handleClose();\n        }\n    };\n    return (\n        <Dialog open={open} aria-labelledby=\"form-dialog-title\" fullWidth={true} maxWidth={'md'}>\n            <DialogTitle id=\"form-dialog-title\">Добавить изображение</DialogTitle>\n            <DialogContent>\n                {!image && <StyledDropzone onDrop={handleDrop} />}\n                {image && (\n                    <Fragment>\n                        <EditorContainer>\n                            <Cropper\n                                dragMode={'move'}\n                                src={image}\n                                ready={() => {\n                                    editor.current.zoomTo(1);\n                                }}\n                                style={{height: 400, width: '100%'}}\n                                aspectRatio={16 / 9}\n                                preview=\".img-preview\"\n                                ref={editor}\n                            />\n                        </EditorContainer>\n                        <div>\n                            <Typography id=\"discrete-slider\" gutterBottom={true}>\n                                Размер\n                            </Typography>\n                            <Slider\n                                defaultValue={1}\n                                onChange={(e, value: any) => {\n                                    editor.current.zoomTo(value);\n                                }}\n                                aria-labelledby=\"discrete-slider\"\n                                valueLabelDisplay=\"auto\"\n                                step={0.1}\n                                marks={true}\n                                min={0.1}\n                                max={3}\n                            />\n                        </div>\n                        <div>\n                            <Typography id=\"discrete-slider\" gutterBottom={true}>\n                                Выровнять\n                            </Typography>\n                            <Slider\n                                defaultValue={1}\n                                onChange={(e, value: any) => {\n                                    editor.current.rotateTo(value);\n                                }}\n                                aria-labelledby=\"discrete-slider\"\n                                valueLabelDisplay=\"auto\"\n                                step={1}\n                                marks={true}\n                                min={0}\n                                max={360}\n                            />\n                        </div>\n                    </Fragment>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Отмена\n                </Button>\n                <Button variant=\"contained\" disabled={!image} onClick={onSave} color=\"primary\">\n                    {loading && <CircularProgress size={30} thickness={5} />}\n                    Сохранить\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExiting\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n\n  var handleEnter = function handleEnter(node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleEntering = function handleEntering(node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  };\n\n  var handleEntered = function handleEntered(node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  var handleExiting = function handleExiting(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  };\n\n  var addEndListener = function addEndListener(_, next) {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Transition, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: ref\n    }, childProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    padding: '8px 24px 24px'\n  }\n};\nvar ExpansionPanelDetails = React.forwardRef(function ExpansionPanelDetails(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanelDetails.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the expansion panel details.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanelDetails'\n})(ExpansionPanelDetails);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport ButtonBase from '../ButtonBase';\nimport IconButton from '../IconButton';\nimport withStyles from '../styles/withStyles';\nimport ExpansionPanelContext from '../ExpansionPanel/ExpansionPanelContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      minHeight: 8 * 6,\n      transition: theme.transitions.create(['min-height', 'background-color'], transition),\n      padding: theme.spacing(0, 3),\n      '&:hover:not($disabled)': {\n        cursor: 'pointer'\n      },\n      '&$expanded': {\n        minHeight: 64\n      },\n      '&$focused': {\n        backgroundColor: theme.palette.grey[300]\n      },\n      '&$disabled': {\n        opacity: 0.38\n      }\n    },\n\n    /* Pseudo-class applied to the root element, children wrapper element and `IconButton` component if `expanded={true}`. */\n    expanded: {},\n\n    /* Pseudo-class applied to the root element if `focused={true}`. */\n    focused: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the children wrapper element. */\n    content: {\n      display: 'flex',\n      flexGrow: 1,\n      transition: theme.transitions.create(['margin'], transition),\n      margin: '12px 0',\n      '&$expanded': {\n        margin: '20px 0'\n      }\n    },\n\n    /* Styles applied to the `IconButton` component when `expandIcon` is supplied. */\n    expandIcon: {\n      transform: 'rotate(0deg)',\n      transition: theme.transitions.create('transform', transition),\n      '&:hover': {\n        // Disable the hover effect for the IconButton,\n        // because a hover effect should apply to the entire Expand button and\n        // not only to the IconButton.\n        backgroundColor: 'transparent'\n      },\n      '&$expanded': {\n        transform: 'rotate(180deg)'\n      }\n    }\n  };\n};\nvar ExpansionPanelSummary = React.forwardRef(function ExpansionPanelSummary(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      expandIcon = props.expandIcon,\n      IconButtonProps = props.IconButtonProps,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocusVisible = props.onFocusVisible,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"expandIcon\", \"IconButtonProps\", \"onBlur\", \"onClick\", \"onFocusVisible\"]);\n\n  var _React$useState = React.useState(false),\n      focusedState = _React$useState[0],\n      setFocusedState = _React$useState[1];\n\n  var handleFocusVisible = function handleFocusVisible(event) {\n    setFocusedState(true);\n\n    if (onFocusVisible) {\n      onFocusVisible(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    setFocusedState(false);\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var _React$useContext = React.useContext(ExpansionPanelContext),\n      _React$useContext$dis = _React$useContext.disabled,\n      disabled = _React$useContext$dis === void 0 ? false : _React$useContext$dis,\n      expanded = _React$useContext.expanded,\n      toggle = _React$useContext.toggle;\n\n  var handleChange = function handleChange(event) {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className, disabled && classes.disabled, expanded && classes.expanded, focusedState && classes.focused),\n    onFocusVisible: handleFocusVisible,\n    onBlur: handleBlur,\n    onClick: handleChange,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.content, expanded && classes.expanded)\n  }, children), expandIcon && /*#__PURE__*/React.createElement(IconButton, _extends({\n    className: clsx(classes.expandIcon, expanded && classes.expanded),\n    edge: \"end\",\n    component: \"div\",\n    tabIndex: null,\n    role: null,\n    \"aria-hidden\": true\n  }, IconButtonProps), expandIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanelSummary.propTypes = {\n  /**\n   * The content of the expansion panel summary.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * Props applied to the `IconButton` element wrapping the expand icon.\n   */\n  IconButtonProps: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocusVisible: PropTypes.func\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanelSummary'\n})(ExpansionPanelSummary);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport capitalize from '../utils/capitalize';\nimport withStyles from '../styles/withStyles';\nimport { elementTypeAcceptingRef } from '@material-ui/utils';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useForkRef from '../utils/useForkRef';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {},\n\n  /* Styles applied to the root element if `underline=\"none\"`. */\n  underlineNone: {\n    textDecoration: 'none'\n  },\n\n  /* Styles applied to the root element if `underline=\"hover\"`. */\n  underlineHover: {\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  },\n\n  /* Styles applied to the root element if `underline=\"always\"`. */\n  underlineAlways: {\n    textDecoration: 'underline'\n  },\n  // Same reset as ButtonBase.root\n\n  /* Styles applied to the root element if `component=\"button\"`. */\n  button: {\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    '-moz-appearance': 'none',\n    // Reset\n    '-webkit-appearance': 'none',\n    // Reset\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n\n    },\n    '&$focusVisible': {\n      outline: 'auto'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if the link is keyboard focused. */\n  focusVisible: {}\n};\nvar Link = React.forwardRef(function Link(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'a' : _props$component,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      TypographyClasses = props.TypographyClasses,\n      _props$underline = props.underline,\n      underline = _props$underline === void 0 ? 'hover' : _props$underline,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'inherit' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"onBlur\", \"onFocus\", \"TypographyClasses\", \"underline\", \"variant\"]);\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState = React.useState(false),\n      focusVisible = _React$useState[0],\n      setFocusVisible = _React$useState[1];\n\n  var handlerRef = useForkRef(ref, focusVisibleRef);\n\n  var handleBlur = function handleBlur(event) {\n    if (focusVisible) {\n      onBlurVisible();\n      setFocusVisible(false);\n    }\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    className: clsx(classes.root, classes[\"underline\".concat(capitalize(underline))], className, focusVisible && classes.focusVisible, component === 'button' && classes.button),\n    classes: TypographyClasses,\n    color: color,\n    component: component,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    ref: handlerRef,\n    variant: variant\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes = {\n  /**\n   * The content of the link.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the link.\n   */\n  color: PropTypes.oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * `classes` prop applied to the [`Typography`](/api/typography/) element.\n   */\n  TypographyClasses: PropTypes.object,\n\n  /**\n   * Controls when the link should have an underline.\n   */\n  underline: PropTypes.oneOf(['none', 'hover', 'always']),\n\n  /**\n   * Applies the theme typography styles.\n   */\n  variant: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiLink'\n})(Link);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nimport ExpansionPanelContext from './ExpansionPanelContext';\nimport useControlled from '../utils/useControlled';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      transition: theme.transitions.create(['margin'], transition),\n      '&:before': {\n        position: 'absolute',\n        left: 0,\n        top: -1,\n        right: 0,\n        height: 1,\n        content: '\"\"',\n        opacity: 1,\n        backgroundColor: theme.palette.divider,\n        transition: theme.transitions.create(['opacity', 'background-color'], transition)\n      },\n      '&:first-child': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$expanded': {\n        margin: '16px 0',\n        '&:first-child': {\n          marginTop: 0\n        },\n        '&:last-child': {\n          marginBottom: 0\n        },\n        '&:before': {\n          opacity: 0\n        }\n      },\n      '&$expanded + &': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: 0,\n      '&:first-child': {\n        borderTopLeftRadius: theme.shape.borderRadius,\n        borderTopRightRadius: theme.shape.borderRadius\n      },\n      '&:last-child': {\n        borderBottomLeftRadius: theme.shape.borderRadius,\n        borderBottomRightRadius: theme.shape.borderRadius,\n        // Fix a rendering issue on Edge\n        '@supports (-ms-ime-align: auto)': {\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `expanded={true}`. */\n    expanded: {},\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {}\n  };\n};\nvar ExpansionPanel = React.forwardRef(function ExpansionPanel(props, ref) {\n  var childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? false : _props$defaultExpande,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      expandedProp = props.expanded,\n      onChange = props.onChange,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultExpanded\", \"disabled\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _useControlled = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'ExpansionPanel',\n    state: 'expanded'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      expanded = _useControlled2[0],\n      setExpandedState = _useControlled2[1];\n\n  var handleChange = React.useCallback(function (event) {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n\n  var _React$Children$toArr = React.Children.toArray(childrenProp),\n      _React$Children$toArr2 = _toArray(_React$Children$toArr),\n      summary = _React$Children$toArr2[0],\n      children = _React$Children$toArr2.slice(1);\n\n  var contextValue = React.useMemo(function () {\n    return {\n      expanded: expanded,\n      disabled: disabled,\n      toggle: handleChange\n    };\n  }, [expanded, disabled, handleChange]);\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, disabled && classes.disabled, !square && classes.rounded),\n    ref: ref,\n    square: square\n  }, other), /*#__PURE__*/React.createElement(ExpansionPanelContext.Provider, {\n    value: contextValue\n  }, summary), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: expanded,\n    timeout: \"auto\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-labelledby\": summary.props.id,\n    id: summary.props['aria-controls'],\n    role: \"region\"\n  }, children)));\n});\nprocess.env.NODE_ENV !== \"production\" ? ExpansionPanel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the expansion panel.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, function (props) {\n    var summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"Material-UI: the ExpansionPanel doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (!React.isValidElement(summary)) {\n      return new Error('Material-UI: expected the first child of ExpansionPanel to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the panel by default.\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the panel will be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, expands the panel, otherwise collapse it.\n   * Setting this prop enables control over the panel.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {boolean} expanded The `expanded` state of the panel.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The component used for the collapse effect.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiExpansionPanel'\n})(ExpansionPanel);","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}"],"sourceRoot":""}