type ApartmentComplex {
    id: String
    type: ApartmentComplexType
    name: String
    city: City
    district: District
    class: ApartmentComplexClass
    levels: Int
    sections: Int
    price: Float
    beginDate: String
    endDate: String
    images: ApartmentComplexImage
    houses: [House]
}

input ApartmentComplexInput {
    type: KeyDisplayNameInput
    name: String
    city: KeyDisplayNameInput
    district: KeyDisplayNameInput
    class: KeyDisplayNameInput
    levels: Int
    sections: Int
    price: Float
    beginDate: String
    endDate: String
}

type SingleImage {
    uuid: String
    downloadUrl: String
}

type NamedImage {
    uuid: String
    downloadUrl: String
    name: String
}

type PreviewImage {
    uuid: String
    downloadUrl: String
    name: String
    previewImageUrl: String
}
type ApartmentComplexImage {
    CHESS_GRID: SingleImage
    SITE: SingleImage
    MOBILE: SingleImage
    VR: [PreviewImage]
    HALF_VR: [PreviewImage]
    PHOTO: [NamedImage]
}

type ImageMeta {
    downloadUrl: String
}
type ImageType {
    value: String
}

input ParsedFlatInput {
    house: String
    flatNumber: String
    price: String
    level: String
    section: String
    area: String
    status: String
    roomAmount: String
}

input HosueWithFlats {
    houseId: String
    flats: [ParsedFlatInput]
}
type ParsedFlat {
    house: String
    flatNumber: String
    price: String
    level: String
    section: String
    area: String
    status: String
    roomAmount: String
}
type ParsedApartmentComplex {
    house: String!
    flats: [ParsedFlat]
}

type Mutation {
    createApartmentComplex(apartmentComplex: ApartmentComplexInput!): ApartmentComplex
    addImage(file: Upload!, mode: String!, uuid: String!, name: String): ImageMeta!
    uploadApartmentComplexFile(file: Upload!): [ParsedApartmentComplex]
    deleteImage(mode: String!, uuid: String!, imageId: String!): String
    assignFlats(data: [HosueWithFlats]): String
}

extend type Query {
    getAllApartmentComplexes: [ApartmentComplex]
    getApartmentComplex(uuid: String!): ApartmentComplex
}
